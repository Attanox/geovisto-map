/*! For license information please see 2.3a06224c.chunk.js.LICENSE.txt */
(this["webpackJsonpgeovisto-map"]=this["webpackJsonpgeovisto-map"]||[]).push([[2],[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(59);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(5),i=n(60);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=n(18);function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(s.a)(t):e}function u(t){var e=Object(i.a)();return function(){var n,i=Object(r.a)(t);if(e){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},function(t,e,n){!function(t){"use strict";var e="1.7.1";function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function a(t,e,n){var r,i,o,s;return s=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(s,e),r=!0)}}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function l(){return!1}function h(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return c(t).split(/\s+/)}function p(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var g=/\{ *([\w_-]+) *\}/g;function y(t,e){return t.replace(g,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function m(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||b("RequestAnimationFrame")||w,M=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(!n||E!==w)return E.call(window,i(t,e));t.call(e)}function P(t){t&&M.call(window,t)}var C={extend:n,create:r,bind:i,lastId:o,stamp:s,throttle:a,wrapNum:u,falseFn:l,formatNum:h,trim:c,splitWords:f,setOptions:p,getParamString:d,template:y,isArray:_,indexOf:m,emptyImageUrl:v,requestFn:E,cancelFn:M,requestAnimFrame:S,cancelAnimFrame:P};function I(){}function k(t){if("undefined"!==typeof L&&L&&L.Mixin){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(k(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(r(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},I.include=function(t){return n(this.prototype,t),this},I.mergeOptions=function(t){return n(this.prototype.options,t),this},I.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var s=r[i];if(s.ctx===n&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var N=I.extend(T);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var A=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof O?t:_(t)?new O(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(t,e){return!t||t instanceof D?t:new D(t,e)}function F(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(t,e){return t instanceof F?t:new F(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function G(t,e,n){return t instanceof j?t:_(t)&&"object"!==typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},D.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new O(this.min.x,this.max.y)},getTopRight:function(){return new O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof O?R(t):z(t))instanceof D?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,s=i.y>=e.y&&r.y<=n.y;return o&&s},overlaps:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,s=i.y>e.y&&r.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},F.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof F))return t?this.extend(G(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new F(new j(e.lat-r,e.lng-i),new j(n.lat+r,n.lng+i))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof j||"lat"in t?G(t):B(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof F?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,s=i.lng>=e.lng&&r.lng<=n.lng;return o&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,s=i.lng>e.lng&&r.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=G(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+h(this.lat,t)+", "+h(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,G(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new D(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new F(new j(o.lat-r,o.lng-i),new j(s.lat-r,s.lng-i))}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(r)*Math.cos(i)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),V=6378137,H={R:V,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new O(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=V*Math.PI;return new D([-t,-t],[t,t])}()};function Z(t,e,n,r){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function Y(t,e,n,r){return new Z(t,e,n,r)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=n({},q,{code:"EPSG:3857",projection:H,transformation:function(){var t=.5/(Math.PI*H.R);return Y(t,.5,-t,.5)}()}),W=n({},X,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var n,r,i,o,s,a,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(s=t[n]).length;r<o;r++)u+=(r?"L":"M")+(a=s[r]).x+" "+a.y;u+=e?It?"z":"x":""}return u||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,tt=$&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Tt("webkit"),rt=Tt("android"),it=Tt("android 2")||Tt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=rt&&Tt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,ut=!et&&Tt("chrome"),lt=Tt("gecko")&&!nt&&!at&&!$,ht=!ut&&Tt("safari"),ct=Tt("phantom"),ft="OTransition"in J,pt=0===navigator.platform.indexOf("Win"),dt=$&&"transition"in J,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,yt="MozPerspective"in J,_t=!window.L_DISABLE_3D&&(dt||gt||yt)&&!ft&&!ct,mt="undefined"!==typeof orientation||Tt("mobile"),vt=mt&&nt,bt=mt&&gt,xt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!xt),Et=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Mt=mt&&at,Lt=mt&&lt,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(n){}return t}(),Ct=!!document.createElement("canvas").getContext,It=!(!document.createElementNS||!Q("svg").createSVGRect),kt=!It&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}();function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt={ie:$,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:st,opera:at,chrome:ut,gecko:lt,safari:ht,phantom:ct,opera12:ft,win:pt,ie3d:dt,webkit3d:gt,gecko3d:yt,any3d:_t,mobile:mt,mobileWebkit:vt,mobileWebkit3d:bt,msPointer:xt,pointer:wt,touch:Et,mobileOpera:Mt,mobileGecko:Lt,retina:St,passiveEvents:Pt,canvas:Ct,svg:It,vml:kt},Ot=xt?"MSPointerDown":"pointerdown",At=xt?"MSPointerMove":"pointermove",Rt=xt?"MSPointerUp":"pointerup",Dt=xt?"MSPointerCancel":"pointercancel",zt={},Ft=!1;function Bt(t,e,n,r){return"touchstart"===e?Gt(t,n,r):"touchmove"===e?Zt(t,n,r):"touchend"===e&&Yt(t,n,r),this}function jt(t,e,n){var r=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(Ot,r,!1):"touchmove"===e?t.removeEventListener(At,r,!1):"touchend"===e&&(t.removeEventListener(Rt,r,!1),t.removeEventListener(Dt,r,!1)),this}function Gt(t,e,n){var r=i((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&qe(t),Ht(t,e)}));t["_leaflet_touchstart"+n]=r,t.addEventListener(Ot,r,!1),Ft||(document.addEventListener(Ot,Ut,!0),document.addEventListener(At,qt,!0),document.addEventListener(Rt,Vt,!0),document.addEventListener(Dt,Vt,!0),Ft=!0)}function Ut(t){zt[t.pointerId]=t}function qt(t){zt[t.pointerId]&&(zt[t.pointerId]=t)}function Vt(t){delete zt[t.pointerId]}function Ht(t,e){for(var n in t.touches=[],zt)t.touches.push(zt[n]);t.changedTouches=[t],e(t)}function Zt(t,e,n){var r=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ht(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(At,r,!1)}function Yt(t,e,n){var r=function(t){Ht(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Rt,r,!1),t.addEventListener(Dt,r,!1)}var Xt=xt?"MSPointerDown":wt?"pointerdown":"touchstart",Wt=xt?"MSPointerUp":wt?"pointerup":"touchend",Qt="_leaflet_";function Kt(t,e,n){var r,i,o=!1,s=250;function a(t){if(wt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(r||e);i=t.touches?t.touches[0]:t,o=n>0&&n<=s,r=e}function u(t){if(o&&!i.cancelBubble){if(wt){if("mouse"===t.pointerType)return;var n,s,a={};for(s in i)n=i[s],a[s]=n&&n.bind?n.bind(i):n;i=a}i.type="dblclick",i.button=0,e(i),r=null}}return t[Qt+Xt+n]=a,t[Qt+Wt+n]=u,t[Qt+"dblclick"+n]=e,t.addEventListener(Xt,a,!!Pt&&{passive:!1}),t.addEventListener(Wt,u,!!Pt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Jt(t,e){var n=t[Qt+Xt+e],r=t[Qt+Wt+e],i=t[Qt+"dblclick"+e];return t.removeEventListener(Xt,n,!!Pt&&{passive:!1}),t.removeEventListener(Wt,r,!!Pt&&{passive:!1}),t.removeEventListener("dblclick",i,!1),this}var $t,te,ee,ne,re,ie=xe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oe=xe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),se="webkitTransition"===oe||"OTransition"===oe?oe+"End":"transitionend";function ae(t){return"string"===typeof t?document.getElementById(t):t}function ue(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function le(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function he(t){var e=t.parentNode;e&&e.removeChild(t)}function ce(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function fe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function pe(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function de(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ge(t,e){if(void 0!==t.classList)for(var n=f(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!de(t,e)){var o=me(t);_e(t,(o?o+" ":"")+e)}}function ye(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,c((" "+me(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ve(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&be(t,e)}function be(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function xe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function we(t,e,n){var r=e||new O(0,0);t.style[ie]=(dt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Ee(t,e){t._leaflet_pos=e,_t?we(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Me(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)$t=function(){Oe(window,"selectstart",qe)},te=function(){Re(window,"selectstart",qe)};else{var Le=xe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$t=function(){if(Le){var t=document.documentElement.style;ee=t[Le],t[Le]="none"}},te=function(){Le&&(document.documentElement.style[Le]=ee,ee=void 0)}}function Se(){Oe(window,"dragstart",qe)}function Pe(){Re(window,"dragstart",qe)}function Ce(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ie(),ne=t,re=t.style.outline,t.style.outline="none",Oe(window,"keydown",Ie))}function Ie(){ne&&(ne.style.outline=re,ne=void 0,re=void 0,Re(window,"keydown",Ie))}function ke(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Te(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ne={TRANSFORM:ie,TRANSITION:oe,TRANSITION_END:se,get:ae,getStyle:ue,create:le,remove:he,empty:ce,toFront:fe,toBack:pe,hasClass:de,addClass:ge,removeClass:ye,setClass:_e,getClass:me,setOpacity:ve,testProp:xe,setTransform:we,setPosition:Ee,getPosition:Me,disableTextSelection:$t,enableTextSelection:te,disableImageDrag:Se,enableImageDrag:Pe,preventOutline:Ce,restoreOutline:Ie,getSizedParentNode:ke,getScale:Te};function Oe(t,e,n,r){if("object"===typeof e)for(var i in e)Fe(t,i,e[i],n);else for(var o=0,s=(e=f(e)).length;o<s;o++)Fe(t,e[o],n,r);return this}var Ae="_leaflet_events";function Re(t,e,n,r){if("object"===typeof e)for(var i in e)Be(t,i,e[i],n);else if(e)for(var o=0,s=(e=f(e)).length;o<s;o++)Be(t,e[o],n,r);else{for(var a in t[Ae])Be(t,a,t[Ae][a]);delete t[Ae]}return this}function De(){if(wt)return!(et||ht)}var ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fe(t,e,n,r){var i=e+s(n)+(r?"_"+s(r):"");if(t[Ae]&&t[Ae][i])return this;var o=function(e){return n.call(r||t,e||window.event)},a=o;wt&&0===e.indexOf("touch")?Bt(t,e,o,i):Et&&"dblclick"===e&&!De()?Kt(t,o,i):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ze[e]||e,o,!!Pt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ke(t,e)&&a(e)},t.addEventListener(ze[e],o,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[Ae]=t[Ae]||{},t[Ae][i]=o}function Be(t,e,n,r){var i=e+s(n)+(r?"_"+s(r):""),o=t[Ae]&&t[Ae][i];if(!o)return this;wt&&0===e.indexOf("touch")?jt(t,e,i):Et&&"dblclick"===e&&!De()?Jt(t,i):"removeEventListener"in t?t.removeEventListener(ze[e]||e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o),t[Ae][i]=null}function je(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Qe(t),this}function Ge(t){return Fe(t,"wheel",je),this}function Ue(t){return Oe(t,"mousedown touchstart dblclick",je),Fe(t,"click",We),this}function qe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ve(t){return qe(t),je(t),this}function He(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Te(e),r=n.boundingClientRect;return new O((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ze=pt&&ut?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Ye(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Xe={};function We(t){Xe[t.type]=!0}function Qe(t){var e=Xe[t.type];return Xe[t.type]=!1,e}function Ke(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var Je={on:Oe,off:Re,stopPropagation:je,disableScrollPropagation:Ge,disableClickPropagation:Ue,preventDefault:qe,stop:Ve,getMousePosition:He,getWheelDelta:Ye,fakeStop:We,skipped:Qe,isExternalTarget:Ke,addListener:Oe,removeListener:Re},$e=N.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Me(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ee(this._el,n),this.fire("step")},_complete:function(){P(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),tn=N.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(G(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oe&&_t&&!Mt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Oe(this._proxy,se,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(G(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(o));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),i),a=this.project(t.getNorthEast(),i);return{center:this.unproject(s.add(a).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=R(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $e,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ge(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!_t)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),s=this._zoom;t=G(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),u=a*this.getZoomScale(s,e),l=i.distanceTo(r)||1,h=1.42,c=h*h;function f(t){var e=(u*u-a*a+(t?-1:1)*c*c*l*l)/(2*(t?u:a)*c*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return p(t)/d(t)}var y=f(0);function _(t){return a*(d(y)/d(y+h*t))}function m(t){return a*(d(y)*g(y+h*t)-p(y))/c}function v(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),x=(f(1)-y)/h,w=n.duration?1e3*n.duration:1e3*x*.8;function E(){var n=(Date.now()-b)/w,o=v(n)*x;n<=1?(this._flyToFrame=S(E,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(m(o)/l)),s),this.getScaleZoom(a/_(o),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=B(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,B(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getCenter(),o=this.project(i),s=this.project(t),a=this.getPixelBounds(),u=a.getSize().divideBy(2),l=z([a.min.add(n),a.max.subtract(r)]);if(!l.contains(s)){this._enforcingBounds=!0;var h=o.subtract(s),c=R(s.x+h.x,s.y+h.y);(s.x<l.min.x||s.x>l.max.x)&&(c.x=o.x-h.x,h.x>0?c.x+=u.x-n.x:c.x-=u.x-r.x),(s.y<l.min.y||s.y>l.max.y)&&(c.y=o.y-h.y,h.y>0?c.y+=u.y-n.y:c.y-=u.y-r.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"===typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),he(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(P(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)he(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=le("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new F(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(a,r),this.project(s,r)).getSize(),h=_t?this.options.zoomSnap:1,c=u.x/l.x,f=u.y/l.y,p=e?Math.max(c,f):Math.min(c,f);return r=this.getScaleZoom(p,r),h&&(r=Math.round(r/(h/100))*(h/100),r=e?Math.ceil(r/h)*h:Math.floor(r/h)*h),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(G(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(G(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(G(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(G(t),G(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ae(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Oe(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,ge(t,"leaflet-container"+(Et?" leaflet-touch":"")+(St?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ue(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(t.markerPane,"leaflet-zoom-hide"),ge(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Ee(this._mapPane,new O(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return P(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ee(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Re:Oe;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){P(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(i&&!Ke(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||a||i||!Ke(o,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Qe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ce(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e))).length){var o=r[0];"contextmenu"===e&&o.listens(e,!0)&&qe(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(e,s,!0),s.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==m(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Me(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(r.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new D(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new O(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=_t?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ie,n=this._proxy.style[e];we(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){he(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();we(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(S((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),S((function(){this._moveEnd(!0)}),this))}});function en(t,e){return new tn(t,e)}var nn=I.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ge(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(he(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),rn=function(t){return new nn(t)};tn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=le("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=le("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)he(this._controlCorners[t]);he(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var on=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return nn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ue(e),Ge(e);var r=this._section=le("section",t+"-list");n&&(this._map.on("click",this.collapse,this),rt||Oe(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=le("a",t+"-toggle",e);i.href="#",i.title="Layers",Et?(Oe(i,"click",Ve),Oe(i,"click",this.expand,this)):Oe(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=le("div",t+"-base",r),this._separator=le("div",t+"-separator",r),this._overlaysList=le("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+s(this),r),this._layerControlInputs.push(e),e.layerId=s(t.layer),Oe(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),sn=function(t,e,n){return new on(t,e,n)},an=nn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=le("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=le("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ue(o),Oe(o,"click",Ve),Oe(o,"click",i,this),Oe(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e),ye(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ge(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ge(this._zoomInButton,e)}});tn.mergeOptions({zoomControl:!0}),tn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new an,this.addControl(this.zoomControl))}));var un=function(t){return new an(t)},ln=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=le("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=le("div",e,n)),t.imperial&&(this._iScale=le("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(t){return new ln(t)},cn=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=le("div","leaflet-control-attribution"),Ue(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});tn.mergeOptions({attributionControl:!0}),tn.addInitHook((function(){this.options.attributionControl&&(new cn).addTo(this)}));var fn=function(t){return new cn(t)};nn.Layers=on,nn.Zoom=an,nn.Scale=ln,nn.Attribution=cn,rn.layers=sn,rn.zoom=un,rn.scale=hn,rn.attribution=fn;var pn=I.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pn.addTo=function(t,e){return t.addHandler(e,this),this};var dn,gn={Events:T},yn=Et?"touchstart mousedown":"mousedown",_n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},mn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},vn=N.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){p(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Oe(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vn._dragging===this&&this.finishDrag(),Re(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!de(this._element,"leaflet-zoom-anim")&&!(vn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(vn._dragging=this,this._preventOutline&&Ce(this._element),Se(),$t(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=ke(this._element);this._startPoint=new O(e.clientX,e.clientY),this._parentScale=Te(n),Oe(document,mn[t.type],this._onMove,this),Oe(document,_n[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qe(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Me(this._element).subtract(n),ge(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,P(this._animRequest),this._lastEvent=t,this._animRequest=S(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ee(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mn)Re(document,mn[t],this._onMove,this),Re(document,_n[t],this._onUp,this);Pe(),te(),this._moved&&this._moving&&(P(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,vn._dragging=!1}});function bn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=En(t=Ln(t,n),n)}function xn(t,e,n){return Math.sqrt(kn(t,e,n,!0))}function wn(t,e,n){return kn(t,e,n)}function En(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Mn(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}function Mn(t,e,n,r,i){var o,s,a,u=0;for(s=r+1;s<=i-1;s++)(a=kn(t[s],t[r],t[i],!0))>u&&(o=s,u=a);u>n&&(e[o]=1,Mn(t,e,n,r,o),Mn(t,e,n,o,i))}function Ln(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)In(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}function Sn(t,e,n,r,i){var o,s,a,u=r?dn:Cn(t,n),l=Cn(e,n);for(dn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=Cn(s=Pn(t,e,o=u||l,n,i),n),o===u?(t=s,u=a):(e=s,l=a)}}function Pn(t,e,n,r,i){var o,s,a=e.x-t.x,u=e.y-t.y,l=r.min,h=r.max;return 8&n?(o=t.x+a*(h.y-t.y)/u,s=h.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=h.x,s=t.y+u*(h.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new O(o,s,i)}function Cn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function In(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function kn(t,e,n,r){var i,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&((i=((t.x-o)*a+(t.y-s)*u)/l)>1?(o=n.x,s=n.y):i>0&&(o+=a*i,s+=u*i)),a=t.x-o,u=t.y-s,r?a*a+u*u:new O(o,s)}function Tn(t){return!_(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Nn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(t)}var On={simplify:bn,pointToSegmentDistance:xn,closestPointOnSegment:wn,clipSegment:Sn,_getEdgeIntersection:Pn,_getBitCode:Cn,_sqClosestPointOnSegment:kn,isFlat:Tn,_flat:Nn};function An(t,e,n){var r,i,o,s,a,u,l,h,c,f=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=Cn(t[i],e);for(s=0;s<4;s++){for(h=f[s],r=[],i=0,o=(l=t.length)-1;i<l;o=i++)a=t[i],u=t[o],a._code&h?u._code&h||((c=Pn(u,a,h,e,n))._code=Cn(c,e),r.push(c)):(u._code&h&&((c=Pn(u,a,h,e,n))._code=Cn(c,e),r.push(c)),r.push(a));t=r}return t}var Rn={clipPolygon:An},Dn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new D([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),s=o*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-s)/(1+s),o/2);return r=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),s=Math.exp(-t.y/r),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*n,t.x*n/r)}},Fn={LonLat:Dn,Mercator:zn,SphericalMercator:H},Bn=n({},q,{code:"EPSG:3395",projection:zn,transformation:function(){var t=.5/(Math.PI*zn.R);return Y(t,.5,-t,.5)}()}),jn=n({},q,{code:"EPSG:4326",projection:Dn,transformation:Y(1/180,1,-1/180,.5)}),Gn=n({},U,{projection:Dn,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=q,U.EPSG3395=Bn,U.EPSG3857=X,U.EPSG900913=W,U.EPSG4326=jn,U.Simple=Gn;var Un=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});tn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?_(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qn=Un.extend({initialize:function(t,e){var n,r;if(p(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Vn=function(t,e){return new qn(t,e)},Hn=qn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),qn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),qn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Zn=function(t,e){return new Hn(t,e)},Yn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return St&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Xn(t){return new Yn(t)}var Wn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Wn.imagePath||(Wn.imagePath=this._detectIconPath()),(this.options.imagePath||Wn.imagePath)+Yn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body),e=ue(t,"background-image")||ue(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Qn=pn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new vn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Me(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=z(s.min._subtract(a).add(i),s.max._subtract(a).subtract(i));if(!u.contains(o)){var l=R((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ee(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(P(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=Me(e._icon),i=e._map.layerPointToLatLng(r);n&&Ee(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){P(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Kn=Un.extend({options:{icon:new Wn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=G(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=G(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ge(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ge(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),he(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&he(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jn(t,e){return new Kn(t,e)}var $n=Un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),tr=$n.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=G(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=G(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return $n.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function er(t,e){return new tr(t,e)}var nr=tr.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),p(this,e),this._latlng=G(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:$n.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,o=this._mRadius/q.R/i,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,h=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(l*i))/(Math.cos(e*i)*Math.cos(l*i)))/i;(isNaN(h)||0===h)&&(h=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:u.x-n.project([l,t-h]).x,this._radiusY=u.y-s.y}else{var c=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}});function rr(t,e,n){return new nr(t,e,n)}var ir=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=kn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,h=u.length;l<h;l++){var c=o(t,e=u[l-1],n=u[l],!0);c<r&&(r=c,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,r=0;t<u-1;t++)if(i=a[t],o=a[t+1],(r+=n=i.distanceTo(o))>e)return s=(r-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-i.x),o.y-s*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=G(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Tn(t),r=0,i=t.length;r<i;r++)n?(e[r]=G(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._pxBounds=new D([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof j,s=t.length;if(o){for(i=[],r=0;r<s;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<s;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,s,a,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(a=this._rings[e]).length;n<o-1;n++)(s=Sn(a[n],a[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[r].push(s[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=bn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(s=(a=this._parts[n]).length)-1;r<s;i=r++)if((e||0!==r)&&xn(t,a[i],a[r])<=u)return!0;return!1}});function or(t,e){return new ir(t,e)}ir._flat=Nn;var sr=ir.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,s,a,u,l=this._rings[0],h=l.length;if(!h)return null;for(o=s=a=0,t=0,e=h-1;t<h;e=t++)n=l[t],r=l[e],i=n.y*r.x-r.y*n.x,s+=(n.x+r.x)*i,a+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=ir.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ir.prototype._setLatLngs.call(this,t),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new D(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=An(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(o=0,s=(u=(e=this._parts[i]).length)-1;o<u;s=o++)n=e[o],r=e[s],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||ir.prototype._containsPoint.call(this,t,!0)}});function ar(t,e){return new sr(t,e)}var ur=Hn.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=_(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=lr(t,o);return s?(s.feature=yr(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function lr(t,e){var n,r,i,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||cr;if(!a&&!s)return null;switch(s.type){case"Point":return hr(l,t,n=h(a),e);case"MultiPoint":for(i=0,o=a.length;i<o;i++)n=h(a[i]),u.push(hr(l,t,n,e));return new Hn(u);case"LineString":case"MultiLineString":return r=fr(a,"LineString"===s.type?0:1,h),new ir(r,e);case"Polygon":case"MultiPolygon":return r=fr(a,"Polygon"===s.type?1:2,h),new sr(r,e);case"GeometryCollection":for(i=0,o=s.geometries.length;i<o;i++){var c=lr({geometry:s.geometries[i],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new Hn(u);default:throw new Error("Invalid GeoJSON object.")}}function hr(t,e,n,r){return t?t(e,n):new Kn(n,r&&r.markersInheritOptions&&r)}function cr(t){return new j(t[1],t[0],t[2])}function fr(t,e,n){for(var r,i=[],o=0,s=t.length;o<s;o++)r=e?fr(t[o],e-1,n):(n||cr)(t[o]),i.push(r);return i}function pr(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function dr(t,e,n,r){for(var i=[],o=0,s=t.length;o<s;o++)i.push(e?dr(t[o],e-1,n,r):pr(t[o],r));return!e&&n&&i.push(i[0]),i}function gr(t,e){return t.feature?n({},t.feature,{geometry:e}):yr(e)}function yr(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var _r={toGeoJSON:function(t){return gr(this,{type:"Point",coordinates:pr(this.getLatLng(),t)})}};function mr(t,e){return new ur(t,e)}Kn.include(_r),nr.include(_r),tr.include(_r),ir.include({toGeoJSON:function(t){var e=!Tn(this._latlngs);return gr(this,{type:(e?"Multi":"")+"LineString",coordinates:dr(this._latlngs,e?1:0,!1,t)})}}),sr.include({toGeoJSON:function(t){var e=!Tn(this._latlngs),n=e&&!Tn(this._latlngs[0]),r=dr(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),gr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),qn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),gr(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=yr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?gr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var vr=mr,br=Un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){he(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&fe(this._image),this},bringToBack:function(){return this._map&&pe(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:le("img");ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;we(this._image,n,e)},_reset:function(){var t=this._image,e=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ee(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),xr=function(t,e,n){return new br(t,e,n)},wr=br.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:le("video");if(ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=le("source");a.src=this._url[s],e.appendChild(a)}}}});function Er(t,e,n){return new wr(t,e,n)}var Mr=br.extend({_initImage:function(){var t=this._image=this._url;ge(t,"leaflet-image-layer"),this._zoomAnimated&&ge(t,"leaflet-zoom-animated"),this.options.className&&ge(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});function Lr(t,e,n){return new Mr(t,e,n)}var Sr=Un.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ve(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(i(he,void 0,this._container),200)):he(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=G(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fe(this._container),this},bringToBack:function(){return this._map&&pe(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Un||(n=e,e=t),e instanceof Hn)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ee(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Pr=Sr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Sr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",je))},onRemove:function(t){Sr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",je))},getEvents:function(){var t=Sr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",t+"-content-wrapper",e);if(this._contentNode=le("div",t+"-content",n),Ue(e),Ge(this._contentNode),Oe(e,"contextmenu",je),this._tipContainer=le("div",t+"-tip-container",e),this._tip=le("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=le("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Oe(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",ge(t,o)):ye(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ee(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ue(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new O(this._containerLeft,-n-this._containerBottom);i._add(Me(this._container));var o=t.layerPointToContainerPoint(i),s=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||s),u=R(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,c=0;o.x+r+u.x>l.x&&(h=o.x+r-l.x+u.x),o.x-h-a.x<0&&(h=o.x-a.x),o.y+n+u.y>l.y&&(c=o.y+n-l.y+u.y),o.y-c-a.y<0&&(c=o.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),Ve(t)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cr=function(t,e){return new Pr(t,e)};tn.mergeOptions({closePopupOnClick:!0}),tn.include({openPopup:function(t,e,n){return t instanceof Pr||(t=new Pr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Un.include({bindPopup:function(t,e){return t instanceof Pr?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Pr(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ve(t),e instanceof $n?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ir=Sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Sr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Sr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Sr.prototype.getEvents.call(this);return Et&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),s=r.layerPointToContainerPoint(t),a=this.options.direction,u=i.offsetWidth,l=i.offsetHeight,h=R(this.options.offset),c=this._getAnchor();"top"===a?(e=u/2,n=l):"bottom"===a?(e=u/2,n=0):"center"===a?(e=u/2,n=l/2):"right"===a?(e=0,n=l/2):"left"===a?(e=u,n=l/2):s.x<o.x?(a="right",e=0,n=l/2):(a="left",e=u+2*(h.x+c.x),n=l/2),t=t.subtract(R(e,n,!0)).add(h).add(c),ye(i,"leaflet-tooltip-right"),ye(i,"leaflet-tooltip-left"),ye(i,"leaflet-tooltip-top"),ye(i,"leaflet-tooltip-bottom"),ge(i,"leaflet-tooltip-"+a),Ee(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ve(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kr=function(t,e){return new Ir(t,e)};tn.include({openTooltip:function(t,e,n){return t instanceof Ir||(t=new Ir(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Un.include({bindTooltip:function(t,e){return t instanceof Ir?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ir(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Et&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ge(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ye(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Tr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ce(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Nr(t){return new Tr(t)}Yn.Default=Wn;var Or=Un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),he(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){ve(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);ve(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(P(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(he(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),l(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)he(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new O(+i,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var s=new O(i,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();_t?we(t.el,i,r):Ee(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),s=[],a=this.options.keepBuffer,u=new D(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var h=this._tiles[l].coords;h.z===this._tileZoom&&u.contains(new O(h.x,h.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var c=i.min.y;c<=i.max.y;c++)for(var f=i.min.x;f<=i.max.x;f++){var p=new O(f,c);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new F(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(he(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ge(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,tt&&this.options.opacity<1&&ve(t,this.options.opacity),rt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&S(i(this._tileReady,this,t,null,o)),Ee(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ve(n.el,0),P(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ge(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new D(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ar(t){return new Or(t)}var Rr=Or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&St&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),rt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Oe(n,"load",i(this._tileOnLoad,this,e,n)),Oe(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:St?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return y(this._url,n(e,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=v,he(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",v),Or.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==v))return Or.prototype._tileReady.call(this,t,e,n)}});function Dr(t,e){return new Rr(t,e)}var zr=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=p(this,e)).detectRetina&&St?2:1,s=this.getTileSize();r.width=s.x*o,r.height=s.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Rr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=z(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,s=(this._wmsVersion>=1.3&&this._crs===jn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),a=Rr.prototype.getTileUrl.call(this,t);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Fr(t,e){return new zr(t,e)}Rr.WMS=zr,Dr.wms=Fr;var Br=Un.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=Me(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=i.multiplyBy(-n).add(r).add(i).subtract(s);_t?we(this._container,a,n):Ee(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new D(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jr=Br.extend({getEvents:function(){var t=Br.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Oe(t,"mousemove",this._onMouseMove,this),Oe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Oe(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){P(this._redrawRequest),delete this._ctx,he(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Br.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=St?2:1;Ee(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",St&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(r=0,i=s[n].length;r<i;r++)o=s[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(We(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ye(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(ge(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Gr(t){return Ct?new jr(t):null}var Ur=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),qr={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Br.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ur("shape");ge(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ur("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;he(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=Ur("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=_(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=Ur("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){fe(t._container)},_bringToBack:function(t){pe(t._container)}},Vr=kt?Ur:Q,Hr=Br.extend({getEvents:function(){var t=Br.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Vr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){he(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Br.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ee(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Vr("path");t.options.className&&ge(e,t.options.className),t.options.interactive&&ge(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){he(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){fe(t._path)},_bringToBack:function(t){pe(t._path)}});function Zr(t){return It||kt?new Hr(t):null}kt&&Hr.include(qr),tn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Gr(t)||Zr(t)}});var Yr=sr.extend({initialize:function(t,e){sr.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Xr(t,e){return new Yr(t,e)}Hr.create=Vr,Hr.pointsToPath=K,ur.geometryToLayer=lr,ur.coordsToLatLng=cr,ur.coordsToLatLngs=fr,ur.latLngToCoords=pr,ur.latLngsToCoords=dr,ur.getFeature=gr,ur.asFeature=yr,tn.mergeOptions({boxZoom:!0});var Wr=pn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){he(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),$t(),Se(),this._startPoint=this._map.mouseEventToContainerPoint(t),Oe(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new D(this._point,this._startPoint),n=e.getSize();Ee(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(he(this._box),ye(this._container,"leaflet-crosshair")),te(),Pe(),Re(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});tn.addInitHook("addHandler","boxZoom",Wr),tn.mergeOptions({doubleClickZoom:!0});var Qr=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});tn.addInitHook("addHandler","doubleClickZoom",Qr),tn.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kr=pn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new vn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,s=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=i.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),h=a.multiplyBy(l/u),c=l/(n.inertiaDeceleration*s),f=h.multiplyBy(-c/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),S((function(){e.panBy(f,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});tn.addInitHook("addHandler","dragging",Kr),tn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jr=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Oe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ve(t)}}});tn.addInitHook("addHandler","keyboard",Jr),tn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $r=pn.extend({addHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ye(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Ve(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});tn.addInitHook("addHandler","scrollWheelZoom",$r),tn.mergeOptions({tap:!0,tapTolerance:15});var ti=pn.extend({addHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(qe(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new O(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ge(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Oe(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Re(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ye(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!Et||wt&&!ht||tn.addInitHook("addHandler","tap",ti),tn.mergeOptions({touchZoom:Et&&!it,bounceAtZoomLimits:!0});var ei=pn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend",this._onTouchEnd,this),qe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),P(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(a,this,!0),qe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,P(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});tn.addInitHook("addHandler","touchZoom",ei),tn.BoxZoom=Wr,tn.DoubleClickZoom=Qr,tn.Drag=Kr,tn.Keyboard=Jr,tn.ScrollWheelZoom=$r,tn.Tap=ti,tn.TouchZoom=ei,t.version=e,t.Control=nn,t.control=rn,t.Browser=Nt,t.Evented=N,t.Mixin=gn,t.Util=C,t.Class=I,t.Handler=pn,t.extend=n,t.bind=i,t.stamp=s,t.setOptions=p,t.DomEvent=Je,t.DomUtil=Ne,t.PosAnimation=$e,t.Draggable=vn,t.LineUtil=On,t.PolyUtil=Rn,t.Point=O,t.point=R,t.Bounds=D,t.bounds=z,t.Transformation=Z,t.transformation=Y,t.Projection=Fn,t.LatLng=j,t.latLng=G,t.LatLngBounds=F,t.latLngBounds=B,t.CRS=U,t.GeoJSON=ur,t.geoJSON=mr,t.geoJson=vr,t.Layer=Un,t.LayerGroup=qn,t.layerGroup=Vn,t.FeatureGroup=Hn,t.featureGroup=Zn,t.ImageOverlay=br,t.imageOverlay=xr,t.VideoOverlay=wr,t.videoOverlay=Er,t.SVGOverlay=Mr,t.svgOverlay=Lr,t.DivOverlay=Sr,t.Popup=Pr,t.popup=Cr,t.Tooltip=Ir,t.tooltip=kr,t.Icon=Yn,t.icon=Xn,t.DivIcon=Tr,t.divIcon=Nr,t.Marker=Kn,t.marker=Jn,t.TileLayer=Rr,t.tileLayer=Dr,t.GridLayer=Or,t.gridLayer=Ar,t.SVG=Hr,t.svg=Zr,t.Renderer=Br,t.Canvas=jr,t.canvas=Gr,t.Path=$n,t.CircleMarker=tr,t.circleMarker=er,t.Circle=nr,t.circle=rr,t.Polyline=ir,t.polyline=or,t.Polygon=sr,t.polygon=ar,t.Rectangle=Yr,t.rectangle=Xr,t.Map=tn,t.map=en;var ni=window.L;t.noConflict=function(){return window.L=ni,this},window.L=t}(e)},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(5);function i(t,e,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(14);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"j",(function(){return c})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return d}));var r=6371008.8,i={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:5825721.287490856};function o(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function s(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:t},e,n)}function a(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:t},e,n)}function u(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),o({type:"MultiPolygon",coordinates:t},e,n)}function h(t,e){void 0===e&&(e="kilometers");var n=i[e];if(!n)throw new Error(e+" units is invalid");return t/n}function c(t){return 180*(t%(2*Math.PI))/Math.PI}function f(t){return t%360*Math.PI/180}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function d(t){return!!t&&t.constructor===Object}},function(t,e,n){"use strict";t.exports=n(173)},function(t,e,n){(function(t){!function(e){"use strict";var n=6371008.8,r={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*n,kilometers:6371.0088,kilometres:6371.0088,meters:n,metres:n,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:n/1852,radians:1,yards:5825721.287490856},i={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n,yards:1/1.0936},o={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function s(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function a(t,e,n){switch(t){case"Point":return u(e).geometry;case"LineString":return f(e).geometry;case"Polygon":return h(e).geometry;case"MultiPoint":return y(e).geometry;case"MultiLineString":return g(e).geometry;case"MultiPolygon":return _(e).geometry;default:throw new Error(t+" is invalid")}}function u(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!C(t[0])||!C(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),d(t.map((function(t){return u(t,e)})),n)}function h(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),d(t.map((function(t){return h(t,e)})),n)}function f(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,n)}function p(t,e,n){return void 0===n&&(n={}),d(t.map((function(t){return f(t,e)})),n)}function d(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function g(t,e,n){return void 0===n&&(n={}),s({type:"MultiLineString",coordinates:t},e,n)}function y(t,e,n){return void 0===n&&(n={}),s({type:"MultiPoint",coordinates:t},e,n)}function _(t,e,n){return void 0===n&&(n={}),s({type:"MultiPolygon",coordinates:t},e,n)}function m(t,e,n){return void 0===n&&(n={}),s({type:"GeometryCollection",geometries:t},e,n)}function v(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function b(t,e){void 0===e&&(e="kilometers");var n=r[e];if(!n)throw new Error(e+" units is invalid");return t*n}function x(t,e){void 0===e&&(e="kilometers");var n=r[e];if(!n)throw new Error(e+" units is invalid");return t/n}function w(t,e){return M(x(t,e))}function E(t){var e=t%360;return e<0&&(e+=360),e}function M(t){return t%(2*Math.PI)*180/Math.PI}function L(t){return t%360*Math.PI/180}function S(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return b(x(t,e),n)}function P(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=o[e];if(!r)throw new Error("invalid original units");var i=o[n];if(!i)throw new Error("invalid final units");return t/r*i}function C(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function I(t){return!!t&&t.constructor===Object}function k(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!C(t))throw new Error("bbox must only contain numbers")}))}function T(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}var N=Object.freeze({__proto__:null,earthRadius:n,factors:r,unitsFactors:i,areaFactors:o,feature:s,geometry:a,point:u,points:l,polygon:h,polygons:c,lineString:f,lineStrings:p,featureCollection:d,multiLineString:g,multiPoint:y,multiPolygon:_,geometryCollection:m,round:v,radiansToLength:b,lengthToRadians:x,lengthToDegrees:w,bearingToAzimuth:E,radiansToDegrees:M,degreesToRadians:L,convertLength:S,convertArea:P,isNumber:C,isObject:I,validateBBox:k,validateId:T});function O(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function A(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function R(t){if(t.length>1&&C(t[0])&&C(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return R(t[0]);throw new Error("coordinates must only contain numbers")}function D(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function z(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function F(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}}function B(t){return"Feature"===t.type?t.geometry:t}function j(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}var G=Object.freeze({__proto__:null,getCoord:O,getCoords:A,containsNumber:R,geojsonType:D,featureOf:z,collectionOf:F,getGeom:B,getType:j});function U(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,h,c=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,y=d?t.features.length:1,_=0;_<y;_++){a=(h=!!(l=d?t.features[_].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<a;m++){var v=0,b=0;if(null!==(s=h?l.geometries[m]:l)){u=s.coordinates;var x=s.type;switch(c=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,f,_,v,b))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],f,_,v,b))return!1;f++,"MultiPoint"===x&&v++}"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(!1===e(u[r][i],f,_,v,b))return!1;f++}"MultiLineString"===x&&v++,"Polygon"===x&&b++}"Polygon"===x&&v++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(b=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(!1===e(u[r][i][o],f,_,v,b))return!1;f++}b++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===U(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function q(t,e,n,r){var i=n;return U(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i}function V(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function H(t,e,n){var r=n;return V(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function Z(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function Y(t,e,n){var r=n;return Z(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function X(t){var e=[];return U(t,(function(t){e.push(t)})),e}function W(t,e){var n,r,i,o,s,a,u,l,h,c,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,l=p?t.features[n].properties:d?t.properties:{},h=p?t.features[n].bbox:d?t.bbox:void 0,c=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,h,c))return!1;f++}}function Q(t,e,n){var r=n;return W(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r}function K(t,e){W(t,(function(t,n,r,i,o){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(s(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var h=t.coordinates[l];if(!1===e(s({type:a,coordinates:h},r),n,l))return!1}}))}function J(t,e,n){var r=n;return K(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function $(t,e){K(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,u=0,l=0;return!1!==U(t,(function(o,h,c,p,d){if(void 0===s||n>a||p>u||d>l)return s=o,a=n,u=p,l=d,void(i=0);var g=f([s,o],t.properties);if(!1===e(g,n,r,d,i))return!1;i++,s=o}))&&void 0}}}))}function tt(t,e,n){var r=n,i=!1;return $(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}function et(t,e){if(!t)throw new Error("geojson is required");K(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,n,r,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(f(o[s],t.properties),n,r,s))return!1}}}))}function nt(t,e,n){var r=n;return et(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r}function rt(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),f([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),f([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),f([u[i][s],u[i][s+1]],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),f([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error("geojson is invalid")}function it(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return u(l,a,e);case"MultiPoint":return i<0&&(i=l.length+i),u(l[i],a,e);case"LineString":return s<0&&(s=l.length+s),u(l[s],a,e);case"Polygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),u(l[o][s],a,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),u(l[i][s],a,e);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),s<0&&(s=l[i][o].length-s),u(l[i][o][s],a,e)}throw new Error("geojson is invalid")}var ot=Object.freeze({__proto__:null,coordEach:U,coordReduce:q,propEach:V,propReduce:H,featureEach:Z,featureReduce:Y,coordAll:X,geomEach:W,geomReduce:Q,flattenEach:K,flattenReduce:J,segmentEach:$,segmentReduce:tt,lineEach:et,lineReduce:nt,findSegment:rt,findPoint:it});function st(t){var e=[1/0,1/0,-1/0,-1/0];return U(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}st.default=st;var at=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;function ht(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var ct=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=ht(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))ut.call(n,s)&&(i[s]=n[s]);if(at){r=at(n);for(var a=0;a<r.length;a++)lt.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},ft={successCallback:null,verbose:!1},pt={};function dt(t,e,n){n=n||{};for(var r=Object.keys(ft),i=0;i<r.length;i++){var o=r[i],s=n[o];s=null!=s?s:ft[o],pt[o]=s}pt.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0,r=1e-7;return t.cells.forEach((function(i,o){i.forEach((function(i,s){if(void 0!==i&&5!==(p=i).cval&&10!==p.cval&&!yt(i)){var a=function(t,e,n){var r,i,o=t.length,s=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],h=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],c=t[e][n],f=c.cval,p=l[f],d=mt(c,p);s.push([n+d[0],e+d[1]]),d=mt(c,p=h[f]),s.push([n+d[0],e+d[1]]),_t(c);for(var g=n+a[f],y=e+u[f],_=f;g>=0&&y>=0&&y<o&&(g!=n||y!=e)&&void 0!==(c=t[y][g]);){if(0===(f=c.cval)||15===f)return{path:s,info:"mergeable"};p=h[f],r=a[f],i=u[f],5!==f&&10!==f||(5===f?c.flipped?-1===u[_]?(p="left",r=-1,i=0):(p="right",r=1,i=0):-1===a[_]&&(p="bottom",r=0,i=-1):10===f&&(c.flipped?-1===a[_]?(p="top",r=0,i=1):(p="bottom",r=0,i=-1):1===u[_]&&(p="left",r=-1,i=0))),d=mt(c,p),s.push([g+d[0],y+d[1]]),_t(c),g+=r,y+=i,_=f}return{path:s,info:"closed"}}(t.cells,o,s),u=!1;if("mergeable"===a.info)for(var l=a.path[a.path.length-1][0],h=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=r&&Math.abs(e[c][0][1]-h)<=r){for(var f=a.path.length-2;f>=0;--f)e[c].unshift(a.path[f]);u=!0;break}u||(e[n++]=a.path)}var p}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],h=t[o][s+1],c=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(h)||isNaN(c))){a|=u>=e?8:0,a|=l>=e?4:0,a|=h>=e?2:0;var f,p,d,g,y=!1;if(5===(a|=c>=e?1:0)||10===a){var _=(u+l+h+c)/4;5===a&&_<e?(a=10,y=!0):10===a&&_<e&&(a=5,y=!0)}0!==a&&15!==a&&(f=p=d=g=.5,1===a?(d=1-gt(e,u,c),p=1-gt(e,h,c)):2===a?(p=gt(e,c,h),g=1-gt(e,l,h)):3===a?(d=1-gt(e,u,c),g=1-gt(e,l,h)):4===a?(f=gt(e,u,l),g=gt(e,h,l)):5===a?(f=gt(e,u,l),g=gt(e,h,l),p=1-gt(e,h,c),d=1-gt(e,u,c)):6===a?(p=gt(e,c,h),f=gt(e,u,l)):7===a?(d=1-gt(e,u,c),f=gt(e,u,l)):8===a?(d=gt(e,c,u),f=1-gt(e,l,u)):9===a?(p=1-gt(e,h,c),f=1-gt(e,l,u)):10===a?(f=1-gt(e,l,u),g=1-gt(e,l,h),p=gt(e,c,h),d=gt(e,c,u)):11===a?(f=1-gt(e,l,u),g=1-gt(e,l,h)):12===a?(d=gt(e,c,u),g=gt(e,h,l)):13===a?(p=1-gt(e,h,c),g=gt(e,h,l)):14===a?(d=gt(e,c,u),p=gt(e,c,h)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:y,top:f,right:g,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof pt.successCallback&&pt.successCallback(a),a}function gt(t,e,n){return(t-e)/(n-e)}function yt(t){return 0===t.cval||15===t.cval}function _t(t){yt(t)||5===t.cval||10===t.cval||(t.cval=15)}function mt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function vt(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;F(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return Z(t,(function(t){var e=A(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return A(t)[0]-A(e)[0]}))})).sort((function(t,n){return e?A(t[0])[1]-A(n[0])[1]:A(n[0])[1]-A(t[0])[1]}))}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],h=0;h<u.length;h++){var c=u[h];c.properties[n]?l.push(c.properties[n]):l.push(0),!0===i&&(c.properties.matrixPosition=[a,h])}s.push(l)}return s}var bt=wt,xt=wt;function wt(t,e,n,r,i){Et(t,e,n||0,r||t.length-1,i||Lt)}function Et(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Et(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var h=t[e],c=n,f=r;for(Mt(t,n,e),i(t[r],h)>0&&Mt(t,n,r);c<f;){for(Mt(t,c,f),c++,f--;i(t[c],h)<0;)c++;for(;i(t[f],h)>0;)f--}0===i(t[n],h)?Mt(t,n,f):Mt(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function Mt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Lt(t,e){return t<e?-1:t>e?1:0}bt.default=xt;var St=Ct,Pt=Ct;function Ct(t,e){if(!(this instanceof Ct))return new Ct(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function It(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function kt(t,e){Tt(t,0,t.children.length,e,t)}function Tt(t,e,n,r,i){i||(i=Bt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Nt(i,t.leaf?r(o):o);return i}function Nt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ot(t,e){return t.minX-e.minX}function At(t,e){return t.minY-e.minY}function Rt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Dt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function zt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ft(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Bt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function jt(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,bt(t,o,e,n,i),s.push(e,o,o,n))}function Gt(t){var e={exports:{}};return t(e,e.exports),e.exports}Ct.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ft(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],Ft(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):zt(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ft(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ft(t,s=e.leaf?n(o):o)){if(e.leaf||zt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Bt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=It(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!zt(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Ot,compareMinY:At,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return kt(i=Bt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=Bt([])).leaf=!1,i.height=r;var a,u,l,h,c=Math.ceil(o/s),f=c*Math.ceil(Math.sqrt(s));for(jt(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(jt(t,a,l=Math.min(a+f-1,n),c,this.compareMinY),u=a;u<=l;u+=c)h=Math.min(u+c-1,l),i.children.push(this._build(t,u,h,r-1));return kt(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,h,c,f,p;r.push(e),!e.leaf&&r.length-1!==n;){for(h=c=1/0,i=0,o=e.children.length;i<o;i++)u=Rt(s=e.children[i]),f=t,p=s,(l=(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-u)<c?(c=l,h=u<h?u:h,a=s):l===c&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),Nt(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=Bt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,kt(n,this.toBBox),kt(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Bt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,kt(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,h,c,f,p,d,g,y;for(u=l=1/0,r=e;r<=n-e;r++)c=i=Tt(t,0,r,this.toBBox),f=o=Tt(t,r,n,this.toBBox),p=void 0,d=void 0,g=void 0,y=void 0,p=Math.max(c.minX,f.minX),d=Math.max(c.minY,f.minY),g=Math.min(c.maxX,f.maxX),y=Math.min(c.maxY,f.maxY),s=Math.max(0,g-p)*Math.max(0,y-d),a=Rt(i)+Rt(o),s<u?(u=s,h=r,l=a<l?a:l):s===u&&a<l&&(l=a,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ot,i=t.leaf?this.compareMinY:At;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=Tt(t,0,e,s),u=Tt(t,n-e,n,s),l=Dt(a)+Dt(u);for(i=e;i<n-e;i++)o=t.children[i],Nt(a,t.leaf?s(o):o),l+=Dt(a);for(i=n-e-1;i>=e;i--)o=t.children[i],Nt(u,t.leaf?s(o):o),l+=Dt(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Nt(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():kt(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},St.default=Pt;var Ut=function(t,e,n){var r=t*e,i=qt*t,o=i-(i-t),s=t-o,a=qt*e,u=a-(a-e),l=e-u,h=s*l-(r-o*u-s*u-o*l);return n?(n[0]=h,n[1]=r,n):[h,r]},qt=+(Math.pow(2,27)+1),Vt=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,h=Math.abs,c=t[u],f=h(c),p=e[l],d=h(p);f<d?(o=c,(u+=1)<n&&(f=h(c=t[u]))):(o=p,(l+=1)<r&&(d=h(p=e[l]))),u<n&&f<d||l>=r?(i=c,(u+=1)<n&&(f=h(c=t[u]))):(i=p,(l+=1)<r&&(d=h(p=e[l])));for(var g,y,_=i+o,m=_-i,v=o-m,b=v,x=_;u<n&&l<r;)f<d?(i=c,(u+=1)<n&&(f=h(c=t[u]))):(i=p,(l+=1)<r&&(d=h(p=e[l]))),(v=(o=b)-(m=(_=i+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g;for(;u<n;)(v=(o=b)-(m=(_=(i=c)+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g,(u+=1)<n&&(c=t[u]);for(;l<r;)(v=(o=b)-(m=(_=(i=p)+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g,(l+=1)<r&&(p=e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},Ht=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},Zt=function(t,e){var n=t.length;if(1===n){var r=Ut(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Ut(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){Ut(t[u],e,s);var l=o[1];Ht(l,s[0],o),o[0]&&(i[a++]=o[0]);var h=s[1],c=o[1],f=h+c,p=c-(f-h);o[1]=f,p&&(i[a++]=p)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Yt=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,l=0,h=Math.abs,c=t[u],f=h(c),p=-e[l],d=h(p);f<d?(o=c,(u+=1)<n&&(f=h(c=t[u]))):(o=p,(l+=1)<r&&(d=h(p=-e[l]))),u<n&&f<d||l>=r?(i=c,(u+=1)<n&&(f=h(c=t[u]))):(i=p,(l+=1)<r&&(d=h(p=-e[l])));for(var g,y,_=i+o,m=_-i,v=o-m,b=v,x=_;u<n&&l<r;)f<d?(i=c,(u+=1)<n&&(f=h(c=t[u]))):(i=p,(l+=1)<r&&(d=h(p=-e[l]))),(v=(o=b)-(m=(_=i+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g;for(;u<n;)(v=(o=b)-(m=(_=(i=c)+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g,(u+=1)<n&&(c=t[u]);for(;l<r;)(v=(o=b)-(m=(_=(i=p)+o)-i))&&(s[a++]=v),b=x-((g=x+_)-(y=g-x))+(_-y),x=g,(l+=1)<r&&(p=-e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},Xt=Gt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",n(t.slice(0,e)),",",n(t.slice(e)),")"].join("")}function r(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var i=[],o=0;o<t.length;++o)i.push(["scale(",n(r(e(t,o))),",",(s=o,1&s?"-":""),t[0][o],")"].join(""));return i;var s}function i(t){for(var i=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?i.push.apply(i,r(e(s,u))):o.push.apply(o,r(e(s,u))),a.push("m"+u);var l=n(i),h=n(o),c="orientation"+t+"Exact",f=["function ",c,"(",a.join(),"){var p=",l,",n=",h,",d=sub(p,n);return d[d.length-1];};return ",c].join("");return new Function("sum","prod","scale","sub",f)(Vt,Ut,Zt,Yt)}var o=i(3),s=i(4),a=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),s=(t[0]-n[0])*(e[1]-n[1]),a=i-s;if(i>0){if(s<=0)return a;r=i+s}else{if(!(i<0))return a;if(s>=0)return a;r=-(i+s)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:o(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],u=t[1]-r[1],l=e[1]-r[1],h=n[1]-r[1],c=t[2]-r[2],f=e[2]-r[2],p=n[2]-r[2],d=o*h,g=a*l,y=a*u,_=i*h,m=i*l,v=o*u,b=c*(d-g)+f*(y-_)+p*(m-v),x=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(y)+Math.abs(_))*Math.abs(f)+(Math.abs(m)+Math.abs(v))*Math.abs(p));return b>x||-b>x?b:s(t,e,n,r)}];function u(t){var e=a[t.length];return e||(e=a[t.length]=i(t.length)),e.apply(void 0,t)}!function(){for(;a.length<=5;)a.push(i(a.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var o=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)o.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[u].concat(a)),r=0;r<=5;++r)t.exports[r]=a[r]}()})),Wt=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],l=o.length;l>1&&Qt(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&Qt(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var h=0,c=(r=0,o.length);r<c;++r)n[h++]=o[r];for(var f=s.length-2;f>0;--f)n[h++]=s[f];return n},Qt=Xt[3],Kt=$t,Jt=$t;function $t(t,e){if(!(this instanceof $t))return new $t(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||te,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function te(t,e){return t<e?-1:t>e?1:0}$t.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},Kt.default=Jt;var ee=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],h=e[s][1];u>r!=h>r&&n<(l-a)*(r-u)/(h-u)+a&&(i=!i)}return i},ne=Xt[3],re=oe,ie=oe;function oe(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)ee(t[o],a)||u.push(t[o]);var l=Wt(u),h=[];for(o=0;o<l.length;o++)h.push(u[l[o]]);return h}(t),o=St(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=fe(u,r),s.push(r)}var l=St(16);for(a=0;a<s.length;a++)l.insert(ce(s[a]));for(var h=e*e,c=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,g=pe(p,d);if(!(g<c)){var y=g/h;(u=se(o,f.prev.p,p,d,f.next.next.p,y,l))&&Math.min(pe(u,p),pe(u,d))<=y&&(s.push(f),s.push(fe(u,f)),o.remove(u),l.remove(f),l.insert(ce(f)),l.insert(ce(f.next)))}}f=r;var _=[];do{_.push(f.p),f=f.next}while(f!==r);return _.push(f.p),_}function se(t,e,n,r,i,o,s){for(var a=new Kt(null,ae),u=t.data;u;){for(var l=0;l<u.children.length;l++){var h=u.children[l],c=u.leaf?de(h,n,r):ue(n,r,h);c>o||a.push({node:h,dist:c})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=de(p,e,n),g=de(p,r,i);if(f.dist<d&&f.dist<g&&he(n,p,s)&&he(r,p,s))return p}(u=a.pop())&&(u=u.node)}return null}function ae(t,e){return t.dist-e.dist}function ue(t,e,n){if(le(t,n)||le(e,n))return 0;var r=ge(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=ge(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=ge(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=ge(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function le(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function he(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),h=Math.max(t[1],e[1]),c=n.search({minX:a,minY:u,maxX:l,maxY:h}),f=0;f<c.length;f++)if(r=c[f].p,i=c[f].next.p,o=t,r!==(s=e)&&i!==o&&ne(r,i,o)>0!=ne(r,i,s)>0&&ne(o,s,r)>0!=ne(o,s,i)>0)return!1;return!0}function ce(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function fe(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function pe(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function de(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function ge(t,e,n,r,i,o,s,a){var u,l,h,c,f=n-t,p=r-e,d=s-i,g=a-o,y=t-i,_=e-o,m=f*f+p*p,v=f*d+p*g,b=d*d+g*g,x=f*y+p*_,w=d*y+g*_,E=m*b-v*v,M=E,L=E;0===E?(l=0,M=1,c=w,L=b):(c=m*w-v*x,(l=v*w-b*x)<0?(l=0,c=w,L=b):l>M&&(l=M,c=w+v,L=b)),c<0?(c=0,-x<0?l=0:-x>m?l=M:(l=-x,M=m)):c>L&&(c=L,-x+v<0?l=0:-x+v>m?l=M:(l=-x+v,M=m));var S=(1-(h=0===c?0:c/L))*i+h*s-((1-(u=0===l?0:l/M))*t+u*n),P=(1-h)*o+h*a-((1-u)*e+u*r);return S*S+P*P}function ye(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(U(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=re(n,e.concavity);return r.length>3?h([r]):null}function _e(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=O(t),i=B(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,s))return!1;"Polygon"===o&&(a=[a]);for(var u=!1,l=0;l<a.length&&!u;l++)if(me(r,a[l][0],n.ignoreBoundary)){for(var h=!1,c=1;c<a[l].length&&!h;)me(r,a[l][c],!n.ignoreBoundary)&&(h=!0),c++;h||(u=!0)}return u}function me(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}function ve(t,e){var n=[];return Z(t,(function(t){var r=!1;W(e,(function(e){_e(t,e)&&(r=!0)})),r&&n.push(t)})),d(n)}function be(t,e,n){void 0===n&&(n={});var r=O(t),i=O(e),o=L(i[1]-r[1]),s=L(i[0]-r[0]),a=L(r[1]),u=L(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(u);return b(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),n.units)}function xe(t,e){var n=!1;return d(function(t){if(t.length<3)return[];t.sort(Ee);for(var e,n,r,i,o,s,a=t.length-1,u=t[a].x,l=t[0].x,h=t[a].y,c=h,f=1e-12;a--;)t[a].y<h&&(h=t[a].y),t[a].y>c&&(c=t[a].y);var p,d=l-u,g=c-h,y=d>g?d:g,_=.5*(l+u),m=.5*(c+h),v=[new we({__sentinel:!0,x:_-20*y,y:m-y},{__sentinel:!0,x:_,y:m+20*y},{__sentinel:!0,x:_+20*y,y:m-y})],b=[],x=[];for(a=t.length;a--;){for(x.length=0,p=v.length;p--;)(d=t[a].x-v[p].x)>0&&d*d>v[p].r?(b.push(v[p]),v.splice(p,1)):d*d+(g=t[a].y-v[p].y)*g>v[p].r||(x.push(v[p].a,v[p].b,v[p].b,v[p].c,v[p].c,v[p].a),v.splice(p,1));for(Me(x),p=x.length;p;)n=x[--p],e=x[--p],r=t[a],i=n.x-e.x,o=n.y-e.y,s=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(s)>f&&v.push(new we(e,n,r))}for(Array.prototype.push.apply(b,v),a=b.length;a--;)(b[a].a.__sentinel||b[a].b.__sentinel||b[a].c.__sentinel)&&b.splice(a,1);return b}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],o={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},h([[e,r,i,e]],o)})))}re.default=ie;var we=function(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),h=a*(t.x+n.x)+u*(t.y+n.y),c=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*h)/c,this.y=(o*h-a*l)/c,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i};function Ee(t,e){return e.x-t.x}function Me(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function Le(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Se(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Se(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ce(t);default:throw new Error("unknown GeoJSON type")}}function Se(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=Pe(t.properties),e.geometry=Ce(t.geometry),e}function Pe(t){var e={};return t?(Object.keys(t).forEach((function(n){var r=t[n];"object"==typeof r?null===r?e[n]=null:Array.isArray(r)?e[n]=r.map((function(t){return t})):e[n]=Pe(r):e[n]=r})),e):e}function Ce(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ce(t)})),e):(e.coordinates=Ie(t.coordinates),e)}function Ie(t){var e=t;return"object"!=typeof e[0]?e.slice():e.map((function(t){return Ie(t)}))}function ke(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==j(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Le(t));var r=[],i=nt(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Te(r[0]),s=Te(r[r.length-1]),a=Te(i[0]),u=Te(i[i.length-1]);if(o===u)n=i.concat(r.slice(1));else if(a===s)n=r.concat(i.slice(1));else if(o===a)n=r.slice(1).reverse().concat(i);else{if(s!==u)return null;n=r.concat(i.reverse().slice(1))}return f(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:g(r.map((function(t){return t.coordinates}))):null}function Te(t){return t[0].toString()+","+t[1].toString()}function Ne(t){return t}function Oe(t,e){var n=function(t){if(null==t)return Ne;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,h=new Array(l);for(h[0]=(e+=t[0])*r+o,h[1]=(n+=t[1])*i+s;u<l;)h[u]=t[u],++u;return h}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,s=i.length;o<s;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,s)}function o(t){return n(t)}function s(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(a)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=s(e.arcs);break;case"MultiLineString":n=e.arcs.map(s);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(e)}function Ae(t,e){var n={},r={},i={},o=[],s=-1;function a(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,o,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=i[a])if(delete i[n.end],n.push(e),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,o=i[a]){delete i[o.end];var h=o===n?n:o.concat(n);r[h.start=o.start]=i[h.end=n.end]=h}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=a]=i[n.end=u]=n})),a(i,r),a(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function Re(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Oe(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=Ae(t,i)).length)>1)for(var o,a,u=1,l=s(i[0]);u<r;++u)(o=s(i[u]))>l&&(a=i[0],i[0]=i[u],i[u]=a,l=o);return i}))}}function De(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;function h(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l]=o;if(++c>=t)throw new Error("full hashmap");h=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function c(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l];if(++c>=t)throw new Error("full hashmap");h=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function f(r,o){for(var l=e(r)&u,h=s[l],c=0;h!=i;){if(n(h,r))return a[l];if(++c>=t)break;h=s[l=l+1&u]}return o}function p(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}return{set:h,maybeSet:c,get:f,keys:p}}function ze(t,e){return t[0]===e[0]&&t[1]===e[1]}var Fe=new ArrayBuffer(16),Be=new Float64Array(Fe),je=new Uint32Array(Fe);function Ge(t){Be[0]=t[0],Be[1]=t[1];var e=je[0]^je[1];return 2147483647&(e<<5^e>>7^je[2]^je[3])}function Ue(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=function(){for(var t=De(1.4*o.length,x,w,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,r=o.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),l=new Int32Array(o.length),h=new Int32Array(o.length),c=new Int32Array(o.length),f=new Int8Array(o.length),p=0;for(e=0,n=o.length;e<n;++e)l[e]=h[e]=c[e]=-1;for(e=0,n=s.length;e<n;++e){var d=s[e],g=d[0],y=d[1];for(r=u[g],i=u[++g],++p,f[r]=1;++g<=y;)b(e,r,r=i,i=u[g]);++p,f[i]=1}for(e=0,n=o.length;e<n;++e)l[e]=-1;for(e=0,n=a.length;e<n;++e){var _=a[e],m=_[0]+1,v=_[1];for(b(e,u[v-1],r=u[m-1],i=u[m]);++m<=v;)b(e,r,r=i,i=u[m])}function b(t,e,n,r){if(l[n]!==t){l[n]=t;var i=h[n];if(i>=0){var o=c[n];i===e&&o===r||i===r&&o===e||(++p,f[n]=1)}else h[n]=e,c[n]=r}}function x(t){return Ge(o[t])}function w(t,e){return ze(o[t],o[e])}l=h=c=null;var E,M=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;function u(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0}function l(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1}function h(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{add:u,has:l,values:h}}(1.4*p,Ge,ze);for(e=0,n=o.length;e<n;++e)f[E=u[e]]&&M.add(o[E]);return M}function qe(t,e,n,r){Ve(t,e,n),Ve(t,e,e+r),Ve(t,e+r,n)}function Ve(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function He(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?Ze:"Feature"===n.type?Ye:Xe)(n);return r}function Ze(t){var e={type:"GeometryCollection",geometries:t.features.map(Ye)};return null!=t.bbox&&(e.bbox=t.bbox),e}function Ye(t){var e,n=Xe(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Xe(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Xe)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function We(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function o(t){null!=t&&s.hasOwnProperty(t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){a(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(a)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(l)}};function a(t){var o=t[0],s=t[1];o<e&&(e=o),o>r&&(r=o),s<n&&(n=s),s>i&&(i=s)}function u(t){t.forEach(a)}function l(t){t.forEach(u)}for(var h in t)o(t[h]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=He(t)),r=e>0&&n&&function(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=o-r?(n-1)/(o-r):1,u=s-i?(n-1)/(s-i):1;function l(t){return[Math.round((t[0]-r)*a),Math.round((t[1]-i)*u)]}function h(t,e){for(var n,o,s,l,h,c=-1,f=0,p=t.length,d=new Array(p);++c<p;)n=t[c],l=Math.round((n[0]-r)*a),h=Math.round((n[1]-i)*u),l===o&&h===s||(d[f++]=[o=l,s=h]);for(d.length=f;f<e;)f=d.push([d[0][0],d[0][1]]);return d}function c(t){return h(t,2)}function f(t){return h(t,4)}function p(t){return t.map(f)}function d(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(d)},Point:function(t){t.coordinates=l(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(l)},LineString:function(t){t.arcs=c(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(c)},Polygon:function(t){t.arcs=p(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(p)}};for(var y in t)d(t[y]);return{scale:[1/a,1/u],translate:[r,i]}}(t,n,e),i=function(t){var e,n,r,i,o=t.coordinates,s=t.lines,a=t.rings,u=s.length+a.length;for(delete t.lines,delete t.rings,r=0,i=s.length;r<i;++r)for(e=s[r];e=e.next;)++u;for(r=0,i=a.length;r<i;++r)for(n=a[r];n=n.next;)++u;var l=De(2*u*1.4,Ge,ze),h=t.arcs=[];for(r=0,i=s.length;r<i;++r){e=s[r];do{c(e)}while(e=e.next)}for(r=0,i=a.length;r<i;++r)if((n=a[r]).next)do{c(n)}while(n=n.next);else f(n);function c(t){var e,n,r,i,s,a,u,c;if(r=l.get(e=o[t[0]]))for(u=0,c=r.length;u<c;++u)if(p(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(s=l.get(n=o[t[1]]))for(u=0,c=s.length;u<c;++u)if(d(a=s[u],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):l.set(e,[t]),s?s.push(t):l.set(n,[t]),h.push(t)}function f(t){var e,n,r,i,s;if(n=l.get(o[t[0]]))for(i=0,s=n.length;i<s;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(y(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=l.get(e=o[t[0]+_(t)]))for(i=0,s=n.length;i<s;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(y(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):l.set(e,[t]),h.push(t)}function p(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!ze(o[n],o[r]))return!1;return!0}function d(t,e){var n=t[0],r=e[0],i=t[1],s=e[1];if(n-i!=r-s)return!1;for(;n<=i;++n,--s)if(!ze(o[n],o[s]))return!1;return!0}function g(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var s=_(t),a=_(e),u=0;u<i;++u)if(!ze(o[n+(u+s)%i],o[r+(u+a)%i]))return!1;return!0}function y(t,e){var n=t[0],r=e[0],i=t[1],s=e[1],a=i-n;if(a!==s-r)return!1;for(var u=_(t),l=a-_(e),h=0;h<a;++h)if(!ze(o[n+(h+u)%a],o[s-(h+l)%a]))return!1;return!0}function _(t){for(var e=t[0],n=t[1],r=e,i=r,s=o[r];++r<n;){var a=o[r];(a[0]<s[0]||a[0]===s[0]&&a[1]<s[1])&&(i=r,s=a)}return i-e}return t}(function(t){var e,n,r,i=Ue(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],h=u[1];++l<h;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var c=a[n],f=c[0],p=f,d=c[1],g=i.has(o[f]);++p<d;)i.has(o[p])&&(g?(e={0:p,1:c[1]},c[1]=p,c=c.next=e):(qe(o,f,d,d-p),o[d]=o[f],g=!0,p=f));return t}(function(t){var e=-1,n=[],r=[],i=[];function o(t){t&&s.hasOwnProperty(t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=a(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(a)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function a(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var s={0:e-o+1,1:e};return n.push(s),s}function u(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var s={0:e-o+1,1:e};return r.push(s),s}function l(t){return t.map(u)}for(var h in t)o(t[h]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:t}}(t))),o=i.coordinates,s=De(1.4*i.arcs.length,Qe,Ke);function a(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(t,e){return s.set(t,e),o.slice(t[0],t[1]+1)})),delete i.coordinates,o=null;var u={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=l(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(l)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(h)}};function l(t){var e=[];do{var n=s.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function h(t){return t.map(l)}for(var c in t)a(t[c]);return r&&(i.transform=r,i.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],h=l[0],c=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===h&&i===c||(o[a++]=[r-h,i-c],h=r,c=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(i.arcs)),i}function Qe(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Ke(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function Je(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==j(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=Le(t));var n=[];K(t,(function(t){n.push(t.geometry)}));var r=We({geoms:m(n).geometry});return function(t){return Oe(t,Re.apply(this,arguments))}(r,r.objects.geoms.geometries)}function $e(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==j(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Le(t));var r=function(t){var e={};K(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");var i=t;switch(r){case"LineString":return ke(i,e);case"Polygon":return Je(i,e);default:throw new Error(r+" is not supported")}}function tn(t,e){void 0===e&&(e={});var n="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var r=j(t),i=[];switch(r){case"LineString":i=en(t);break;case"MultiLineString":case"Polygon":A(t).forEach((function(t){i.push(en(t))}));break;case"MultiPolygon":A(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(en(t))})),i.push(e)}));break;case"Point":return t;case"MultiPoint":var o={};A(t).forEach((function(t){var e=t.join("-");o.hasOwnProperty(e)||(i.push(t),o[e]=!0)}));break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=i,t):{type:r,coordinates:i}:!0===n?(t.geometry.coordinates=i,t):s({type:r,coordinates:i},t.properties,{bbox:t.bbox,id:t.id})}function en(t){var e=A(t);if(2===e.length&&!nn(e[0],e[1]))return e;var n=[],r=e.length-1,i=n.length;n.push(e[0]);for(var o=1;o<r;o++){var s=n[n.length-1];e[o][0]===s[0]&&e[o][1]===s[1]||(n.push(e[o]),(i=n.length)>2&&rn(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(e[e.length-1]),i=n.length,nn(e[0],e[e.length-1])&&i<4)throw new Error("invalid polygon");return rn(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function nn(t,e){return t[0]===e[0]&&t[1]===e[1]}function rn(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,h=u-s;return 0===(r-o)*h-(i-s)*l&&(Math.abs(l)>=Math.abs(h)?l>0?o<=r&&r<=a:a<=r&&r<=o:h>0?s<=i&&i<=u:u<=i&&i<=s)}function on(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=t.x-r)*o+(s=t.y-i)*s}function sn(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=on(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&sn(t,e,o,r,i),i.push(t[o]),n-o>1&&sn(t,o,n,r,i))}function an(t,e){var n=t.length-1,r=[t[0]];return sn(t,0,n,e,r),r.push(t[n]),r}function un(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return an(t=n?t:function(t,e){for(var n,r,i,o,s,a=t[0],u=[a],l=1,h=t.length;l<h;l++)i=a,o=void 0,s=void 0,(o=(r=n=t[l]).x-i.x)*o+(s=r.y-i.y)*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,r),r)}function ln(t,e,n){return un(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function hn(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=un(r,e,n).map((function(t){return[t.x,t.y]}));!cn(i);)i=un(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function cn(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var fn=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t}();function pn(t,e){void 0===e&&(e={});for(var n=e.resolution||1e4,r=e.sharpness||.85,i=[],o=B(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),s=new fn({duration:n,points:o,sharpness:r}),a=0;a<s.duration;a+=10){var u=s.pos(a);Math.floor(a/100)%2==0&&i.push([u.x,u.y])}return f(i,e.properties)}function dn(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,r];return h([[s,[i,r],[i,o],[n,o],s]],e.properties,{bbox:t,id:e.id})}function gn(t){return dn(st(t))}function yn(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(be(t.slice(0,2),[r,n])>=be(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function _n(t,e,n,r){void 0===r&&(r={});var i=O(t),o=L(i[0]),s=L(i[1]),a=L(n),l=x(e,r.units),h=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(a));return u([M(o+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(h))),M(h)],r.properties)}function mn(t,e,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},o=[],s=0;s<r;s++)o.push(_n(t,e,-360*s/r,n).geometry.coordinates);return o.push(o[0]),h([o],i)}function vn(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){var n=vn(e,t);return(n+180)%360}(t,e);var r=O(t),i=O(e),o=L(r[0]),s=L(i[0]),a=L(r[1]),u=L(i[1]),l=Math.sin(s-o)*Math.cos(u),h=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return M(Math.atan2(l,h))}function bn(t,e){void 0===e&&(e={});var n=st(t);return u([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}function xn(t,e){void 0===e&&(e={});var n=0,r=0,i=0;return U(t,(function(t){n+=t[0],r+=t[1],i++}),!0),u([n/i,r/i],e.properties)}function wn(t){var e=[];return"FeatureCollection"===t.type?Z(t,(function(t){U(t,(function(n){e.push(u(n,t.properties))}))})):U(t,(function(n){e.push(u(n,t.properties))})),d(e)}var En=Ln,Mn=Ln;function Ln(t,e,n){n=n||2;var r,i,o,s,a,u,l,h=e&&e.length,c=h?e[0]*n:t.length,f=Sn(t,0,c,n,!0),p=[];if(!f)return p;if(h&&(f=function(t,e,n,r){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=Sn(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===s.next&&(s.steiner=!0),a.push(Dn(s));for(a.sort(On),i=0;i<a.length;i++)An(a[i],n),n=Pn(n,n.next);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(var d=n;d<c;d+=n)(a=t[d])<r&&(r=a),(u=t[d+1])<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-r,s-i))?1/l:0}return Cn(f,p,n,r,i,l),p}function Sn(t,e,n,r,i){var o,s;if(i===Yn(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Vn(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Vn(o,t[o],t[o+1],s);return s&&jn(s,s.next)&&(Hn(s),s=s.next),s}function Pn(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!jn(r,r.next)&&0!==Bn(r.prev,r,r.next))r=r.next;else{if(Hn(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Cn(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Rn(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?kn(t,r,i,o):In(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),Hn(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?Cn(t=Tn(t,e,n),e,n,r,i,o,2):2===s&&Nn(t,e,n,r,i,o):Cn(Pn(t),e,n,r,i,o,1);break}}}function In(t){var e=t.prev,n=t,r=t.next;if(Bn(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(zn(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Bn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function kn(t,e,n,r){var i=t.prev,o=t,s=t.next;if(Bn(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=Rn(a,u,e,n,r),f=Rn(l,h,e,n,r),p=t.prevZ,d=t.nextZ;p&&p.z>=c&&d&&d.z<=f;){if(p!==t.prev&&p!==t.next&&zn(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Bn(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&zn(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Bn(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&zn(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Bn(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&zn(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Bn(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Tn(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!jn(i,o)&&Gn(i,r,r.next,o)&&Un(i,o)&&Un(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Hn(r),Hn(r.next),r=t=o),r=r.next}while(r!==t);return r}function Nn(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Fn(s,a)){var u=qn(s,a);return s=Pn(s,s.next),u=Pn(u,u.next),Cn(s,e,n,r,i,o),void Cn(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}function On(t,e){return t.x-e.x}function An(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,l=n,h=n.x,c=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=h&&i!==r.x&&zn(o<c?i:s,o,h,c,o<c?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&Un(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=qn(e,t);Pn(n,n.next)}}function Rn(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Dn(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function zn(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function Fn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Gn(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Un(t,e)&&Un(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Bn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function jn(t,e){return t.x===e.x&&t.y===e.y}function Gn(t,e,n,r){return!!(jn(t,e)&&jn(n,r)||jn(t,r)&&jn(n,e))||Bn(t,e,n)>0!=Bn(t,e,r)>0&&Bn(n,r,t)>0!=Bn(n,r,e)>0}function Un(t,e){return Bn(t.prev,t,t.next)<0?Bn(t,e,t.next)>=0&&Bn(t,t.prev,e)>=0:Bn(t,e,t.prev)<0||Bn(t,t.next,e)<0}function qn(t,e){var n=new Zn(t.i,t.x,t.y),r=new Zn(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Vn(t,e,n,r){var i=new Zn(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Hn(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Zn(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yn(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function Xn(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=En(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var o=0;o<i.length;o+=3){var s=i.slice(o,o+3);s.push(i[o]),r.push(h([s]))}return r}function Wn(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,i=0;return Z(e,(function(e,n){var o=be(t,e);o<r&&(i=n,r=o)})),(n=Le(e.features[i])).properties.featureIndex=i,n.properties.distanceToPoint=r,n}function Qn(t){if(!t)throw new Error("geojson is required");var e=[];return K(t,(function(t){!function(t,e){var n=[],r=t.geometry;if(null!==r){switch(r.type){case"Polygon":n=A(r);break;case"LineString":n=[A(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=f([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),d(e)}Ln.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(Yn(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,h=a<u-1?e[a+1]*n:t.length;s-=Math.abs(Yn(t,l,h,n))}var c=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,p=r[a+1]*n,d=r[a+2]*n;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},Ln.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},En.default=Mn;var Kn=Gt((function(t,e){function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function c(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return t%(2*Math.PI)*180/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=h,e.lengthToRadians=c,e.lengthToDegrees=function(t,e){return f(c(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return h(c(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}}));function Jn(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,h,c=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,y=d?t.features.length:1,_=0;_<y;_++){a=(h=!!(l=d?t.features[_].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<a;m++){var v=0,b=0;if(null!==(s=h?l.geometries[m]:l)){u=s.coordinates;var x=s.type;switch(c=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,f,_,v,b))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],f,_,v,b))return!1;f++,"MultiPoint"===x&&v++}"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(!1===e(u[r][i],f,_,v,b))return!1;f++}"MultiLineString"===x&&v++,"Polygon"===x&&b++}"Polygon"===x&&v++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(b=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(!1===e(u[r][i][o],f,_,v,b))return!1;f++}b++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===Jn(s.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $n(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function tr(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function er(t,e){var n,r,i,o,s,a,u,l,h,c,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,l=p?t.features[n].properties:d?t.properties:{},h=p?t.features[n].bbox:d?t.bbox:void 0,c=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,h,c))return!1;f++}}function nr(t,e){er(t,(function(t,n,r,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Kn.feature(t,r,{bbox:i,id:o}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<t.coordinates.length;u++){var l={type:s,coordinates:t.coordinates[u]};if(!1===e(Kn.feature(l,r),n,u))return!1}}))}function rr(t,e){nr(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,u=0,l=0;return!1!==Jn(t,(function(o,h,c,f,p){if(void 0===s||n>a||f>u||p>l)return s=o,a=n,u=f,l=p,void(i=0);var d=Kn.lineString([s,o],t.properties);if(!1===e(d,n,r,p,i))return!1;i++,s=o}))&&void 0}}}))}function ir(t,e){if(!t)throw new Error("geojson is required");nr(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,n,r,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(Kn.lineString(o[s],t.properties),n,r,s))return!1}}}))}var or=Jn,sr=function(t,e,n,r){var i=n;return Jn(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i},ar=$n,ur=function(t,e,n){var r=n;return $n(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},lr=tr,hr=function(t,e,n){var r=n;return tr(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},cr=function(t){var e=[];return Jn(t,(function(t){e.push(t)})),e},fr=er,pr=function(t,e,n){var r=n;return er(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},dr=nr,gr=function(t,e,n){var r=n;return nr(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},yr=rr,_r=function(t,e,n){var r=n,i=!1;return rr(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r},mr=ir,vr=function(t,e,n){var r=n;return ir(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},br=function(t,e){if(e=e||{},!Kn.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),Kn.lineString([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),Kn.lineString([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),Kn.lineString([u[i][s],u[i][s+1]],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),Kn.lineString([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error("geojson is invalid")},xr=function(t,e){if(e=e||{},!Kn.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),a=a||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return Kn.point(u,a,e);case"MultiPoint":return i<0&&(i=u.length+i),Kn.point(u[i],a,e);case"LineString":return s<0&&(s=u.length+s),Kn.point(u[s],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),Kn.point(u[o][s],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),Kn.point(u[i][s],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s),Kn.point(u[i][o][s],a,e)}throw new Error("geojson is invalid")},wr=Object.defineProperty({coordEach:or,coordReduce:sr,propEach:ar,propReduce:ur,featureEach:lr,featureReduce:hr,coordAll:cr,geomEach:fr,geomReduce:pr,flattenEach:dr,flattenReduce:gr,segmentEach:yr,segmentReduce:_r,lineEach:mr,lineReduce:vr,findSegment:br,findPoint:xr},"__esModule",{value:!0});function Er(t){var e=[1/0,1/0,-1/0,-1/0];return wr.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}Er.default=Er;var Mr=Er,Lr=Object.defineProperty({default:Mr},"__esModule",{value:!0}).default,Sr=wr.featureEach,Pr=(wr.coordEach,Kn.polygon,Kn.featureCollection);function Cr(t){var e=St(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Lr(t),St.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Lr(t),e.push(t)})):Sr(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Lr(t),e.push(t)})),St.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Lr(t),St.prototype.remove.call(this,t,e)},e.clear=function(){return St.prototype.clear.call(this)},e.search=function(t){var e=St.prototype.search.call(this,this.toBBox(t));return Pr(e)},e.collides=function(t){return St.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=St.prototype.all.call(this);return Pr(t)},e.toJSON=function(){return St.prototype.toJSON.call(this)},e.fromJSON=function(t){return St.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=Lr(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=Lr(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}var Ir=Cr,kr=Cr;function Tr(t,e){var n={},r=[];if("LineString"===t.type&&(t=s(t)),"LineString"===e.type&&(e=s(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var i=Nr(t,e);return i&&r.push(i),d(r)}var o=Ir();return o.load(Qn(e)),Z(Qn(t),(function(t){Z(o.search(t),(function(e){var i=Nr(t,e);if(i){var o=A(i).join(",");n[o]||(n[o]=!0,r.push(i))}}))})),d(r)}function Nr(t,e){var n=A(t),r=A(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],s=n[1][0],a=n[1][1],l=r[0][0],h=r[0][1],c=r[1][0],f=r[1][1],p=(f-h)*(s-i)-(c-l)*(a-o);if(0===p)return null;var d=((c-l)*(o-h)-(f-h)*(i-l))/p,g=((s-i)*(o-h)-(a-o)*(i-l))/p;return d>=0&&d<=1&&g>=0&&g<=1?u([i+d*(s-i),o+d*(a-o)]):null}function Or(t,e,n){void 0===n&&(n={});var r=u([1/0,1/0],{dist:1/0}),i=0;return K(t,(function(t){for(var o=A(t),s=0;s<o.length-1;s++){var a=u(o[s]);a.properties.dist=be(e,a,n);var l=u(o[s+1]);l.properties.dist=be(e,l,n);var h=be(a,l,n),c=Math.max(a.properties.dist,l.properties.dist),p=vn(a,l),d=_n(e,c,p+90,n),g=_n(e,c,p-90,n),y=Tr(f([d.geometry.coordinates,g.geometry.coordinates]),f([a.geometry.coordinates,l.geometry.coordinates])),_=null;y.features.length>0&&((_=y.features[0]).properties.dist=be(e,_,n),_.properties.location=i+be(a,_,n)),a.properties.dist<r.properties.dist&&((r=a).properties.index=s,r.properties.location=i),l.properties.dist<r.properties.dist&&((r=l).properties.index=s+1,r.properties.location=i+h),_&&_.properties.dist<r.properties.dist&&((r=_).properties.index=s),i+=h}})),r}function Ar(t,e,r){void 0===r&&(r={});var i=O(t),o=O(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,S(function(t,e,r){var i=r=void 0===r?n:Number(r),o=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-o,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),h=Math.abs(l)>1e-11?a/l:Math.cos(o);return Math.sqrt(a*a+h*h*u*u)*i}(i,o),"meters",r.units)}function Rr(t,e,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=u(t):"Point"===t.type?t=s(t):z(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=f(e):"LineString"===e.type?e=s(e):z(e,"LineString","line");var r=1/0,i=t.geometry.coordinates;return $(e,(function(t){var e=t.geometry.coordinates[0],o=t.geometry.coordinates[1],s=function(t,e,n,r){var i=[n[0]-e[0],n[1]-e[1]],o=Dr([t[0]-e[0],t[1]-e[1]],i);if(o<=0)return zr(t,e,{method:r.method,units:"degrees"});var s=Dr(i,i);if(s<=o)return zr(t,n,{method:r.method,units:"degrees"});var a=o/s;return zr(t,[e[0]+a*i[0],e[1]+a*i[1]],{method:r.method,units:"degrees"})}(i,e,o,n);s<r&&(r=s)})),S(r,"degrees",n.units)}function Dr(t,e){return t[0]*e[0]+t[1]*e[1]}function zr(t,e,n){return"planar"===n.method?Ar(t,e,n):be(t,e,n)}function Fr(t,e,n,r,i,o,s,a){var u,l,h,c,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(c=(n-t)*(l=e-o)-(r-e)*(h=t-i),l=((s-i)*l-(a-o)*h)/u,h=c/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),h>=0&&h<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}function Br(t){for(var e=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?d([s(t)]):d([t]):t}(t),n=bn(e),r=!1,i=0;!r&&i<e.features.length;){var o,a=e.features[i].geometry,l=!1;if("Point"===a.type)n.geometry.coordinates[0]===a.coordinates[0]&&n.geometry.coordinates[1]===a.coordinates[1]&&(r=!0);else if("MultiPoint"===a.type){var h=!1;for(o=0;!h&&o<a.coordinates.length;)n.geometry.coordinates[0]===a.coordinates[o][0]&&n.geometry.coordinates[1]===a.coordinates[o][1]&&(r=!0,h=!0),o++}else if("LineString"===a.type)for(o=0;!l&&o<a.coordinates.length-1;)jr(n.geometry.coordinates[0],n.geometry.coordinates[1],a.coordinates[o][0],a.coordinates[o][1],a.coordinates[o+1][0],a.coordinates[o+1][1])&&(l=!0,r=!0),o++;else if("MultiLineString"===a.type)for(var c=0;c<a.coordinates.length;){l=!1,o=0;for(var f=a.coordinates[c];!l&&o<f.length-1;)jr(n.geometry.coordinates[0],n.geometry.coordinates[1],f[o][0],f[o][1],f[o+1][0],f[o+1][1])&&(l=!0,r=!0),o++;c++}else"Polygon"!==a.type&&"MultiPolygon"!==a.type||_e(n,a)&&(r=!0);i++}if(r)return n;var p=d([]);for(i=0;i<e.features.length;i++)p.features=p.features.concat(wn(e.features[i]).features);return u(Wn(n,p).geometry.coordinates)}function jr(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}Ir.default=kr;var Gr=6378137;function Ur(t){return Q(t,(function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return qr(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=qr(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}function qr(t){var e=0;if(t&&t.length>0){e+=Math.abs(Vr(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(Vr(t[n]))}return e}function Vr(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(Hr(t[o][0])-Hr(e[0]))*Math.sin(Hr(n[1]));a=a*Gr*Gr/2}return a}function Hr(t){return t*Math.PI/180}function Zr(t,e){return void 0===e&&(e={}),tt(t,(function(t,n){var r=n.geometry.coordinates;return t+be(r[0],r[1],e)}),0)}function Yr(t,e,n,r){if(!I(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,a,u,l=i.length,h=0,c=0;c<i.length&&!(e>=h&&c===i.length-1);c++){if(h>e&&0===o.length){if(!(s=e-h))return o.push(i[c]),f(o);a=vn(i[c],i[c-1])-180,u=_n(i[c],s,a,r),o.push(u.geometry.coordinates)}if(h>=n)return(s=n-h)?(a=vn(i[c],i[c-1])-180,u=_n(i[c],s,a,r),o.push(u.geometry.coordinates),f(o)):(o.push(i[c]),f(o));if(h>=e&&o.push(i[c]),c===i.length-1)return f(o);h+=be(i[c],i[c+1],r)}if(h<e&&i.length===l)throw new Error("Start position is beyond line");return f(i[i.length-1])}function Xr(t,e,n){void 0===n&&(n={});for(var r=O(t),i=A(e),o=0;o<i.length-1;o++){var s=!1;if(n.ignoreEndVertices&&(0===o&&(s="start"),o===i.length-2&&(s="end"),0===o&&o+1===i.length-1&&(s="both")),Wr(i[o],i[o+1],r,s))return!0}return!1}function Wr(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],l=e[1],h=u-s,c=l-a;return 0==(n[0]-s)*c-(n[1]-a)*h&&(r?"start"===r?Math.abs(h)>=Math.abs(c)?h>0?s<i&&i<=u:u<=i&&i<s:c>0?a<o&&o<=l:l<=o&&o<a:"end"===r?Math.abs(h)>=Math.abs(c)?h>0?s<=i&&i<u:u<i&&i<=s:c>0?a<=o&&o<l:l<o&&o<=a:"both"===r&&(Math.abs(h)>=Math.abs(c)?h>0?s<i&&i<u:u<i&&i<s:c>0?a<o&&o<l:l<o&&o<a):Math.abs(h)>=Math.abs(c)?h>0?s<=i&&i<=u:u<=i&&i<=s:c>0?a<=o&&o<=l:l<=o&&o<=a)}function Qr(t,e){var n=B(t),r=B(e),i=n.type,o=r.type;switch(i){case"Point":switch(o){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Jr(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"LineString":return Xr(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return _e(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Jr(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!Xr(t.coordinates[r],e))return!1;n||(n=Xr(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=_e(t.coordinates[1],e);if(!i){n=!1;break}i=_e(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!Xr(t.coordinates[n],e))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){if(!Kr(st(e),st(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!_e(t.coordinates[r],e))return!1;n||(n=_e(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=_e($r(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function(t,e){var n=st(t);if(!Kr(st(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!_e(t.coordinates[0][r],e))return!1;return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function Kr(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function Jr(t,e){return t[0]===e[0]&&t[1]===e[1]}function $r(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function ti(t,e,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],i=t[0],o=t[1],s=t[2],a=t[3],l=e/be([i,o],[s,o],n)*(s-i),h=e/be([i,o],[i,a],n)*(a-o),c=s-i,f=a-o,p=Math.floor(c/l),g=(f-Math.floor(f/h)*h)/2,y=i+(c-p*l)/2;y<=s;){for(var _=o+g;_<=a;){var m=u([y,_],n.properties);n.mask?Qr(m,n.mask)&&r.push(m):r.push(m),_+=h}y+=l}return d(r)}function ei(t,e){void 0===e&&(e={});var n=e.precision,r=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return U(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function ni(t,e,n){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=t.geometry.coordinates,i=[],o={};if(n){for(var s=[],a=0;a<r.length;a++)for(var u=0;u<r[a].length-1;u++)s.push(g(a,u));var l=St();l.load(s)}for(var h=0;h<r.length;h++)for(var c=0;c<r[h].length-1;c++)if(n)l.search(g(h,c)).forEach((function(t){var e=t.ring,n=t.edge;d(h,c,e,n)}));else for(var f=0;f<r.length;f++)for(var p=0;p<r[f].length-1;p++)d(h,c,f,p);return e||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function d(t,n,s,a){var u,l,h=r[t][n],c=r[t][n+1],f=r[s][a],p=r[s][a+1],d=function(t,e,n,r){if(ri(t,n)||ri(t,r)||ri(e,n)||ri(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],h=r[0],c=r[1],f=(i-s)*(l-c)-(o-a)*(u-h);return 0===f?null:[((i*a-o*s)*(u-h)-(i-s)*(u*c-l*h))/f,((i*a-o*s)*(l-c)-(o-a)*(u*c-l*h))/f]}(h,c,f,p);if(null!==d&&(u=c[0]!==h[0]?(d[0]-h[0])/(c[0]-h[0]):(d[1]-h[1])/(c[1]-h[1]),l=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(u>=1||u<=0||l>=1||l<=0))){var g=d,y=!o[g];y&&(o[g]=!0),e?i.push(e(d,t,n,h,c,u,s,a,f,p,l,y)):i.push(d)}}function g(t,e){var n,i,o,s,a=r[t][e],u=r[t][e+1];return a[0]<u[0]?(n=a[0],i=u[0]):(n=u[0],i=a[0]),a[1]<u[1]?(o=a[1],s=u[1]):(o=u[1],s=a[1]),{minX:n,minY:o,maxX:i,maxY:s,ring:t,edge:e}}}function ri(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!ri(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}var ii=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},oi=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function si(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function ai(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(si([t[li(e-1,t.length-1)],t[e],t[li(e+1,t.length-1)]],!0))var r=1;else r=-1;return r}function ui(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!ui(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function li(t,e){return(t%e+e)%e}var hi=Math.PI/180,ci=180/Math.PI,fi=function(t,e){this.lon=t,this.lat=e,this.x=hi*t,this.y=hi*e};fi.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},fi.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new fi(e,t)};var pi=function(){this.coords=[],this.length=0};pi.prototype.move_to=function(t){this.length++,this.coords.push(t)};var di=function(t){this.properties=t||{},this.geometries=[]};di.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},di.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var gi=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new fi(t.x,t.y),this.end=new fi(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function yi(t,e){var n=[],r=Ir();return K(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=mi(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),Z(_i(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=_i(t,e).features).forEach((function(t){t.bbox||(t.bbox=yn(st(t)))})),r.load(d(n))})),d(n)}function _i(t,e){var n=[],r=A(t)[0],i=A(t)[t.geometry.coordinates.length-1];if(vi(r,O(e))||vi(i,O(e)))return d([t]);var o=Ir(),s=Qn(t);o.load(s);var a=o.search(e);if(!a.features.length)return d([t]);var u=mi(e,a),l=Y(s,(function(t,r,i){var o=A(r)[1],s=O(e);return i===u.id?(t.push(s),n.push(f(t)),vi(s,o)?[s]:[s,o]):(t.push(o),t)}),[r]);return l.length>1&&n.push(f(l)),d(n)}function mi(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return Z(e,(function(e){var i=Or(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function vi(t,e){return t[0]===e[0]&&t[1]===e[1]}function bi(t,e,n,r,i){void 0===i&&(i={});var o=i.steps||64,s=xi(n),a=xi(r),u=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(s===a)return f(mn(t,e,i).geometry.coordinates[0],u);for(var l=s,h=s<a?a:a+360,c=l,p=[],d=0;c<h;)p.push(_n(t,e,c,i).geometry.coordinates),c=l+360*++d/o;return c>h&&p.push(_n(t,e,h,i).geometry.coordinates),f(p,u)}function xi(t){var e=t%360;return e<0&&(e+=360),e}function wi(t,e){void 0===e&&(e={});var n=B(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return Ei(n,e);case"MultiPolygon":return function(t,e){void 0===e&&(e={});var n=B(t).coordinates,r=e.properties?e.properties:"Feature"===t.type?t.properties:{},i=[];return n.forEach((function(t){i.push(Mi(t,r))})),d(i)}(n,e);default:throw new Error("invalid poly")}}function Ei(t,e){return void 0===e&&(e={}),Mi(B(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function Mi(t,e){return t.length>1?g(t,e):f(t[0],e)}function Li(t,e){void 0===e&&(e={});var n=e.properties,r=e.autoComplete,i=e.orderCoords,o=e.mutate;switch(r=void 0===r||r,i=void 0===i||i,(o=void 0!==o&&o)||(t=Le(t)),t.type){case"FeatureCollection":var s=[];return t.features.forEach((function(t){s.push(A(Si(t,{},r,i)))})),_(s,n);default:return Si(t,n,r,i)}}function Si(t,e,n,r){e=e||("Feature"===t.type?t.properties:{});var i=B(t),o=i.coordinates,s=i.type;if(!o.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(o=Pi(o)),h([o],e);case"MultiLineString":var a=[],u=0;return o.forEach((function(t){if(n&&(t=Pi(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(st(f(t)));e>u?(a.unshift(t),u=e):a.push(t)}else a.push(t)})),h(a,e);default:throw new Error("geometry type "+s+" is not supported")}}function Pi(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}function Ci(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(ki(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(ki(a=t[s],e)&r))!==o&&n.push(Ii(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n}function Ii(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function ki(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Ti(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var o=Ci(i[r],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}gi.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=ci*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ci*Math.atan2(i,r),s]},gi.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,h=180-l,c=-180+l,f=360-l,p=1;p<n.length;++p){var d=n[p-1][0],g=n[p][0],y=Math.abs(g-d);y>f&&(g>h&&d<c||d>h&&g<c)?a=!0:y>u&&(u=y)}var _=[];if(a&&u<l){var m=[];_.push(m);for(var v=0;v<n.length;++v){var b=parseFloat(n[v][0]);if(v>0&&Math.abs(b-n[v-1][0])>f){var x=parseFloat(n[v-1][0]),w=parseFloat(n[v-1][1]),E=parseFloat(n[v][0]),M=parseFloat(n[v][1]);if(x>-180&&x<c&&180===E&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<c){m.push([-180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(x>h&&x<180&&-180===E&&v+1<n.length&&n[v-1][0]>h&&n[v-1][0]<180){m.push([180,n[v][1]]),v++,m.push([n[v][0],n[v][1]]);continue}if(x<c&&E>h){var L=x;x=E,E=L;var S=w;w=M,M=S}if(x>h&&E<c&&(E+=360),x<=180&&E>=180&&x<E){var P=(180-x)/(E-x),C=P*M+(1-P)*w;m.push([n[v-1][0]>h?180:-180,C]),(m=[]).push([n[v-1][0]>h?-180:180,C]),_.push(m)}else m=[],_.push(m);m.push([b,n[v][1]])}else m.push([n[v][0],n[v][1]])}}else{var I=[];_.push(I);for(var k=0;k<n.length;++k)I.push([n[k][0],n[k][1]])}for(var T=new di(this.properties),N=0;N<_.length;++N){var O=new pi;T.geometries.push(O);for(var A=_[N],R=0;R<A.length;++R)O.move_to(A[R])}return T};var Ni=Gt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),Oi=Gt((function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i})),Ai=Gt((function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(r(t)||r(o))return!1;if(t.prototype!==o.prototype)return!1;if(Oi(t))return!!Oi(o)&&(t=e.call(t),o=e.call(o),n(t,o,s));if(i(t)){if(!i(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=Ni(t),h=Ni(o)}catch(t){return!1}if(l.length!=h.length)return!1;for(l.sort(),h.sort(),a=l.length-1;a>=0;a--)if(l[a]!=h[a])return!1;for(a=l.length-1;a>=0;a--)if(u=l[a],!n(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))};function r(t){return null==t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}}));function Ri(t,e,n){if(void 0===n&&(n={}),!I(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],s=Ir(),a=Qn(t);return s.load(a),$(e,(function(t){var e=!1;Z(s.search(t),(function(n){if(!1===e){var o=A(t).sort(),s=A(n).sort();Ai(o,s)||(0===i?Xr(o[0],n)&&Xr(o[1],n):Or(n,o[0]).properties.dist<=i&&Or(n,o[1]).properties.dist<=i)?(e=!0,r=r?Di(r,t):t):(0===i?Xr(s[0],t)&&Xr(s[1],t):Or(t,s[0]).properties.dist<=i&&Or(t,s[1]).properties.dist<=i)&&(r=r?Di(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),d(o)}function Di(t,e){var n=A(e),r=A(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return Ai(n[0],i)?s.unshift(n[1]):Ai(n[0],o)?s.push(n[1]):Ai(n[1],i)?s.unshift(n[0]):Ai(n[1],o)&&s.push(n[0]),t}function zi(t){var e=t%360;return e<0&&(e+=360),e}function Fi(t,e,n){var r;return void 0===n&&(n={}),(r=n.final?Bi(O(e),O(t)):Bi(O(t),O(e)))>180?-(360-r):r}function Bi(t,e){var n=L(t[1]),r=L(e[1]),i=L(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(M(Math.atan2(i,o))+360)%360}function ji(t,e,r,i){void 0===i&&(i={});var o=e<0,s=S(Math.abs(e),i.units,"meters");o&&(s=-Math.abs(s));var a=O(t),l=function(t,e,r,i){var o=e/(i=void 0===i?n:Number(i)),s=t[0]*Math.PI/180,a=L(t[1]),u=L(r),l=o*Math.cos(u),h=a+l;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);var c=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(c)>1e-11?l/c:Math.cos(a);return[(180*(s+o*Math.sin(u)/f)/Math.PI+540)%360-180,180*h/Math.PI]}(a,s,r);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,u(l,i.properties)}function Gi(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=qi(a,u,e),n<=0&&r>0?qi(e,a,i)<0||(i=a):n>0&&r<=0&&(Ui(e,a,o)||(o=a)),n=r}return[i,o]}function Ui(t,e,n){return qi(t,e,n)>0}function qi(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Vi(t){for(var e,n,r=A(t),i=0,o=1;o<r.length;)e=n||r[0],i+=((n=r[o])[0]-e[0])*(n[1]+e[1]),o++;return i>0}function Hi(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return W(t,(function(t){Hi(t,e)})),t;case"LineString":return Zi(A(t),e),t;case"Polygon":return Yi(A(t),e),t;case"MultiLineString":return A(t).forEach((function(t){Zi(t,e)})),t;case"MultiPolygon":return A(t).forEach((function(t){Yi(t,e)})),t;case"Point":case"MultiPoint":return t}}function Zi(t,e){Vi(t)===e&&t.reverse()}function Yi(t,e){Vi(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Vi(t[n])===e&&t[n].reverse()}function Xi(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;F(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return Z(t,(function(t){var e=A(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return A(t)[0]-A(e)[0]}))})).sort((function(t,n){return e?A(t[0])[1]-A(n[0])[1]:A(n[0])[1]-A(t[0])[1]}))}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],h=0;h<u.length;h++){var c=u[h];c.properties[n]?l.push(c.properties[n]):l.push(0),!0===i&&(c.properties.matrixPosition=[a,h])}s.push(l)}return s}var Wi={successCallback:null,verbose:!1,polygons:!1},Qi={};function Ki(t,e,n,r){r=r||{};for(var i=Object.keys(Wi),o=0;o<i.length;o++){var s=i[o],a=r[s];a=null!=a?a:Wi[s],Qi[s]=a}Qi.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,h=t[a+1][u],c=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(h)||isNaN(c)||isNaN(f)||isNaN(p))){l|=h<e?0:h>s?128:64,l|=c<e?0:c>s?32:16,l|=f<e?0:f>s?8:4;var d=+(l|=p<e?0:p>s?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var y=(h+c+f+p)/4;g=y>s?2:y<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var _,m,v,b,x,w,E,M;_=m=v=b=x=w=E=M=.5;var L=[];1===l?(v=1-Uo(e,f,p),M=1-Uo(e,h,p),L.push(Do[l])):169===l?(v=Uo(s,p,f),M=Uo(s,p,h),L.push(Do[l])):4===l?(w=1-Uo(e,c,f),b=Uo(e,p,f),L.push(Ao[l])):166===l?(w=Uo(s,f,c),b=1-Uo(s,f,p),L.push(Ao[l])):16===l?(x=Uo(e,f,c),m=Uo(e,h,c),L.push(Oo[l])):154===l?(x=1-Uo(s,c,f),m=1-Uo(s,c,h),L.push(Oo[l])):64===l?(E=Uo(e,p,h),_=1-Uo(e,c,h),L.push(Fo[l])):106===l?(E=1-Uo(s,h,p),_=Uo(s,h,c),L.push(Fo[l])):168===l?(b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),L.push(Ro[l]),L.push(Do[l])):2===l?(b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),L.push(Ro[l]),L.push(Do[l])):162===l?(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),L.push(Ro[l]),L.push(Do[l])):8===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),L.push(Oo[l]),L.push(Ao[l])):138===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(Oo[l]),L.push(Ao[l])):32===l?(x=Uo(s,f,c),w=Uo(e,f,c),_=Uo(e,h,c),m=Uo(s,h,c),L.push(Oo[l]),L.push(Ao[l])):42===l?(M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c),L.push(zo[l]),L.push(Fo[l])):128===l&&(M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(zo[l]),L.push(Fo[l])),5===l?(w=1-Uo(e,c,f),M=1-Uo(e,h,p),L.push(Ao[l])):165===l?(w=Uo(s,f,c),M=Uo(s,p,h),L.push(Ao[l])):20===l?(b=Uo(e,p,f),m=Uo(e,h,c),L.push(Ro[l])):150===l?(b=1-Uo(s,f,p),m=1-Uo(s,c,h),L.push(Ro[l])):80===l?(x=Uo(e,f,c),E=Uo(e,p,h),L.push(Oo[l])):90===l?(x=1-Uo(s,c,f),E=1-Uo(s,h,p),L.push(Oo[l])):65===l?(v=1-Uo(e,f,p),_=1-Uo(e,c,h),L.push(Do[l])):105===l?(v=Uo(s,p,f),_=Uo(s,h,c),L.push(Do[l])):160===l?(x=Uo(s,f,c),w=Uo(e,f,c),M=Uo(e,p,h),E=Uo(s,p,h),L.push(Oo[l]),L.push(Ao[l])):10===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),M=1-Uo(s,h,p),E=1-Uo(e,h,p),L.push(Oo[l]),L.push(Ao[l])):130===l?(b=1-Uo(e,f,p),v=1-Uo(s,f,p),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(Ro[l]),L.push(Do[l])):40===l?(b=Uo(s,p,f),v=Uo(e,p,f),_=Uo(e,h,c),m=Uo(s,h,c),L.push(Ro[l]),L.push(Do[l])):101===l?(w=Uo(s,f,c),_=Uo(s,h,c),L.push(Ao[l])):69===l?(w=1-Uo(e,c,f),_=1-Uo(e,c,h),L.push(Ao[l])):149===l?(M=Uo(s,p,h),m=1-Uo(s,c,h),L.push(zo[l])):21===l?(M=1-Uo(e,h,p),m=Uo(e,h,c),L.push(zo[l])):86===l?(b=1-Uo(s,f,p),E=1-Uo(s,h,p),L.push(Ro[l])):84===l?(b=Uo(e,p,f),E=Uo(e,p,h),L.push(Ro[l])):89===l?(x=1-Uo(s,c,f),v=Uo(s,p,f),L.push(Do[l])):81===l?(x=Uo(e,f,c),v=1-Uo(e,f,p),L.push(Do[l])):96===l?(x=Uo(s,f,c),w=Uo(e,f,c),E=Uo(e,p,h),_=Uo(s,h,c),L.push(Oo[l]),L.push(Ao[l])):74===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),E=1-Uo(s,h,p),_=1-Uo(e,c,h),L.push(Oo[l]),L.push(Ao[l])):24===l?(x=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),m=Uo(e,h,c),L.push(Oo[l]),L.push(Do[l])):146===l?(x=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),m=1-Uo(s,c,h),L.push(Oo[l]),L.push(Do[l])):6===l?(w=1-Uo(e,c,f),b=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),L.push(Ao[l]),L.push(Ro[l])):164===l?(w=Uo(s,f,c),b=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),L.push(Ao[l]),L.push(Ro[l])):129===l?(v=1-Uo(e,f,p),M=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(Do[l]),L.push(zo[l])):41===l?(v=Uo(s,p,f),M=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c),L.push(Do[l]),L.push(zo[l])):66===l?(b=1-Uo(e,f,p),v=1-Uo(s,f,p),E=1-Uo(s,h,p),_=1-Uo(e,c,h),L.push(Ro[l]),L.push(Do[l])):104===l?(b=Uo(s,p,f),v=Uo(e,p,f),E=Uo(e,p,h),_=Uo(s,h,c),L.push(Do[l]),L.push(Bo[l])):144===l?(x=Uo(e,f,c),M=Uo(e,p,h),E=Uo(s,p,h),m=1-Uo(s,c,h),L.push(Oo[l]),L.push(Fo[l])):26===l?(x=1-Uo(s,c,f),M=1-Uo(s,h,p),E=1-Uo(e,h,p),m=Uo(e,h,c),L.push(Oo[l]),L.push(Fo[l])):36===l?(w=Uo(s,f,c),b=Uo(e,p,f),_=Uo(e,h,c),m=Uo(s,h,c),L.push(Ao[l]),L.push(Ro[l])):134===l?(w=1-Uo(e,c,f),b=1-Uo(s,f,p),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(Ao[l]),L.push(Ro[l])):9===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),v=Uo(s,p,f),M=1-Uo(e,h,p),L.push(Oo[l]),L.push(Ao[l])):161===l?(x=Uo(s,f,c),w=Uo(e,f,c),v=1-Uo(e,f,p),M=Uo(s,p,h),L.push(Oo[l]),L.push(Ao[l])):37===l?(w=Uo(s,f,c),M=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c),L.push(Ao[l]),L.push(zo[l])):133===l?(w=1-Uo(e,c,f),M=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h),L.push(Ao[l]),L.push(zo[l])):148===l?(b=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),m=1-Uo(s,c,h),L.push(Ro[l]),L.push(Fo[l])):22===l?(b=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),m=Uo(e,h,c),L.push(Ro[l]),L.push(Fo[l])):82===l?(x=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),E=1-Uo(s,h,p),L.push(Oo[l]),L.push(Do[l])):88===l?(x=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),E=Uo(e,p,h),L.push(Oo[l]),L.push(Do[l])):73===l?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),v=Uo(s,p,f),_=1-Uo(e,c,h),L.push(Oo[l]),L.push(Ao[l])):97===l?(x=Uo(s,f,c),w=Uo(e,f,c),v=1-Uo(e,f,p),_=Uo(s,h,c),L.push(Oo[l]),L.push(Ao[l])):145===l?(x=Uo(e,f,c),v=1-Uo(e,f,p),M=Uo(s,p,h),m=1-Uo(s,c,h),L.push(Oo[l]),L.push(zo[l])):25===l?(x=1-Uo(s,c,f),v=Uo(s,p,f),M=1-Uo(e,h,p),m=Uo(e,h,c),L.push(Oo[l]),L.push(zo[l])):70===l?(w=1-Uo(e,c,f),b=1-Uo(s,f,p),E=1-Uo(s,h,p),_=1-Uo(e,c,h),L.push(Ao[l]),L.push(Ro[l])):100===l?(w=Uo(s,f,c),b=Uo(e,p,f),E=Uo(e,p,h),_=Uo(s,h,c),L.push(Ao[l]),L.push(Ro[l])):34===l?(0===g?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)):(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)),L.push(Oo[l]),L.push(Ao[l]),L.push(zo[l]),L.push(Fo[l])):35===l?(4===g?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)):(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)),L.push(Oo[l]),L.push(Ao[l]),L.push(Do[l]),L.push(Fo[l])):136===l?(0===g?(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)):(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)),L.push(Oo[l]),L.push(Ao[l]),L.push(zo[l]),L.push(Fo[l])):153===l?(0===g?(x=Uo(e,f,c),v=1-Uo(e,f,p),M=1-Uo(e,h,p),m=Uo(e,h,c)):(x=1-Uo(s,c,f),v=Uo(s,p,f),M=Uo(s,p,h),m=1-Uo(s,c,h)),L.push(Oo[l]),L.push(Do[l])):102===l?(0===g?(w=1-Uo(e,c,f),b=Uo(e,p,f),E=Uo(e,p,h),_=1-Uo(e,c,h)):(w=Uo(s,f,c),b=1-Uo(s,f,p),E=1-Uo(s,h,p),_=Uo(s,h,c)),L.push(Ao[l]),L.push(Fo[l])):155===l?(4===g?(x=Uo(e,f,c),v=1-Uo(e,f,p),M=1-Uo(e,h,p),m=Uo(e,h,c)):(x=1-Uo(s,c,f),v=Uo(s,p,f),M=Uo(s,p,h),m=1-Uo(s,c,h)),L.push(Oo[l]),L.push(zo[l])):103===l?(4===g?(w=1-Uo(e,c,f),b=Uo(e,p,f),E=Uo(e,p,h),_=1-Uo(e,c,h)):(w=Uo(s,f,c),b=1-Uo(s,f,p),E=1-Uo(s,h,p),_=Uo(s,h,c)),L.push(Ao[l]),L.push(Ro[l])):152===l?(0===g?(x=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),m=Uo(e,h,c)):(x=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),m=1-Uo(s,c,h)),L.push(Oo[l]),L.push(Ro[l]),L.push(Do[l])):156===l?(4===g?(x=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),m=Uo(e,h,c)):(x=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),m=1-Uo(s,c,h)),L.push(Oo[l]),L.push(Do[l]),L.push(Fo[l])):137===l?(0===g?(x=Uo(s,f,c),w=Uo(e,f,c),v=1-Uo(e,f,p),M=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)):(x=1-Uo(e,c,f),w=1-Uo(s,c,f),v=Uo(s,p,f),M=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)),L.push(Oo[l]),L.push(Ao[l]),L.push(Do[l])):139===l?(4===g?(x=Uo(s,f,c),w=Uo(e,f,c),v=1-Uo(e,f,p),M=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)):(x=1-Uo(e,c,f),w=1-Uo(s,c,f),v=Uo(s,p,f),M=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)),L.push(Oo[l]),L.push(Ao[l]),L.push(zo[l])):98===l?(0===g?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),E=Uo(e,p,h),_=1-Uo(e,c,h)):(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),E=1-Uo(s,h,p),_=Uo(s,h,c)),L.push(Oo[l]),L.push(Ao[l]),L.push(Fo[l])):99===l?(4===g?(x=1-Uo(e,c,f),w=1-Uo(s,c,f),b=Uo(s,p,f),v=Uo(e,p,f),E=Uo(e,p,h),_=1-Uo(e,c,h)):(x=Uo(s,f,c),w=Uo(e,f,c),b=1-Uo(e,f,p),v=1-Uo(s,f,p),E=1-Uo(s,h,p),_=Uo(s,h,c)),L.push(Oo[l]),L.push(Ao[l]),L.push(Do[l])):38===l?(0===g?(w=1-Uo(e,c,f),b=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)):(w=Uo(s,f,c),b=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)),L.push(Ao[l]),L.push(zo[l]),L.push(Fo[l])):39===l?(4===g?(w=1-Uo(e,c,f),b=Uo(e,p,f),M=Uo(e,p,h),E=Uo(s,p,h),_=1-Uo(s,c,h),m=1-Uo(e,c,h)):(w=Uo(s,f,c),b=1-Uo(s,f,p),M=1-Uo(s,h,p),E=1-Uo(e,h,p),_=Uo(e,h,c),m=Uo(s,h,c)),L.push(Ao[l]),L.push(Ro[l]),L.push(Fo[l])):85===l&&(x=1,w=0,b=1,v=0,M=0,E=1,_=0,m=1),(_<0||_>1||m<0||m>1||x<0||x>1||b<0||b>1||M<0||M>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+h+","+c+","+f+","+p+" "+g+" "+_+" "+m+" "+x+" "+w+" "+b+" "+v+" "+M+" "+E),o.cells[a][u]={cval:l,cval_real:d,flipped:g,topleft:_,topright:m,righttop:x,rightbottom:w,bottomright:b,bottomleft:v,leftbottom:M,lefttop:E,edges:L}}}}}return o}(t,e,n);return Qi.polygons?(Qi.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=Go[t.cval](t);"object"==typeof o&&qo(o)?"object"==typeof o[0]&&qo(o[0])?"object"==typeof o[0][0]&&qo(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(l)):(Qi.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=Ho(t.cells[o][s]),u=null,l=s,h=o;null!==a&&i.push([a.p[0]+l,a.p[1]+h]);do{if(null===(u=Zo(t.cells[h][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+h]),l+=u.x,a=u,(h+=u.y)<0||h>=n||l<0||l>=r||void 0===t.cells[h][l]){var c=Vo(t,l-=u.x,h-=u.y,u.x,u.y,u.o);if(null===c)break;c.path.forEach((function(t){i.push(t)})),l=c.i,h=c.j,a=c}}while(void 0!==t.cells[h][l]&&t.cells[h][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof Qi.successCallback&&Qi.successCallback(u),u}var Ji=64,$i=16,to=[],eo=[],no=[],ro=[],io=[],oo=[],so=[],ao=[],uo=[],lo=[],ho=[],co=[],fo=[],po=[],go=[],yo=[],_o=[],mo=[],vo=[],bo=[],xo=[],wo=[],Eo=[],Mo=[];so[85]=lo[85]=-1,ao[85]=ho[85]=0,uo[85]=co[85]=1,vo[85]=wo[85]=1,bo[85]=Eo[85]=0,xo[85]=Mo[85]=1,to[85]=ro[85]=0,eo[85]=io[85]=-1,no[85]=go[85]=0,yo[85]=fo[85]=0,_o[85]=po[85]=1,oo[85]=mo[85]=1,wo[1]=wo[169]=0,Eo[1]=Eo[169]=-1,Mo[1]=Mo[169]=0,fo[1]=fo[169]=-1,po[1]=po[169]=0,go[1]=go[169]=0,lo[4]=lo[166]=0,ho[4]=ho[166]=-1,co[4]=co[166]=1,yo[4]=yo[166]=1,_o[4]=_o[166]=0,mo[4]=mo[166]=0,so[16]=so[154]=0,ao[16]=ao[154]=1,uo[16]=uo[154]=1,ro[16]=ro[154]=1,io[16]=io[154]=0,oo[16]=oo[154]=1,vo[64]=vo[106]=0,bo[64]=bo[106]=1,xo[64]=xo[106]=0,to[64]=to[106]=-1,eo[64]=eo[106]=0,no[64]=no[106]=1,vo[2]=vo[168]=0,bo[2]=bo[168]=-1,xo[2]=xo[168]=1,wo[2]=wo[168]=0,Eo[2]=Eo[168]=-1,Mo[2]=Mo[168]=0,fo[2]=fo[168]=-1,po[2]=po[168]=0,go[2]=go[168]=0,yo[2]=yo[168]=-1,_o[2]=_o[168]=0,mo[2]=mo[168]=1,so[8]=so[162]=0,ao[8]=ao[162]=-1,uo[8]=uo[162]=0,lo[8]=lo[162]=0,ho[8]=ho[162]=-1,co[8]=co[162]=1,fo[8]=fo[162]=1,po[8]=po[162]=0,go[8]=go[162]=1,yo[8]=yo[162]=1,_o[8]=_o[162]=0,mo[8]=mo[162]=0,so[32]=so[138]=0,ao[32]=ao[138]=1,uo[32]=uo[138]=1,lo[32]=lo[138]=0,ho[32]=ho[138]=1,co[32]=co[138]=0,to[32]=to[138]=1,eo[32]=eo[138]=0,no[32]=no[138]=0,ro[32]=ro[138]=1,io[32]=io[138]=0,oo[32]=oo[138]=1,wo[128]=wo[42]=0,Eo[128]=Eo[42]=1,Mo[128]=Mo[42]=1,vo[128]=vo[42]=0,bo[128]=bo[42]=1,xo[128]=xo[42]=0,to[128]=to[42]=-1,eo[128]=eo[42]=0,no[128]=no[42]=1,ro[128]=ro[42]=-1,io[128]=io[42]=0,oo[128]=oo[42]=0,lo[5]=lo[165]=-1,ho[5]=ho[165]=0,co[5]=co[165]=0,wo[5]=wo[165]=1,Eo[5]=Eo[165]=0,Mo[5]=Mo[165]=0,yo[20]=yo[150]=0,_o[20]=_o[150]=1,mo[20]=mo[150]=1,ro[20]=ro[150]=0,io[20]=io[150]=-1,oo[20]=oo[150]=1,so[80]=so[90]=-1,ao[80]=ao[90]=0,uo[80]=uo[90]=1,vo[80]=vo[90]=1,bo[80]=bo[90]=0,xo[80]=xo[90]=1,fo[65]=fo[105]=0,po[65]=po[105]=1,go[65]=go[105]=0,to[65]=to[105]=0,eo[65]=eo[105]=-1,no[65]=no[105]=0,so[160]=so[10]=-1,ao[160]=ao[10]=0,uo[160]=uo[10]=1,lo[160]=lo[10]=-1,ho[160]=ho[10]=0,co[160]=co[10]=0,wo[160]=wo[10]=1,Eo[160]=Eo[10]=0,Mo[160]=Mo[10]=0,vo[160]=vo[10]=1,bo[160]=bo[10]=0,xo[160]=xo[10]=1,yo[130]=yo[40]=0,_o[130]=_o[40]=1,mo[130]=mo[40]=1,fo[130]=fo[40]=0,po[130]=po[40]=1,go[130]=go[40]=0,to[130]=to[40]=0,eo[130]=eo[40]=-1,no[130]=no[40]=0,ro[130]=ro[40]=0,io[130]=io[40]=-1,oo[130]=oo[40]=1,lo[37]=lo[133]=0,ho[37]=ho[133]=1,co[37]=co[133]=1,wo[37]=wo[133]=0,Eo[37]=Eo[133]=1,Mo[37]=Mo[133]=0,to[37]=to[133]=-1,eo[37]=eo[133]=0,no[37]=no[133]=0,ro[37]=ro[133]=1,io[37]=io[133]=0,oo[37]=oo[133]=0,yo[148]=yo[22]=-1,_o[148]=_o[22]=0,mo[148]=mo[22]=0,wo[148]=wo[22]=0,Eo[148]=Eo[22]=-1,Mo[148]=Mo[22]=1,vo[148]=vo[22]=0,bo[148]=bo[22]=1,xo[148]=xo[22]=1,ro[148]=ro[22]=-1,io[148]=io[22]=0,oo[148]=oo[22]=1,so[82]=so[88]=0,ao[82]=ao[88]=-1,uo[82]=uo[88]=1,yo[82]=yo[88]=1,_o[82]=_o[88]=0,mo[82]=mo[88]=1,fo[82]=fo[88]=-1,po[82]=po[88]=0,go[82]=go[88]=1,vo[82]=vo[88]=0,bo[82]=bo[88]=-1,xo[82]=xo[88]=0,so[73]=so[97]=0,ao[73]=ao[97]=1,uo[73]=uo[97]=0,lo[73]=lo[97]=0,ho[73]=ho[97]=-1,co[73]=co[97]=0,fo[73]=fo[97]=1,po[73]=po[97]=0,go[73]=go[97]=0,to[73]=to[97]=1,eo[73]=eo[97]=0,no[73]=no[97]=1,so[145]=so[25]=0,ao[145]=ao[25]=-1,uo[145]=uo[25]=0,fo[145]=fo[25]=1,po[145]=po[25]=0,go[145]=go[25]=1,wo[145]=wo[25]=0,Eo[145]=Eo[25]=1,Mo[145]=Mo[25]=1,ro[145]=ro[25]=-1,io[145]=io[25]=0,oo[145]=oo[25]=0,lo[70]=lo[100]=0,ho[70]=ho[100]=1,co[70]=co[100]=0,yo[70]=yo[100]=-1,_o[70]=_o[100]=0,mo[70]=mo[100]=1,vo[70]=vo[100]=0,bo[70]=bo[100]=-1,xo[70]=xo[100]=1,to[70]=to[100]=1,eo[70]=eo[100]=0,no[70]=no[100]=0,lo[101]=lo[69]=0,ho[101]=ho[69]=1,co[101]=co[69]=0,to[101]=to[69]=1,eo[101]=eo[69]=0,no[101]=no[69]=0,wo[149]=wo[21]=0,Eo[149]=Eo[21]=1,Mo[149]=Mo[21]=1,ro[149]=ro[21]=-1,io[149]=io[21]=0,oo[149]=oo[21]=0,yo[86]=yo[84]=-1,_o[86]=_o[84]=0,mo[86]=mo[84]=1,vo[86]=vo[84]=0,bo[86]=bo[84]=-1,xo[86]=xo[84]=1,so[89]=so[81]=0,ao[89]=ao[81]=-1,uo[89]=uo[81]=0,fo[89]=fo[81]=1,po[89]=po[81]=0,go[89]=go[81]=1,so[96]=so[74]=0,ao[96]=ao[74]=1,uo[96]=uo[74]=0,lo[96]=lo[74]=-1,ho[96]=ho[74]=0,co[96]=co[74]=1,vo[96]=vo[74]=1,bo[96]=bo[74]=0,xo[96]=xo[74]=0,to[96]=to[74]=1,eo[96]=eo[74]=0,no[96]=no[74]=1,so[24]=so[146]=0,ao[24]=ao[146]=-1,uo[24]=uo[146]=1,yo[24]=yo[146]=1,_o[24]=_o[146]=0,mo[24]=mo[146]=1,fo[24]=fo[146]=0,po[24]=po[146]=1,go[24]=go[146]=1,ro[24]=ro[146]=0,io[24]=io[146]=-1,oo[24]=oo[146]=0,lo[6]=lo[164]=-1,ho[6]=ho[164]=0,co[6]=co[164]=1,yo[6]=yo[164]=-1,_o[6]=_o[164]=0,mo[6]=mo[164]=0,wo[6]=wo[164]=0,Eo[6]=Eo[164]=-1,Mo[6]=Mo[164]=1,vo[6]=vo[164]=1,bo[6]=bo[164]=0,xo[6]=xo[164]=0,fo[129]=fo[41]=0,po[129]=po[41]=1,go[129]=go[41]=1,wo[129]=wo[41]=0,Eo[129]=Eo[41]=1,Mo[129]=Mo[41]=0,to[129]=to[41]=-1,eo[129]=eo[41]=0,no[129]=no[41]=0,ro[129]=ro[41]=0,io[129]=io[41]=-1,oo[129]=oo[41]=0,yo[66]=yo[104]=0,_o[66]=_o[104]=1,mo[66]=mo[104]=0,fo[66]=fo[104]=-1,po[66]=po[104]=0,go[66]=go[104]=1,vo[66]=vo[104]=0,bo[66]=bo[104]=-1,xo[66]=xo[104]=0,to[66]=to[104]=0,eo[66]=eo[104]=-1,no[66]=no[104]=1,so[144]=so[26]=-1,ao[144]=ao[26]=0,uo[144]=uo[26]=0,wo[144]=wo[26]=1,Eo[144]=Eo[26]=0,Mo[144]=Mo[26]=1,vo[144]=vo[26]=0,bo[144]=bo[26]=1,xo[144]=xo[26]=1,ro[144]=ro[26]=-1,io[144]=io[26]=0,oo[144]=oo[26]=1,lo[36]=lo[134]=0,ho[36]=ho[134]=1,co[36]=co[134]=1,yo[36]=yo[134]=0,_o[36]=_o[134]=1,mo[36]=mo[134]=0,to[36]=to[134]=0,eo[36]=eo[134]=-1,no[36]=no[134]=1,ro[36]=ro[134]=1,io[36]=io[134]=0,oo[36]=oo[134]=0,so[9]=so[161]=-1,ao[9]=ao[161]=0,uo[9]=uo[161]=0,lo[9]=lo[161]=0,ho[9]=ho[161]=-1,co[9]=co[161]=0,fo[9]=fo[161]=1,po[9]=po[161]=0,go[9]=go[161]=0,wo[9]=wo[161]=1,Eo[9]=Eo[161]=0,Mo[9]=Mo[161]=1,so[136]=0,ao[136]=1,uo[136]=1,lo[136]=0,ho[136]=1,co[136]=0,yo[136]=-1,_o[136]=0,mo[136]=1,fo[136]=-1,po[136]=0,go[136]=0,wo[136]=0,Eo[136]=-1,Mo[136]=0,vo[136]=0,bo[136]=-1,xo[136]=1,to[136]=1,eo[136]=0,no[136]=0,ro[136]=1,io[136]=0,oo[136]=1,so[34]=0,ao[34]=-1,uo[34]=0,lo[34]=0,ho[34]=-1,co[34]=1,yo[34]=1,_o[34]=0,mo[34]=0,fo[34]=1,po[34]=0,go[34]=1,wo[34]=0,Eo[34]=1,Mo[34]=1,vo[34]=0,bo[34]=1,xo[34]=0,to[34]=-1,eo[34]=0,no[34]=1,ro[34]=-1,io[34]=0,oo[34]=0,so[35]=0,ao[35]=1,uo[35]=1,lo[35]=0,ho[35]=-1,co[35]=1,yo[35]=1,_o[35]=0,mo[35]=0,fo[35]=-1,po[35]=0,go[35]=0,wo[35]=0,Eo[35]=-1,Mo[35]=0,vo[35]=0,bo[35]=1,xo[35]=0,to[35]=-1,eo[35]=0,no[35]=1,ro[35]=1,io[35]=0,oo[35]=1,so[153]=0,ao[153]=1,uo[153]=1,fo[153]=-1,po[153]=0,go[153]=0,wo[153]=0,Eo[153]=-1,Mo[153]=0,ro[153]=1,io[153]=0,oo[153]=1,lo[102]=0,ho[102]=-1,co[102]=1,yo[102]=1,_o[102]=0,mo[102]=0,vo[102]=0,bo[102]=1,xo[102]=0,to[102]=-1,eo[102]=0,no[102]=1,so[155]=0,ao[155]=-1,uo[155]=0,fo[155]=1,po[155]=0,go[155]=1,wo[155]=0,Eo[155]=1,Mo[155]=1,ro[155]=-1,io[155]=0,oo[155]=0,lo[103]=0,ho[103]=1,co[103]=0,yo[103]=-1,_o[103]=0,mo[103]=1,vo[103]=0,bo[103]=-1,xo[103]=1,to[103]=1,eo[103]=0,no[103]=0,so[152]=0,ao[152]=1,uo[152]=1,yo[152]=-1,_o[152]=0,mo[152]=1,fo[152]=-1,po[152]=0,go[152]=0,wo[152]=0,Eo[152]=-1,Mo[152]=0,vo[152]=0,bo[152]=-1,xo[152]=1,ro[152]=1,io[152]=0,oo[152]=1,so[156]=0,ao[156]=-1,uo[156]=1,yo[156]=1,_o[156]=0,mo[156]=1,fo[156]=-1,po[156]=0,go[156]=0,wo[156]=0,Eo[156]=-1,Mo[156]=0,vo[156]=0,bo[156]=1,xo[156]=1,ro[156]=-1,io[156]=0,oo[156]=1,so[137]=0,ao[137]=1,uo[137]=1,lo[137]=0,ho[137]=1,co[137]=0,fo[137]=-1,po[137]=0,go[137]=0,wo[137]=0,Eo[137]=-1,Mo[137]=0,to[137]=1,eo[137]=0,no[137]=0,ro[137]=1,io[137]=0,oo[137]=1,so[139]=0,ao[139]=1,uo[139]=1,lo[139]=0,ho[139]=-1,co[139]=0,fo[139]=1,po[139]=0,go[139]=0,wo[139]=0,Eo[139]=1,Mo[139]=0,to[139]=-1,eo[139]=0,no[139]=0,ro[139]=1,io[139]=0,oo[139]=1,so[98]=0,ao[98]=-1,uo[98]=0,lo[98]=0,ho[98]=-1,co[98]=1,yo[98]=1,_o[98]=0,mo[98]=0,fo[98]=1,po[98]=0,go[98]=1,vo[98]=0,bo[98]=1,xo[98]=0,to[98]=-1,eo[98]=0,no[98]=1,so[99]=0,ao[99]=1,uo[99]=0,lo[99]=0,ho[99]=-1,co[99]=1,yo[99]=1,_o[99]=0,mo[99]=0,fo[99]=-1,po[99]=0,go[99]=1,vo[99]=0,bo[99]=-1,xo[99]=0,to[99]=1,eo[99]=0,no[99]=1,lo[38]=0,ho[38]=-1,co[38]=1,yo[38]=1,_o[38]=0,mo[38]=0,wo[38]=0,Eo[38]=1,Mo[38]=1,vo[38]=0,bo[38]=1,xo[38]=0,to[38]=-1,eo[38]=0,no[38]=1,ro[38]=-1,io[38]=0,oo[38]=0,lo[39]=0,ho[39]=1,co[39]=1,yo[39]=-1,_o[39]=0,mo[39]=0,wo[39]=0,Eo[39]=-1,Mo[39]=1,vo[39]=0,bo[39]=1,xo[39]=0,to[39]=-1,eo[39]=0,no[39]=1,ro[39]=1,io[39]=0,oo[39]=0;var Lo=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},So=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Po=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Co=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Io=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},ko=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},To=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},No=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Oo=[],Ao=[],Ro=[],Do=[],zo=[],Fo=[],Bo=[],jo=[];Do[1]=zo[1]=18,Do[169]=zo[169]=18,Ro[4]=Ao[4]=12,Ro[166]=Ao[166]=12,Oo[16]=jo[16]=4,Oo[154]=jo[154]=4,Fo[64]=Bo[64]=22,Fo[106]=Bo[106]=22,Ro[2]=Fo[2]=17,Do[2]=zo[2]=18,Ro[168]=Fo[168]=17,Do[168]=zo[168]=18,Oo[8]=Do[8]=9,Ao[8]=Ro[8]=12,Oo[162]=Do[162]=9,Ao[162]=Ro[162]=12,Oo[32]=jo[32]=4,Ao[32]=Bo[32]=1,Oo[138]=jo[138]=4,Ao[138]=Bo[138]=1,zo[128]=jo[128]=21,Fo[128]=Bo[128]=22,zo[42]=jo[42]=21,Fo[42]=Bo[42]=22,Ao[5]=zo[5]=14,Ao[165]=zo[165]=14,Ro[20]=jo[20]=6,Ro[150]=jo[150]=6,Oo[80]=Fo[80]=11,Oo[90]=Fo[90]=11,Do[65]=Bo[65]=3,Do[105]=Bo[105]=3,Oo[160]=Fo[160]=11,Ao[160]=zo[160]=14,Oo[10]=Fo[10]=11,Ao[10]=zo[10]=14,Ro[130]=jo[130]=6,Do[130]=Bo[130]=3,Ro[40]=jo[40]=6,Do[40]=Bo[40]=3,Ao[101]=Bo[101]=1,Ao[69]=Bo[69]=1,zo[149]=jo[149]=21,zo[21]=jo[21]=21,Ro[86]=Fo[86]=17,Ro[84]=Fo[84]=17,Oo[89]=Do[89]=9,Oo[81]=Do[81]=9,Oo[96]=Bo[96]=0,Ao[96]=Fo[96]=15,Oo[74]=Bo[74]=0,Ao[74]=Fo[74]=15,Oo[24]=Ro[24]=8,Do[24]=jo[24]=7,Oo[146]=Ro[146]=8,Do[146]=jo[146]=7,Ao[6]=Fo[6]=15,Ro[6]=zo[6]=16,Ao[164]=Fo[164]=15,Ro[164]=zo[164]=16,Do[129]=jo[129]=7,zo[129]=Bo[129]=20,Do[41]=jo[41]=7,zo[41]=Bo[41]=20,Ro[66]=Bo[66]=2,Do[66]=Fo[66]=19,Ro[104]=Bo[104]=2,Do[104]=Fo[104]=19,Oo[144]=zo[144]=10,Fo[144]=jo[144]=23,Oo[26]=zo[26]=10,Fo[26]=jo[26]=23,Ao[36]=jo[36]=5,Ro[36]=Bo[36]=2,Ao[134]=jo[134]=5,Ro[134]=Bo[134]=2,Oo[9]=zo[9]=10,Ao[9]=Do[9]=13,Oo[161]=zo[161]=10,Ao[161]=Do[161]=13,Ao[37]=jo[37]=5,zo[37]=Bo[37]=20,Ao[133]=jo[133]=5,zo[133]=Bo[133]=20,Ro[148]=zo[148]=16,Fo[148]=jo[148]=23,Ro[22]=zo[22]=16,Fo[22]=jo[22]=23,Oo[82]=Ro[82]=8,Do[82]=Fo[82]=19,Oo[88]=Ro[88]=8,Do[88]=Fo[88]=19,Oo[73]=Bo[73]=0,Ao[73]=Do[73]=13,Oo[97]=Bo[97]=0,Ao[97]=Do[97]=13,Oo[145]=Do[145]=9,zo[145]=jo[145]=21,Oo[25]=Do[25]=9,zo[25]=jo[25]=21,Ao[70]=Bo[70]=1,Ro[70]=Fo[70]=17,Ao[100]=Bo[100]=1,Ro[100]=Fo[100]=17,Oo[34]=Do[34]=9,Ao[34]=Ro[34]=12,zo[34]=jo[34]=21,Fo[34]=Bo[34]=22,Oo[136]=jo[136]=4,Ao[136]=Bo[136]=1,Ro[136]=Fo[136]=17,Do[136]=zo[136]=18,Oo[35]=jo[35]=4,Ao[35]=Ro[35]=12,Do[35]=zo[35]=18,Fo[35]=Bo[35]=22,Oo[153]=jo[153]=4,Do[153]=zo[153]=18,Ao[102]=Ro[102]=12,Fo[102]=Bo[102]=22,Oo[155]=Do[155]=9,zo[155]=jo[155]=23,Ao[103]=Bo[103]=1,Ro[103]=Fo[103]=17,Oo[152]=jo[152]=4,Ro[152]=Fo[152]=17,Do[152]=zo[152]=18,Oo[156]=Ro[156]=8,Do[156]=zo[156]=18,Fo[156]=jo[156]=23,Oo[137]=jo[137]=4,Ao[137]=Bo[137]=1,Do[137]=zo[137]=18,Oo[139]=jo[139]=4,Ao[139]=Do[139]=13,zo[139]=Bo[139]=20,Oo[98]=Do[98]=9,Ao[98]=Ro[98]=12,Fo[98]=Bo[98]=22,Oo[99]=Bo[99]=0,Ao[99]=Ro[99]=12,Do[99]=Fo[99]=19,Ao[38]=Ro[38]=12,zo[38]=jo[38]=21,Fo[38]=Bo[38]=22,Ao[39]=jo[39]=5,Ro[39]=zo[39]=16,Fo[39]=Bo[39]=22;var Go=[];function Uo(t,e,n){return(t-e)/(n-e)}function qo(t){return t.constructor.toString().indexOf("Array")>-1}function Vo(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,h=[],c=!1;!c;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,a=(s=t.cells[l][u]).cval_real,-1===i)if(0===o)if(1&a)h.push([u,l]),r=-1,i=0,o=0;else{if(!(4&a)){h.push([u+s.bottomright,l]),r=0,i=1,o=1,c=!0;break}h.push([u+1,l]),r=1,i=0,o=0}else{if(!(1&a)){if(4&a){h.push([u+s.bottomright,l]),r=0,i=1,o=1,c=!0;break}h.push([u+s.bottomleft,l]),r=0,i=1,o=0,c=!0;break}h.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&$i)){if(a&Ji){h.push([u+s.topleft,l+1]),r=0,i=-1,o=0,c=!0;break}h.push([u+s.topright,l+1]),r=0,i=-1,o=1,c=!0;break}h.push([u+1,l+1]),r=1,i=0,o=1}else h.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&Ji)){if(1&a){h.push([u,l+s.leftbottom]),r=1,i=0,o=0,c=!0;break}h.push([u,l+s.lefttop]),r=1,i=0,o=1,c=!0;break}h.push([u,l+1]),r=0,i=1,o=0}else{if(!(a&Ji)){console.log("MarchingSquaresJS-isoBands: wtf");break}h.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&a)){h.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,c=!0;break}h.push([u+1,l]),r=0,i=-1,o=1}else{if(!(4&a)){if(a&$i){h.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}h.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,c=!0;break}h.push([u+1,l]),r=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(1&a)){h.push([u+s.bottomright,l]),r=0,i=1,o=1,c=!0;break}h.push([u,l])}else{if(!(a&Ji)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(a&$i)){h.push([u+s.topleft,l+1]),r=0,i=-1,o=0,c=!0;break}h.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(4&a)){h.push([u+1,l+s.righttop]),r=-1,i=0,o=1,c=!0;break}h.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(a&Ji)){h.push([u,l+s.leftbottom]),r=1,i=0,o=0,c=!0;break}h.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:h,i:u,j:l,x:r,y:i,o:o}}function Ho(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&$i?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&$i?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Ji?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Ji?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Ji?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Ji?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Ji?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&$i?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Ji?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&$i?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function Zo(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=Ao[l],s=lo[l],a=ho[l],u=co[l];break;default:i=Oo[l],s=so[l],a=ao[l],u=uo[l]}break;case 1:switch(r){case 0:i=zo[l],s=wo[l],a=Eo[l],u=Mo[l];break;default:i=Fo[l],s=vo[l],a=bo[l],u=xo[l]}break;default:switch(n){case-1:switch(r){case 0:i=Bo[l],s=to[l],a=eo[l],u=no[l];break;default:i=jo[l],s=ro[l],a=io[l],u=oo[l]}break;case 1:switch(r){case 0:i=Do[l],s=fo[l],a=po[l],u=go[l];break;default:i=Ro[l],s=yo[l],a=_o[l],u=mo[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&$i?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:4&l?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:4&l?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:1&l?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&$i?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:4&l?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:4&l?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:1&l?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:4&l?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:1&l?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:1&l?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&Ji?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:4&l?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:1&l?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:1&l?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&Ji?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:4&l?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&Ji?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:1&l?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&Ji?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&Ji?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&$i?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&Ji?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&$i?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}function Yo(t){var e=[],n=[];t.forEach((function(t){var r=Ur(h([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}function Xo(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!Qo(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var o=h([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||Wo(h([e[s].lrCoordinates]),o)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(i)}return n}function Wo(t,e){for(var n=wn(t),r=0;r<n.features.length;r++)if(!_e(n.features[r],e))return!1;return!0}function Qo(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}function Ko(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=xn(t)),!1!==i&&void 0!==i||(t=Le(t)),U(t,(function(t){var n=Fi(r,t)+e,i=Ar(r,t),o=A(ji(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function Jo(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Le(t)),"FeatureCollection"!==t.type||o?$o(t,e,r):(Z(t,(function(n,i){t.features[i]=$o(n,e,r)})),t)}function $o(t,e,n){var r="Point"===j(t);return n=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return O(e);var n=t.bbox?t.bbox:st(t),r=n[0],i=n[1],o=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return u([r,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return u([o,i]);case"nw":case"northwest":case"westnorth":case"topleft":return u([r,s]);case"ne":case"northeast":case"eastnorth":case"topright":return u([o,s]);case"center":return bn(t);case void 0:case null:case"centroid":return xn(t);default:throw new Error("invalid origin")}}(t,n),1===e||r||U(t,(function(t){var r=Ar(n,t),i=Fi(n,t),o=A(ji(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function ts(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function es(t,e){return t[0]*e[1]-e[0]*t[1]}function ns(t,e){return!function(t,e){return 0===es(ts(t),ts(e))}(t,e)&&function(t,e){var n,r,i=t[0],o=ts(t),s=e[0],a=ts(e),u=es(o,a);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(i,function(t,e){return[t*e[0],t*e[1]]}(es((r=i,[(n=s)[0]-r[0],n[1]-r[1]]),a)/u,o))}(t,e)}function rs(t,e,n){var r=[],i=w(e,n),o=A(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=(l=t,h=o[e+1],c=i,f=Math.sqrt((l[0]-h[0])*(l[0]-h[0])+(l[1]-h[1])*(l[1]-h[1])),p=l[0]+c*(h[1]-l[1])/f,d=h[0]+c*(h[1]-l[1])/f,[[p,l[1]+c*(l[0]-h[0])/f],[d,h[1]+c*(l[0]-h[0])/f]]);if(r.push(n),e>0){var a=r[e-1],u=ns(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}var l,h,c,f,p,d})),f(s,t.properties)}function is(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0];return function(t){return(t>0)-(t<0)||+t}(r*(n[1]-e[1])-o*i)}function os(t,e){return e.geometry.coordinates[0].every((function(e){return _e(u(e),t)}))}Go[1]=Go[169]=Lo,Go[4]=Go[166]=So,Go[16]=Go[154]=Po,Go[64]=Go[106]=Co,Go[168]=Go[2]=Io,Go[162]=Go[8]=ko,Go[138]=Go[32]=To,Go[42]=Go[128]=No,Go[5]=Go[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Go[20]=Go[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Go[80]=Go[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Go[65]=Go[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Go[160]=Go[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Go[130]=Go[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Go[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Go[101]=Go[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Go[149]=Go[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Go[86]=Go[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Go[89]=Go[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Go[96]=Go[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Go[24]=Go[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Go[6]=Go[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Go[129]=Go[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Go[66]=Go[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Go[144]=Go[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Go[36]=Go[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Go[9]=Go[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Go[37]=Go[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Go[148]=Go[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Go[82]=Go[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Go[73]=Go[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Go[145]=Go[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Go[70]=Go[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Go[34]=function(t){return[No(t),ko(t)]},Go[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Go[136]=function(t){return[To(t),Io(t)]},Go[153]=function(t){return[Po(t),Lo(t)]},Go[102]=function(t){return[So(t),Co(t)]},Go[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Go[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Go[152]=function(t){return[Po(t),Io(t)]},Go[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Go[137]=function(t){return[To(t),Lo(t)]},Go[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Go[98]=function(t){return[ko(t),Co(t)]},Go[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Go[38]=function(t){return[So(t),No(t)]},Go[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ss=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=is(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),as=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return f([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return is(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),us=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=is(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return y(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=h([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=gn(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,i=t.getEnvelope();return e.forEach((function(e){var o,s,a,l,h,c,f=e.getEnvelope();if(r&&(n=r.getEnvelope()),s=i,a=(o=f).geometry.coordinates.map((function(t){return t[0]})),l=o.geometry.coordinates.map((function(t){return t[1]})),h=s.geometry.coordinates.map((function(t){return t[0]})),c=s.geometry.coordinates.map((function(t){return t[1]})),(Math.max(null,a)!==Math.max(null,h)||Math.max(null,l)!==Math.max(null,c)||Math.min(null,a)!==Math.min(null,h)||Math.min(null,l)!==Math.min(null,c))&&os(f,i)){var p=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return n=t,r=e.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))}));p&&e.inside(u(p))&&(r&&!os(n,f)||(r=e))}})),r},t.prototype.inside=function(t){return _e(t,this.toPolygon())},t}(),ls=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return K(e,(function(t){z(t,"LineString","Graph::fromGeoJson"),q(t,(function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e}))})),n},t.prototype.getNode=function(t){var e=ss.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ss(t)),n},t.prototype.addEdge=function(t,e){var n=new as(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new us;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()},t}();function hs(t,e){var n=!0;return K(t,(function(t){K(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return n=t.coordinates,r=e.coordinates,!(n[0]===r[0]&&n[1]===r[1]);case"LineString":return!cs(e,t);case"Polygon":return!_e(t,e)}break;case"LineString":switch(e.type){case"Point":return!cs(t,e);case"LineString":return!function(t,e){return Tr(t,e).features.length>0}(t,e);case"Polygon":return!fs(e,t)}break;case"Polygon":switch(e.type){case"Point":return!_e(e,t);case"LineString":return!fs(t,e);case"Polygon":return!function(t,e){for(var n=0,r=t.coordinates[0];n<r.length;n++)if(_e(r[n],e))return!0;for(var i=0,o=e.coordinates[0];i<o.length;i++)if(_e(o[i],t))return!0;return Tr(wi(t),wi(e)).features.length>0}(e,t)}}var n,r;return!1}(t.geometry,e.geometry)}))})),n}function cs(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(ps(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function fs(t,e){for(var n=0,r=e.coordinates;n<r.length;n++)if(_e(r[n],t))return!0;return Tr(e,wi(t)).features.length>0}function ps(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==r*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}function ds(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function gs(t,e){return t[0]===e[0]&&t[1]===e[1]}function ys(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function _s(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),bs(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function ms(t,e){return Tr(t,Ei(e)).features.length>0}function vs(t,e){for(var n=!1,r=!1,i=t.coordinates[0].length,o=0;o<i&&n&&r;)_e(u(t.coordinates[0][o]),e)?n=!0:r=!0,o++;return r&&r}function bs(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}var xs=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Ms};function ws(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function Es(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Ms(t,e){return Ai(t,e,{strict:!0})}xs.prototype.compare=function(t,e){if(t.type!==e.type||!Es(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=ws(t),i=ws(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},xs.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},xs.prototype.compareLine=function(t,e,n,r){if(!Es(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},xs.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},xs.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},xs.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},xs.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},xs.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},xs.prototype.removePseudo=function(t){return t};var Ls=xs;function Ss(t,e){var n=B(t),r=B(e),i=n.type,o=r.type;if("MultiPoint"===i&&"MultiPoint"!==o||("LineString"===i||"MultiLineString"===i)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===i||"MultiPolygon"===i)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===i)throw new Error("Point geometry not supported");if(new Ls({precision:6}).compare(t,e))return!1;var s=0;switch(i){case"MultiPoint":for(var a=0;a<n.coordinates.length;a++)for(var u=0;u<r.coordinates.length;u++){var l=n.coordinates[a],h=r.coordinates[u];if(l[0]===h[0]&&l[1]===h[1])return!0}return!1;case"LineString":case"MultiLineString":$(t,(function(t){$(e,(function(e){Ri(t,e).features.length&&s++}))}));break;case"Polygon":case"MultiPolygon":$(t,(function(t){$(e,(function(e){Tr(t,e).features.length&&s++}))}))}return s>0}function Ps(t,e){var n=!1;return K(t,(function(t){K(e,(function(e){if(!0===n)return!0;n=!hs(t.geometry,e.geometry)}))})),n}var Cs=Gt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Is=Gt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(h),a=0,u=0;u<h;u++)s[u]=0;for(var l=0;l<n;l++){var h=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<h;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<h;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),ks=Gt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Ts=Gt((function(t){if(t.exports)var e=ks;function n(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}n.prototype.run=function(t,n,r,i){this._init(t,n,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new e(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},n.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},n.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},n.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},n.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},n.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},n.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},n.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=n)})),Ns=Gt((function(t){t.exports&&(t.exports={DBSCAN:Cs,KMEANS:Is,OPTICS:Ts,PriorityQueue:ks})})),Os=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},As=Os,Rs=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Ds=Os,zs=function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},Fs=function(t,e){var n=t[0].length?As:Rs,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join("_"),r.push(s);r.length<e;){for(var a=[],u=r.length,l=0,h=[],c=0;c<i;c++){for(var f=1/0,p=0;p<u;p++){var d=n(t[c],r[p]);d<=f&&(f=d)}a[c]=f}for(var g=0;g<i;g++)l+=a[g];for(var y=0;y<i;y++)h[y]={i:y,v:t[y],pr:a[y]/l,cs:0};h.sort((function(t,e){return t.pr-e.pr})),h[0].cs=h[0].pr;for(var _=1;_<i;_++)h[_].cs=h[_-1].cs+h[_].pr;for(var m=Math.random(),v=0;v<i-1&&h[v++].cs<m;);r.push(h[v-1].v)}return r};function Bs(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}var js=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,l=r||1e4,h=t.length,c=t[0].length,f=c>0,p=[];if(n)i="kmrand"==n?zs(t,e):"kmpp"==n?Fs(t,e):n;else for(var d={};i.length<e;){var g=Math.floor(Math.random()*h);d[g]||(d[g]=!0,i.push(t[g]))}do{Bs(e,0,p);for(var y=0;y<h;y++){for(var _=1/0,m=0,v=0;v<e;v++)(a=f?Ds(t[y],i[v]):Math.abs(t[y]-i[v]))<=_&&(_=a,m=v);s[y]=m,p[m]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=f?Bs(c,0,b[x]):0,o[x]=i[x];if(f){for(var w=0;w<e;w++)i[w]=[];for(var E=0;E<h;E++)for(var M=b[s[E]],L=t[E],S=0;S<c;S++)M[S]+=L[S];u=!0;for(var P=0;P<e;P++){for(var C=i[P],I=b[P],k=o[P],T=p[P],N=0;N<c;N++)C[N]=I[N]/T||0;if(u)for(var O=0;O<c;O++)if(k[O]!=C[O]){u=!1;break}}}else{for(var A=0;A<h;A++)b[s[A]]+=t[A];for(var R=0;R<e;R++)i[R]=b[R]/p[R]||0;u=!0;for(var D=0;D<e;D++)if(o[D]!=i[D]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:s,centroids:i}};function Gs(t,e){return E(Fi(t[0],t[1]))===E(Fi(e[0],e[1]))}function Us(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function qs(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var Vs={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||Vs.heuristics.manhattan,o=r.closest||!1,s=new Ys((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return qs(u);u.closed=!0;for(var l=t.neighbors(u),h=0,c=l.length;h<c;++h){var f=l[h];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?qs(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function Hs(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Zs(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Zs(t,e,n){this.x=t,this.y=e,this.weight=n}function Ys(t){this.content=[],this.scoreFunction=t}function Xs(t,e){for(var n=0;n<e.features.length;n++)if(_e(t,e.features[n]))return!0;return!1}function Ws(t){return function(){return t}}function Qs(t){return t[0]}function Ks(t){return t[1]}function Js(){this._=null}function $s(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ta(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ea(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function na(t){for(;t.L;)t=t.L;return t}function ra(t,e,n,r){var i=[null,null],o=Pa.push(i)-1;return i.left=t,i.right=e,n&&oa(i,t,e,n),r&&oa(i,e,t,r),La[t.index].halfedges.push(o),La[e.index].halfedges.push(o),i}function ia(t,e,n){var r=[e,n];return r.left=t,r}function oa(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function sa(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],h=0,c=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>h&&(h=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<c&&(c=o)}return!(h>0||c<1)||(h>0&&(t[0]=[u+h*f,l+h*p]),c<1&&(t[1]=[u+c*f,l+c*p]),!0)}}}}}function aa(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,h=t.right,c=l[0],f=l[1],p=h[0],d=h[1],g=(c+p)/2,y=(f+d)/2;if(d===f){if(g<e||g>=r)return;if(c>p){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(a=y-(s=(c-p)/(d-f))*g,s<-1||s>1)if(c>p){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function ua(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function la(t,e){return e[+(e.left!==t.site)]}function ha(t,e){return e[+(e.left===t.site)]}Hs.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Vs.cleanNode(this.nodes[t])},Hs.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Vs.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Hs.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Hs.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Hs.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Zs.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Zs.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Zs.prototype.isWall=function(){return 0===this.weight},Ys.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}},Js.prototype={constructor:Js,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=na(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ta(this,n),n=(t=n).U),n.C=!1,r.C=!0,ea(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ea(this,n),n=(t=n).U),n.C=!1,r.C=!0,ta(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?na(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ta(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ea(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ta(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ea(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ta(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ea(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ca,fa=[];function pa(){$s(this),this.x=this.y=this.arc=this.site=this.cy=null}function da(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,h=o[0]-s,c=o[1]-a,f=2*(u*c-l*h);if(!(f>=-Ia)){var p=u*u+l*l,d=h*h+c*c,g=(c*p-l*d)/f,y=(u*d-h*p)/f,_=fa.pop()||new pa;_.arc=t,_.site=i,_.x=g+s,_.y=(_.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=_;for(var m=null,v=Sa._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){m=v.P;break}v=v.L}else{if(!v.R){m=v;break}v=v.R}Sa.insert(m,_),m||(ca=_)}}}}function ga(t){var e=t.circle;e&&(e.P||(ca=e.N),Sa.remove(e),fa.push(e),$s(e),t.circle=null)}var ya=[];function _a(){$s(this),this.edge=this.site=this.circle=null}function ma(t){var e=ya.pop()||new _a;return e.site=t,e}function va(t){ga(t),Ma.remove(t),ya.push(t),$s(t)}function ba(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];va(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ca&&Math.abs(r-u.circle.cy)<Ca;)o=u.P,a.unshift(u),va(u),u=o;a.unshift(u),ga(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<Ca&&Math.abs(r-l.circle.cy)<Ca;)s=l.N,a.push(l),va(l),l=s;a.push(l),ga(l);var h,c=a.length;for(h=1;h<c;++h)l=a[h],u=a[h-1],oa(l.edge,u.site,l.site,i);u=a[0],(l=a[c-1]).edge=ra(u.site,l.site,null,i),da(u),da(l)}function xa(t){for(var e,n,r,i,o=t[0],s=t[1],a=Ma._;a;)if((r=wa(a,s)-o)>Ca)a=a.L;else{if(!((i=o-Ea(a,s))>Ca)){r>-Ca?(e=a.P,n=a):i>-Ca?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){La[t.index]={site:t,halfedges:[]}}(t);var u=ma(t);if(Ma.insert(e,u),e||n){if(e===n)return ga(e),n=ma(e.site),Ma.insert(u,n),u.edge=n.edge=ra(e.site,u.site),da(e),void da(n);if(n){ga(e),ga(n);var l=e.site,h=l[0],c=l[1],f=t[0]-h,p=t[1]-c,d=n.site,g=d[0]-h,y=d[1]-c,_=2*(f*y-p*g),m=f*f+p*p,v=g*g+y*y,b=[(y*m-p*v)/_+h,(f*v-g*m)/_+c];oa(n.edge,l,d,b),u.edge=ra(l,t,null,b),n.edge=ra(t,d,null,b),da(e),da(n)}else u.edge=ra(e.site,u.site)}}function wa(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var h=a-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+a)/2}function Ea(t,e){var n=t.N;if(n)return wa(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ma,La,Sa,Pa,Ca=1e-6,Ia=1e-12;function ka(t,e){return e[1]-t[1]||e[0]-t[0]}function Ta(t,e){var n,r,i,o=t.sort(ka).pop();for(Pa=[],La=new Array(t.length),Ma=new Js,Sa=new Js;;)if(i=ca,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(xa(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;ba(i.arc)}if(function(){for(var t,e,n,r,i=0,o=La.length;i<o;++i)if((t=La[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=ua(t,Pa[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Pa.length;o--;)aa(i=Pa[o],t,e,n,r)&&sa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ca||Math.abs(i[0][1]-i[1][1])>Ca)||delete Pa[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,h,c,f,p,d,g,y=La.length,_=!0;for(i=0;i<y;++i)if(o=La[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)Pa[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(p=ha(o,Pa[u[a]]))[0],g=p[1],c=(h=la(o,Pa[u[++a%l]]))[0],f=h[1],(Math.abs(d-c)>Ca||Math.abs(g-f)>Ca)&&(u.splice(a,0,Pa.push(ia(s,p,Math.abs(d-t)<Ca&&r-g>Ca?[t,Math.abs(c-t)<Ca?f:r]:Math.abs(g-r)<Ca&&n-d>Ca?[Math.abs(f-r)<Ca?c:n,r]:Math.abs(d-n)<Ca&&g-e>Ca?[n,Math.abs(c-n)<Ca?f:e]:Math.abs(g-e)<Ca&&d-t>Ca?[Math.abs(f-e)<Ca?c:t,e]:null))-1),++l);l&&(_=!1)}if(_){var m,v,b,x=1/0;for(i=0,_=null;i<y;++i)(o=La[i])&&(b=(m=(s=o.site)[0]-t)*m+(v=s[1]-e)*v)<x&&(x=b,_=o);if(_){var w=[t,e],E=[t,r],M=[n,r],L=[n,e];_.halfedges.push(Pa.push(ia(s=_.site,w,E))-1,Pa.push(ia(s,E,M))-1,Pa.push(ia(s,M,L))-1,Pa.push(ia(s,L,w))-1)}}for(i=0;i<y;++i)(o=La[i])&&(o.halfedges.length||delete La[i])}(s,a,u,l)}this.edges=Pa,this.cells=La,Ma=Sa=Pa=La=null}function Na(t){return(t=t.slice()).push(t[0]),h([t])}function Oa(t,e,n,r){var i=(r=r||{}).steps||64,o=r.units||"kilometers",s=r.angle||0,a=r.pivot||t,u=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!I(r))throw new Error("options must be an object");if(!C(i))throw new Error("steps must be a number");if(!C(s))throw new Error("angle must be a number");var l=O(t);if("degrees"===o)var c=L(s);else e=ji(t,e,90,{units:o}),n=ji(t,n,0,{units:o}),e=O(e)[0]-l[0],n=O(n)[1]-l[1];for(var f=[],p=0;p<i;p+=1){var d=-360*p/i,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(Aa(d),2)),y=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(Aa(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(y=-y),"degrees"===o){var _=g*Math.cos(c)+y*Math.sin(c),m=y*Math.cos(c)-g*Math.sin(c);g=_,y=m}f.push([g+l[0],y+l[1]])}return f.push(f[0]),"degrees"===o?h([f],u):Ko(h([f],u),s,{pivot:a})}function Aa(t){var e=t*Math.PI/180;return Math.tan(e)}function Ra(t,e){void 0===e&&(e={});var n=0,r=0,i=0;return W(t,(function(t,o,s){var a=s[e.weight];if(!C(a=null==a?1:a))throw new Error("weight value must be a number for feature index "+o);(a=Number(a))>0&&U(t,(function(t){n+=t[0]*a,r+=t[1]*a,i+=a}))})),u([n/i,r/i],e.properties,e)}function Da(t,e,n,r){var i=n.properties.tolerance||.001,o=0,s=0,a=0,l=0;if(Z(n,(function(e){var n=e.properties.weight,r=null==n?1:n;if(!C(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*be(e,t);0===i&&(i=1);var u=r/i;o+=e.geometry.coordinates[0]*u,s+=e.geometry.coordinates[1]*u,a+=u}})),l<1)throw new Error("no features to measure");var h=o/a,c=s/a;return 1===l||0===r||Math.abs(h-e[0])<i&&Math.abs(c-e[1])<i?u([h,c],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([h,c]),Da([h,c],t,n,r-1))}function za(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function Fa(t,e){var n=0,r=0;U(t,(function(i,o,s,a,u){u>n&&(n=u,r=o,e.push([]));var l=o-r,h=t.coordinates[u][l+1],c=i[0],f=i[1],p=h[0],d=h[1];e[u].push([.75*c+.25*p,.75*f+.25*d]),e[u].push([.25*c+.75*p,.25*f+.75*d])}),!0),e.forEach((function(t){t.push(t[0])}))}function Ba(t,e){var n=0,r=0,i=0;U(t,(function(o,s,a,u,l){u>i&&(i=u,r=s,e.push([[]])),l>n&&(n=l,r=s,e[u].push([]));var h=s-r,c=t.coordinates[u][l][h+1],f=o[0],p=o[1],d=c[0],g=c[1];e[u][l].push([.75*f+.25*d,.75*p+.25*g]),e[u][l].push([.25*f+.75*d,.25*p+.75*g])}),!0),e.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}function ja(t,e,n){void 0===n&&(n=2);var r=O(t),i=O(e),o=r[0]-i[0],s=r[1]-i[1];return 1===n?Math.abs(o)+Math.abs(s):Math.pow(Math.pow(o,n)+Math.pow(s,n),1/n)}function Ga(t,e){var n=(e=e||{}).threshold||1e4,r=e.p||2,i=e.binary||!1,o=e.alpha||-1,s=e.standardization||!1,a=[];Z(t,(function(t){a.push(xn(t))}));for(var u=[],l=0;l<a.length;l++)u[l]=[];for(l=0;l<a.length;l++)for(var h=l;h<a.length;h++){l===h&&(u[l][h]=0);var c=ja(a[l],a[h],r);u[l][h]=c,u[h][l]=c}for(l=0;l<a.length;l++)for(h=0;h<a.length;h++)0!==(c=u[l][h])&&(u[l][h]=i?c<=n?1:0:c<=n?Math.pow(c,o):0);if(s)for(l=0;l<a.length;l++){var f=u[l].reduce((function(t,e){return t+e}),0);for(h=0;h<a.length;h++)u[l][h]=u[l][h]/f}return u}function Ua(t){for(var e=0,n=0,r=t;n<r.length;n++)e+=r[n];return e/t.length}function qa(t,e){return void 0===e&&(e={}),Ha(t,"mercator",e)}function Va(t,e){return void 0===e&&(e={}),Ha(t,"wgs84",e)}function Ha(t,e,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&C(t[0])?t="mercator"===e?Za(t):Ya(t):(!0!==r&&(t=Le(t)),U(t,(function(t){var n="mercator"===e?Za(t):Ya(t);t[0]=n[0],t[1]=n[1]}))),t}function Za(t){var e=Math.PI/180,n=6378137,r=20037508.342789244,i=[n*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>r&&(i[0]=r),i[0]<-r&&(i[0]=-r),i[1]>r&&(i[1]=r),i[1]<-r&&(i[1]=-r),i}function Ya(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}Ta.prototype={constructor:Ta,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return la(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a,u,l,h=n.site,c=-1,f=e[i[o-1]],p=f.left===h?f.right:f.left;++c<o;)s=p,p=(f=e[i[c]]).left===h?f.right:f.left,s&&p&&r<s.index&&r<p.index&&(u=s,l=p,((a=h)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([h.data,s.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],h=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],c=u*u+l*l;c<h&&(h=c,s=a.index)}}))}while(null!==s);return o._found=r,null==n||h<=n*n?i.site:null}};var Xa=Object.freeze({__proto__:null,toMercator:qa,toWgs84:Va});function Wa(t){return Array.isArray(t)?tu(t):t&&t.bbox?tu(t.bbox):[360*$a(),180*$a()]}function Qa(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(u(Wa(e.bbox)));return d(n)}function Ka(t,e){void 0===e&&(e={}),null==t&&(t=1),C(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),C(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var n=[],r=function(t){var r,i=[],o=Array.apply(null,new Array(e.num_vertices+1)).map(Math.random);o.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),o.forEach((function(t){t=2*t*Math.PI/o[o.length-1];var n=Math.random();i.push([n*(e.max_radial_length||10)*Math.sin(t),n*(e.max_radial_length||10)*Math.cos(t)])})),i[i.length-1]=i[0],i=i.map((r=Wa(e.bbox),function(t){return[t[0]+r[0],t[1]+r[1]]})),n.push(h([i]))},i=0;i<t;i++)r();return d(n)}function Ja(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;null==t&&(t=1),(!C(r)||void 0===r||r<2)&&(r=10),C(i)&&void 0!==i||(i=1e-4),C(o)&&void 0!==o||(o=Math.PI/8);for(var s=[],a=0;a<t;a++){for(var u=[Wa(n)],l=0;l<r-1;l++){var h=(0===l?2*Math.random()*Math.PI:Math.tan((u[l][1]-u[l-1][1])/(u[l][0]-u[l-1][0])))+(Math.random()-.5)*o*2,c=Math.random()*i;u.push([u[l][0]+c*Math.cos(h),u[l][1]+c*Math.sin(h)])}s.push(f(u))}return d(s)}function $a(){return Math.random()-.5}function tu(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var eu=Object.freeze({__proto__:null,randomPosition:Wa,randomPoint:Qa,randomPolygon:Ka,randomLineString:Ja});function nu(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return Z(t,(function(t){su(t.properties,e)&&n.push(t)})),d(n)}function ru(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=ou(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],l=0;l<a.length;l++)u.push(t.features[a[l]]);n(d(u),s,o)}}function iu(t,e,n,r){var i=r;return ru(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function ou(t,e){var n={};return Z(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(String(e))){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function su(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!su(t,e[r]))return!1;return!0}return au(t,e)}function au(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function uu(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}var lu=Object.freeze({__proto__:null,getCluster:nu,clusterEach:ru,clusterReduce:iu,createBins:ou,applyFilter:su,propertiesContainsFilter:au,filterProperties:uu}),hu=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function cu(t,e){return t>e?1:t<e?-1:0}function fu(t,e,n){for(var r=new hu(null,null),i=r,o=r;;){var s=n(t,e.key);if(s<0){if(null===e.left)break;if(n(t,e.left.key)<0){var a=e.left;if(e.left=a.right,a.right=e,null===(e=a).left)break}o.left=e,o=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(a=e.right,e.right=a.left,a.left=e,null===(e=a).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,o.left=e.right,e.left=r.right,e.right=r.left,e}function pu(t,e,n,r){var i=new hu(t,e);if(null===n)return i.left=i.right=null,i;var o=r(t,(n=fu(t,n,r)).key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function du(t,e,n){var r=null,i=null;if(e){var o=n((e=fu(t,e,n)).key,t);0===o?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function gu(t,e,n,r,i){if(t){r(e+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+i(t)+"\n");var o=e+(n?"    ":"\u2502   ");t.left&&gu(t.left,o,!1,r,i),t.right&&gu(t.right,o,!0,r,i)}}var yu=function(){function t(t){void 0===t&&(t=cu),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=pu(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new hu(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,i=fu(t,this._root,r),o=r(t,i.key);return 0===o?this._root=i:(o<0?(n.left=i.left,n.right=i,i.left=null):o>0&&(n.right=i.right,n.left=i,i.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=fu(t,e,n)).key)?(null===e.left?r=e.right:(r=fu(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=fu(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=fu(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},t.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,n=[],r=!1,i=new hu(null,null),o=i;!r;)e?(n.push(e),e=e.left):n.length>0?e=(e=o=o.next=n.pop()).right:r=!0;return o.next=null,i.next}(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,i=this._comparator;if(n&&vu(t,e,0,r-1,i),null===this._root)this._root=_u(t,e,0,r),this._size=r;else{var o=function(t,e,n){for(var r=new hu(null,null),i=r,o=t,s=e;null!==o&&null!==s;)n(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return null!==o?i.next=o:null!==s&&(i.next=s),r.next}(this.toList(),function(t,e){for(var n=new hu(null,null),r=n,i=0;i<t.length;i++)r=r.next=new hu(t[i],e[i]);return r.next=null,n.next}(t,e),i);r=this._size+r,this._root=mu({head:o},0,r)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return gu(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,n){var r=this._comparator,i=du(t,this._root,r),o=i.left,s=i.right;r(t,e)<0?s=pu(e,n,s,r):o=pu(e,n,o,r),this._root=function(t,e,n){return null===e?t:(null===t||((e=fu(t.key,e,n)).left=t),e)}(o,s,r)},t.prototype.split=function(t){return du(t,this._root,this._comparator)},t}();function _u(t,e,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),s=t[o],a=e[o],u=new hu(s,a);return u.left=_u(t,e,n,o),u.right=_u(t,e,o+1,r),u}return null}function mu(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=mu(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=mu(t,i+1,n),s}return null}function vu(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}vu(t,e,n,a,i),vu(t,e,a+1,r,i)}}function bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wu(t,e,n){return e&&xu(t.prototype,e),n&&xu(t,n),t}var Eu=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},Mu=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},Lu=Number.EPSILON;void 0===Lu&&(Lu=Math.pow(2,-52));var Su=Lu*Lu,Pu=function(t,e){if(-Lu<t&&t<Lu&&-Lu<e&&e<Lu)return 0;var n=t-e;return n*n<Su*t*e?0:t<e?-1:1},Cu=function(){function t(){bu(this,t),this.reset()}return wu(t,[{key:"reset",value:function(){this.xRounder=new Iu,this.yRounder=new Iu}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),Iu=function(){function t(){bu(this,t),this.tree=new yu,this.round(0)}return wu(t,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===Pu(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===Pu(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),t}(),ku=new Cu,Tu=function(t,e){return t.x*e.y-t.y*e.x},Nu=function(t,e){return t.x*e.x+t.y*e.y},Ou=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=Tu(r,i);return Pu(o,0)},Au=function(t){return Math.sqrt(Nu(t,t))},Ru=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return Nu(i,r)/Au(i)/Au(r)},Du=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},zu=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},Fu=function(){function t(e,n){bu(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return wu(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:ju.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),wu(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i,o,s,a,u,l=r.otherSE;n.set(r,{sine:(i=e.point,o=t.point,s=l.point,a={x:o.x-i.x,y:o.y-i.y},u={x:s.x-i.x,y:s.y-i.y},Tu(u,a)/Au(u)/Au(a)),cosine:Ru(e.point,t.point,l.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),u=a.sine,l=a.cosine;return o>=0&&u>=0?s<l?1:s>l?-1:0:o<0&&u<0?s<l?-1:s>l?1:0:u<o?-1:u>o?1:0}}}]),t}(),Bu=0,ju=function(){function t(e,n,r,i){bu(this,t),this.id=++Bu,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=r,this.windings=i}return wu(t,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var h=t.comparePoint(e.leftSE.point);if(h<0)return 1;if(h>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(n>r){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(i!==o){var y=u-s,_=i-n,m=l-a,v=o-r;if(y>_&&m<v)return 1;if(y<_&&m>v)return-1}return i>o?1:i<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),wu(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=Mu(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=Eu(e,s)&&0===this.comparePoint(s),l=Eu(n,i)&&0===t.comparePoint(i),h=Eu(e,a)&&0===this.comparePoint(a),c=Eu(n,o)&&0===t.comparePoint(o);if(l&&u)return c&&!h?o:!c&&h?a:null;if(l)return h&&i.x===a.x&&i.y===a.y?null:i;if(u)return c&&o.x===s.x&&o.y===s.y?null:s;if(c&&h)return null;if(c)return o;if(h)return a;var f=function(t,e,n,r){if(0===e.x)return zu(n,r,t.x);if(0===r.x)return zu(t,e,n.x);if(0===e.y)return Du(n,r,t.y);if(0===r.y)return Du(t,e,n.y);var i=Tu(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},s=Tu(o,e)/i,a=Tu(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}}(i,this.vector(),s,t.vector());return null===f?null:Eu(r,f)?ku.round(f.x,f.y):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,i=new Fu(e,!0),o=new Fu(e,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new t(i,s,this.rings.slice(),this.windings.slice());return Fu.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),Fu.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],h=r.windings[a],c=n.rings.indexOf(l);-1===c?(n.rings.push(l),n.windings.push(h)):n.windings[c]+=h}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var l=[],h=[],c=0,f=e.length;c<f;c++)if(0!==n[c]){var p=e[c],d=p.poly;if(-1===h.indexOf(d))if(p.isExterior)l.push(d);else{-1===h.indexOf(d)&&h.push(d);var g=l.indexOf(p.poly);-1!==g&&l.splice(g,1)}}for(var y=0,_=l.length;y<_;y++){var m=l[y].multiPoly;-1===r.indexOf(m)&&r.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(Qu.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===Qu.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(Qu.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var i,o,s,a=Fu.comparePoints(e,n);if(a<0)i=e,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=n,o=e,s=-1}return new t(new Fu(i,!0),new Fu(o,!1),[r],[s])}}]),t}(),Gu=function(){function t(e,n,r){if(bu(this,t),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=ku.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,a=e.length;s<a;s++){if("number"!=typeof e[s][0]||"number"!=typeof e[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=ku.round(e[s][0],e[s][1]);u.x===o.x&&u.y===o.y||(this.segments.push(ju.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}i.x===o.x&&i.y===o.y||this.segments.push(ju.fromRing(o,i,this))}return wu(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),t}(),Uu=function(){function t(e,n){if(bu(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Gu(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=e.length;r<i;r++){var o=new Gu(e[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return wu(t,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),t}(),qu=function(){function t(e,n){if(bu(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=e.length;r<i;r++){var o=new Uu(e[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return wu(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),t}(),Vu=function(){function t(e){bu(this,t),this.events=e;for(var n=0,r=e.length;n<r;n++)e[n].segment.ringOut=this;this.poly=null}return wu(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],h=a.point,c=[];s=a,a=u,l.push(a),a.point!==h;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var p=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var g=null,y=0,_=c.length;y<_;y++)if(c[y].point===a.point){g=y;break}if(null===g){c.push({index:l.length,point:a.point});var m=a.getLeftmostComparator(s);u=f.sort(m)[0].otherSE;break}var v=c.splice(g)[0],b=l.splice(v.index);b.unshift(b[0].otherSE),n.push(new t(b.reverse()))}n.push(new t(l))}}return n}}]),wu(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==Ou(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===Ou(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,h=this.isExteriorRing()?e.length:-1,c=[],f=l;f!=h;f+=u)c.push([e[f].x,e[f].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];Fu.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),Hu=function(){function t(e){bu(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return wu(t,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),t}(),Zu=function(){function t(e){bu(this,t),this.rings=e,this.polys=this._composePolys(e)}return wu(t,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new Hu(i));else{var o=i.enclosingRing();o.poly||e.push(new Hu(o)),o.poly.addInterior(i)}}return e}}]),t}(),Yu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ju.compare;bu(this,t),this.queue=e,this.tree=new yu(n),this.segments=[]}return wu(t,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var h=this._splitSafely(s,l),c=0,f=h.length;c<f;c++)n.push(h[c])}var p=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!a.isAnEndpoint(d)))for(var g=this._splitSafely(a,d),y=0,_=g.length;y<_;y++)n.push(g[y])}if(null!==u||null!==p){var m=null;m=null===u?p:null===p||Fu.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var v=e.split(m),b=0,x=v.length;b<x;b++)n.push(v[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var E=this._splitSafely(s,w),M=0,L=E.length;M<L;M++)n.push(E[M]);if(!a.isAnEndpoint(w))for(var S=this._splitSafely(a,w),P=0,C=S.length;P<C;P++)n.push(S[P])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),t}(),Xu="undefined"!=typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/geovisto-map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Wu="undefined"!=typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/geovisto-map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Qu=new(function(){function t(){bu(this,t)}return wu(t,[{key:"run",value:function(t,e,n){Qu.type=t,ku.reset();for(var r=[new qu(e,!0)],i=0,o=n.length;i<o;i++)r.push(new qu(n[i],!1));if(Qu.numMultiPolys=r.length,"difference"===Qu.type)for(var s=r[0],a=1;a<r.length;)null!==Mu(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===Qu.type)for(var u=0,l=r.length;u<l;u++)for(var h=r[u],c=u+1,f=r.length;c<f;c++)if(null===Mu(h.bbox,r[c].bbox))return[];for(var p=new yu(Fu.compare),d=0,g=r.length;d<g;d++)for(var y=r[d].getSweepEvents(),_=0,m=y.length;_<m;_++)if(p.insert(y[_]),p.size>Xu)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var v=new Yu(p),b=p.size,x=p.pop();x;){var w=x.key;if(p.size===b){var E=w.segment;throw new Error("Unable to pop() ".concat(w.isLeft?"left":"right"," SweepEvent ")+"[".concat(w.point.x,", ").concat(w.point.y,"] from segment #").concat(E.id," ")+"[".concat(E.leftSE.point.x,", ").concat(E.leftSE.point.y,"] -> ")+"[".concat(E.rightSE.point.x,", ").concat(E.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(p.size>Xu)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(v.segments.length>Wu)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var M=v.process(w),L=0,S=M.length;L<S;L++){var P=M[L];void 0===P.consumedBy&&p.insert(P)}b=p.size,x=p.pop()}ku.reset();var C=Vu.factory(v.segments);return new Zu(C).getGeom()}}]),t}()),Ku=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Qu.run("union",t,n)},Ju=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Qu.run("intersection",t,n)},$u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Qu.run("difference",t,n)};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var tl=function(){};tl.prototype.interfaces_=function(){return[]},tl.prototype.getClass=function(){return tl},tl.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var el=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),nl=function(){},rl={MAX_VALUE:{configurable:!0}};nl.isNaN=function(t){return Number.isNaN(t)},nl.doubleToLongBits=function(t){return t},nl.longBitsToDouble=function(t){return t},nl.isInfinite=function(t){return!Number.isFinite(t)},rl.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(nl,rl);var il=function(){},ol=function(){},sl=function(){};function al(){}var ul=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ll={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ul.prototype.setOrdinate=function(t,e){switch(t){case ul.X:this.x=e;break;case ul.Y:this.y=e;break;case ul.Z:this.z=e;break;default:throw new el("Invalid ordinate index: "+t)}},ul.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!tl.equalsWithTolerance(this.x,e.x,n)&&!!tl.equalsWithTolerance(this.y,e.y,n)}},ul.prototype.getOrdinate=function(t){switch(t){case ul.X:return this.x;case ul.Y:return this.y;case ul.Z:return this.z}throw new el("Invalid ordinate index: "+t)},ul.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||nl.isNaN(this.z))&&nl.isNaN(t.z)},ul.prototype.equals=function(t){return t instanceof ul&&this.equals2D(t)},ul.prototype.equalInZ=function(t,e){return tl.equalsWithTolerance(this.z,t.z,e)},ul.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},ul.prototype.clone=function(){},ul.prototype.copy=function(){return new ul(this)},ul.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},ul.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},ul.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},ul.prototype.hashCode=function(){var t=17;return 37*(t=37*t+ul.hashCode(this.x))+ul.hashCode(this.y)},ul.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},ul.prototype.interfaces_=function(){return[il,ol,al]},ul.prototype.getClass=function(){return ul},ul.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=nl.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},ll.DimensionalComparator.get=function(){return hl},ll.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ll.NULL_ORDINATE.get=function(){return nl.NaN},ll.X.get=function(){return 0},ll.Y.get=function(){return 1},ll.Z.get=function(){return 2},Object.defineProperties(ul,ll);var hl=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new el("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};hl.prototype.compare=function(t,e){var n=t,r=e,i=hl.compare(n.x,r.x);if(0!==i)return i;var o=hl.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:hl.compare(n.z,r.z)},hl.prototype.interfaces_=function(){return[sl]},hl.prototype.getClass=function(){return hl},hl.compare=function(t,e){return t<e?-1:t>e?1:nl.isNaN(t)?nl.isNaN(e)?0:-1:nl.isNaN(e)?1:0};var cl=function(){};cl.prototype.create=function(){},cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl};var fl=function(){},pl={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};fl.prototype.interfaces_=function(){return[]},fl.prototype.getClass=function(){return fl},fl.toLocationSymbol=function(t){switch(t){case fl.EXTERIOR:return"e";case fl.BOUNDARY:return"b";case fl.INTERIOR:return"i";case fl.NONE:return"-"}throw new el("Unknown location value: "+t)},pl.INTERIOR.get=function(){return 0},pl.BOUNDARY.get=function(){return 1},pl.EXTERIOR.get=function(){return 2},pl.NONE.get=function(){return-1},Object.defineProperties(fl,pl);var dl=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},gl=function(){},yl={LOG_10:{configurable:!0}};gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},gl.log10=function(t){var e=Math.log(t);return nl.isInfinite(e)||nl.isNaN(e)?e:e/gl.LOG_10},gl.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},gl.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},gl.wrap=function(t,e){return t<0?e- -t%e:t%e},gl.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},gl.average=function(t,e){return(t+e)/2},yl.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(gl,yl);var _l=function(t){this.str=t};_l.prototype.append=function(t){this.str+=t},_l.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},_l.prototype.toString=function(t){return this.str};var ml=function(t){this.value=t};ml.prototype.intValue=function(){return this.value},ml.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ml.isNaN=function(t){return Number.isNaN(t)};var vl=function(){};vl.isWhitespace=function(t){return t<=32&&t>=0||127===t},vl.toUpperCase=function(t){return t.toUpperCase()};var bl=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},xl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};bl.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},bl.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=bl.magnitude(n._hi),i=bl.TEN.pow(r);(n=n.divide(i)).gt(bl.TEN)?(n=n.divide(bl.TEN),r+=1):n.lt(bl.ONE)&&(n=n.multiply(bl.TEN),r-=1);for(var o=r+1,s=new _l,a=bl.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var h=!1,c=0;l>9?(h=!0,c="9"):c="0"+l,s.append(c),n=n.subtract(bl.valueOf(l)).multiply(bl.TEN),h&&n.selfAdd(bl.TEN);var f=!0,p=bl.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=r,s.toString()},bl.prototype.sqr=function(){return this.multiply(this)},bl.prototype.doubleValue=function(){return this._hi+this._lo},bl.prototype.subtract=function(){if(arguments[0]instanceof bl){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},bl.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},bl.prototype.isZero=function(){return 0===this._hi&&0===this._lo},bl.prototype.selfSubtract=function(){if(arguments[0]instanceof bl){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},bl.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},bl.prototype.min=function(t){return this.le(t)?this:t},bl.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof bl){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,h=null,c=null;return u=this._hi/n,c=(i=(l=bl.SPLIT*u)-(i=l-u))*(s=(c=bl.SPLIT*n)-(s=c-n))-(h=u*n)+i*(a=n-s)+(o=u-i)*s+o*a,c=u+(l=(this._hi-h-c+this._lo-u*r)/n),this._hi=c,this._lo=u-c+l,this}},bl.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},bl.prototype.divide=function(){if(arguments[0]instanceof bl){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;n=(o=this._hi/t._hi)-(e=(s=bl.SPLIT*o)-(e=s-o)),u=e*(r=(u=bl.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i;var l=u=o+(s=(this._hi-a-u+this._lo-o*t._lo)/t._hi);return new bl(l,o-u+s)}if("number"==typeof arguments[0]){var h=arguments[0];return nl.isNaN(h)?bl.createNaN():bl.copy(this).selfDivide(h,0)}},bl.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},bl.prototype.pow=function(t){if(0===t)return bl.valueOf(1);var e=new bl(this),n=bl.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},bl.prototype.ceil=function(){if(this.isNaN())return bl.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new bl(t,e)},bl.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},bl.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},bl.prototype.setValue=function(){if(arguments[0]instanceof bl){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},bl.prototype.max=function(t){return this.ge(t)?this:t},bl.prototype.sqrt=function(){if(this.isZero())return bl.valueOf(0);if(this.isNegative())return bl.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=bl.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},bl.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof bl){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),r=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(n=i+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],h=null,c=null,f=null,p=null,d=null,g=null,y=null;p=this._hi+u,c=this._lo+l,d=p-(g=p-this._hi),f=c-(y=c-this._lo);var _=(h=p+(g=(d=u-g+(this._hi-d))+c))+(g=(f=l-y+(this._lo-f))+(g+(p-h))),m=g+(h-_);return this._hi=_,this._lo=m,this}},bl.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof bl){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;i=(u=bl.SPLIT*this._hi)-this._hi,l=bl.SPLIT*n,i=u-i,o=this._hi-i,s=l-n;var h=(u=this._hi*n)+(l=i*(s=l-s)-u+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),c=l+(i=u-h);return this._hi=h,this._lo=c,this}},bl.prototype.selfSqr=function(){return this.selfMultiply(this)},bl.prototype.floor=function(){if(this.isNaN())return bl.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new bl(t,e)},bl.prototype.negate=function(){return this.isNaN()?this:new bl(-this._hi,-this._lo)},bl.prototype.clone=function(){},bl.prototype.multiply=function(){if(arguments[0]instanceof bl){var t=arguments[0];return t.isNaN()?bl.createNaN():bl.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return nl.isNaN(e)?bl.createNaN():bl.copy(this).selfMultiply(e,0)}},bl.prototype.isNaN=function(){return nl.isNaN(this._hi)},bl.prototype.intValue=function(){return Math.trunc(this._hi)},bl.prototype.toString=function(){var t=bl.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},bl.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+bl.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+bl.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},bl.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,s=null,a=null;t=(n=1/this._hi)-(i=(s=bl.SPLIT*n)-(i=s-n)),o=(a=bl.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=i*(o=a-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new bl(u,n-u+s)},bl.prototype.toSciNotation=function(){if(this.isZero())return bl.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=bl.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},bl.prototype.abs=function(){return this.isNaN()?bl.NaN:this.isNegative()?this.negate():new bl(this)},bl.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},bl.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},bl.prototype.add=function(){if(arguments[0]instanceof bl){var t=arguments[0];return bl.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return bl.copy(this).selfAdd(e)}},bl.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof bl){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},bl.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},bl.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},bl.prototype.trunc=function(){return this.isNaN()?bl.NaN:this.isPositive()?this.floor():this.ceil()},bl.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},bl.prototype.interfaces_=function(){return[al,il,ol]},bl.prototype.getClass=function(){return bl},bl.sqr=function(t){return bl.valueOf(t).selfMultiply(t)},bl.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return bl.parse(t)}if("number"==typeof arguments[0])return new bl(arguments[0])},bl.sqrt=function(t){return bl.valueOf(t).sqrt()},bl.parse=function(t){for(var e=0,n=t.length;vl.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new bl,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,vl.isDigit(l)){var h=l-"0";o.selfMultiply(bl.TEN),o.selfAdd(h),s++}else{if("."!==l){if("e"===l||"E"===l){var c=t.substring(e);try{u=ml.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=bl.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=bl.TEN.pow(-p);f=o.multiply(g)}return r?f.negate():f},bl.createNaN=function(){return new bl(nl.NaN,nl.NaN)},bl.copy=function(t){return new bl(t)},bl.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},bl.stringOfChar=function(t,e){for(var n=new _l,r=0;r<e;r++)n.append(t);return n.toString()},xl.PI.get=function(){return new bl(3.141592653589793,12246467991473532e-32)},xl.TWO_PI.get=function(){return new bl(6.283185307179586,24492935982947064e-32)},xl.PI_2.get=function(){return new bl(1.5707963267948966,6123233995736766e-32)},xl.E.get=function(){return new bl(2.718281828459045,14456468917292502e-32)},xl.NaN.get=function(){return new bl(nl.NaN,nl.NaN)},xl.EPS.get=function(){return 123259516440783e-46},xl.SPLIT.get=function(){return 134217729},xl.MAX_PRINT_DIGITS.get=function(){return 32},xl.TEN.get=function(){return bl.valueOf(10)},xl.ONE.get=function(){return bl.valueOf(1)},xl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},xl.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(bl,xl);var wl=function(){},El={DP_SAFE_EPSILON:{configurable:!0}};wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl},wl.orientationIndex=function(t,e,n){var r=wl.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=bl.valueOf(e.x).selfAdd(-t.x),o=bl.valueOf(e.y).selfAdd(-t.y),s=bl.valueOf(n.x).selfAdd(-e.x),a=bl.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},wl.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},wl.intersection=function(t,e,n,r){var i=bl.valueOf(r.y).selfSubtract(n.y).selfMultiply(bl.valueOf(e.x).selfSubtract(t.x)),o=bl.valueOf(r.x).selfSubtract(n.x).selfMultiply(bl.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=bl.valueOf(r.x).selfSubtract(n.x).selfMultiply(bl.valueOf(t.y).selfSubtract(n.y)),u=bl.valueOf(r.y).selfSubtract(n.y).selfMultiply(bl.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),h=bl.valueOf(t.x).selfAdd(bl.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),c=bl.valueOf(e.x).selfSubtract(t.x).selfMultiply(bl.valueOf(t.y).selfSubtract(n.y)),f=bl.valueOf(e.y).selfSubtract(t.y).selfMultiply(bl.valueOf(t.x).selfSubtract(n.x)),p=c.subtract(f).selfDivide(s).doubleValue(),d=bl.valueOf(n.y).selfAdd(bl.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new ul(h,d)},wl.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return wl.signum(s);r=i+o}else{if(!(i<0))return wl.signum(s);if(o>=0)return wl.signum(s);r=-i-o}var a=wl.DP_SAFE_EPSILON*r;return s>=a||-s>=a?wl.signum(s):2},wl.signum=function(t){return t>0?1:t<0?-1:0},El.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(wl,El);var Ml=function(){},Ll={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ll.X.get=function(){return 0},Ll.Y.get=function(){return 1},Ll.Z.get=function(){return 2},Ll.M.get=function(){return 3},Ml.prototype.setOrdinate=function(t,e,n){},Ml.prototype.size=function(){},Ml.prototype.getOrdinate=function(t,e){},Ml.prototype.getCoordinate=function(){},Ml.prototype.getCoordinateCopy=function(t){},Ml.prototype.getDimension=function(){},Ml.prototype.getX=function(t){},Ml.prototype.clone=function(){},Ml.prototype.expandEnvelope=function(t){},Ml.prototype.copy=function(){},Ml.prototype.getY=function(t){},Ml.prototype.toCoordinateArray=function(){},Ml.prototype.interfaces_=function(){return[ol]},Ml.prototype.getClass=function(){return Ml},Object.defineProperties(Ml,Ll);var Sl=function(){},Pl=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sl),Cl=function(){};Cl.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},Cl.getProperty=function(t){return{"line.separator":"\n"}[t]};var Il=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof ul&&arguments[1]instanceof ul){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2];this.x=u,this.y=l,this.w=h}else if(4===arguments.length){var c=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],g=c.y-f.y,y=f.x-c.x,_=c.x*f.y-f.x*c.y,m=p.y-d.y,v=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=y*b-v*_,this.y=m*_-g*b,this.w=g*v-m*y}};Il.prototype.getY=function(){var t=this.y/this.w;if(nl.isNaN(t)||nl.isInfinite(t))throw new Pl;return t},Il.prototype.getX=function(){var t=this.x/this.w;if(nl.isNaN(t)||nl.isInfinite(t))throw new Pl;return t},Il.prototype.getCoordinate=function(){var t=new ul;return t.x=this.getX(),t.y=this.getY(),t},Il.prototype.interfaces_=function(){return[]},Il.prototype.getClass=function(){return Il},Il.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,h=i*u-a*o,c=(o*l-u*s)/h,f=(a*s-i*l)/h;if(nl.isNaN(c)||nl.isInfinite(c)||nl.isNaN(f)||nl.isInfinite(f))throw new Pl;return new ul(c,f)};var kl=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof ul){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Tl={serialVersionUID:{configurable:!0}};kl.prototype.getArea=function(){return this.getWidth()*this.getHeight()},kl.prototype.equals=function(t){if(!(t instanceof kl))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},kl.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new kl;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new kl(e,r,n,i)},kl.prototype.isNull=function(){return this._maxx<this._minx},kl.prototype.getMaxX=function(){return this._maxx},kl.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof ul){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof kl){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},kl.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof kl){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof ul){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},kl.prototype.getMinY=function(){return this._miny},kl.prototype.getMinX=function(){return this._minx},kl.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof ul){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof kl){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},kl.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},kl.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},kl.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},kl.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},kl.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},kl.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},kl.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},kl.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},kl.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},kl.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof kl){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof ul){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},kl.prototype.centre=function(){return this.isNull()?null:new ul((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},kl.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof ul){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof kl){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},kl.prototype.getMaxY=function(){return this._maxy},kl.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},kl.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+ul.hashCode(this._minx))+ul.hashCode(this._maxx))+ul.hashCode(this._miny))+ul.hashCode(this._maxy)},kl.prototype.interfaces_=function(){return[il,al]},kl.prototype.getClass=function(){return kl},kl.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),h=Math.max(r.x,i.x);return!(l>u)&&!(h<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),h=Math.max(r.y,i.y),!(l>u)&&!(h<a))}},Tl.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(kl,Tl);var Nl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ol=function(t){this.geometryFactory=t||new mc};Ol.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Nl.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Nl.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Rl[n]&&(e=Rl[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Ol.prototype.write=function(t){return this.extractGeometry(t)},Ol.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Al[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Al[e].apply(this,[t])+")"};var Al={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Al.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Al.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Al.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Al.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Al.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Al.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Al.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Al.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Rl={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Nl.spaces);return this.geometryFactory.createPoint(new ul(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Nl.trimParens,"$1"),r.push(Rl.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Nl.spaces),r.push(new ul(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Nl.spaces),r.push(new ul(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var n=t.trim().split(Nl.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Nl.trimParens,"$1"),r.push(Rl.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){var e,n,r;if(void 0===t)return this.geometryFactory.createPolygon();for(var i,o=t.trim().split(Nl.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Nl.trimParens,"$1"),n=Rl.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var n=t.trim().split(Nl.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Nl.trimParens,"$1"),r.push(Rl.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Dl=function(t){this.parser=new Ol(t)};Dl.prototype.write=function(t){return this.parser.write(t)},Dl.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var zl=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Fl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zl),Bl=function(){};Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.shouldNeverReachHere=function(){if(0===arguments.length)Bl.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Fl("Should never reach here"+(null!==t?": "+t:""))}},Bl.isTrue=function(){var t;if(1===arguments.length)Bl.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Fl:new Fl(t)},Bl.equals=function(){var t,e,n;if(2===arguments.length)Bl.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new Fl("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var jl=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ul,this._intPt[1]=new ul,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Gl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};jl.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},jl.prototype.getTopologySummary=function(){var t=new _l;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},jl.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},jl.prototype.getIntersectionNum=function(){return this._result},jl.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},jl.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},jl.prototype.setPrecisionModel=function(t){this._precisionModel=t},jl.prototype.isInteriorIntersection=function(){var t=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],n=0;n<this._result;n++)if(!t._intPt[n].equals2D(t._inputLines[e][0])&&!t._intPt[n].equals2D(t._inputLines[e][1]))return!0;return!1}},jl.prototype.getIntersection=function(t){return this._intPt[t]},jl.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},jl.prototype.hasIntersection=function(){return this._result!==jl.NO_INTERSECTION},jl.prototype.getEdgeDistance=function(t,e){return jl.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},jl.prototype.isCollinear=function(){return this._result===jl.COLLINEAR_INTERSECTION},jl.prototype.toString=function(){return Dl.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Dl.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},jl.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},jl.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},jl.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl},jl.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return Bl.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},jl.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return Bl.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Gl.DONT_INTERSECT.get=function(){return 0},Gl.DO_INTERSECT.get=function(){return 1},Gl.COLLINEAR.get=function(){return 2},Gl.NO_INTERSECTION.get=function(){return 0},Gl.POINT_INTERSECTION.get=function(){return 1},Gl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(jl,Gl);var Ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new kl(this._inputLines[0][0],this._inputLines[0][1]),n=new kl(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,kl.intersects(n,r,e)&&0===Hl.orientationIndex(n,r,e)&&0===Hl.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Il.intersection(t,n,r,i)}catch(a){if(!(a instanceof Pl))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new ul(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=wl.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);Cl.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&Cl.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new ul(t),o=new ul(e),s=new ul(n),a=new ul(r),u=new ul;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=kl.intersects(e,n,r),s=kl.intersects(e,n,i),a=kl.intersects(r,i,e),u=kl.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,h=n.y<r.y?n.y:r.y,c=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,p=((o>l?o:l)+(a<c?a:c))/2,d=((s>h?s:h)+(u<f?u:f))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!kl.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=Hl.orientationIndex(e,n,r),s=Hl.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=Hl.orientationIndex(r,i,e),u=Hl.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new ul(r):0===s?this._intPt[0]=new ul(i):0===a?this._intPt[0]=new ul(e):0===u&&(this._intPt[0]=new ul(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=Hl.distancePointLine(t,n,r),s=Hl.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=Hl.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=Hl.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(jl),ql=function(){};ql.prototype.interfaces_=function(){return[]},ql.prototype.getClass=function(){return ql},ql.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ql.signOfDet2x2(r,i,o,s)},ql.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var Vl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Vl.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ql.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},Vl.prototype.isPointInPolygon=function(){return this.getLocation()!==fl.EXTERIOR},Vl.prototype.getLocation=function(){return this._isPointOnSegment?fl.BOUNDARY:this._crossingCount%2==1?fl.INTERIOR:fl.EXTERIOR},Vl.prototype.isOnSegment=function(){return this._isPointOnSegment},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl},Vl.locatePointInRing=function(){if(arguments[0]instanceof ul&&dl(arguments[1],Ml)){for(var t=arguments[1],e=new Vl(arguments[0]),n=new ul,r=new ul,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof ul&&arguments[1]instanceof Array){for(var o=arguments[1],s=new Vl(arguments[0]),a=1;a<o.length;a++){var u=o[a],l=o[a-1];if(s.countSegment(u,l),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var Hl=function(){},Zl={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl},Hl.orientationIndex=function(t,e,n){return wl.orientationIndex(t,e,n)},Hl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(dl(arguments[0],Ml)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new ul,l=new ul,h=new ul;s.getCoordinate(0,l),s.getCoordinate(1,h);var c=l.x;h.x-=c;for(var f=0,p=1;p<a-1;p++)u.y=l.y,l.x=h.x,l.y=h.y,s.getCoordinate(p+1,h),h.x-=c,f+=l.x*(u.y-h.y);return f/2}},Hl.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Hl.distancePointLine(t,n,r);if(n.equals(r))return Hl.distancePointLine(r,t,e);var i=!1;if(kl.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?gl.min(Hl.distancePointLine(t,n,r),Hl.distancePointLine(e,n,r),Hl.distancePointLine(n,t,e),Hl.distancePointLine(r,t,e)):0},Hl.isPointInRing=function(t,e){return Hl.locatePointInRing(t,e)!==fl.EXTERIOR},Hl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new ul;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,h=u-o;n+=Math.sqrt(l*l+h*h),i=a,o=u}return n},Hl.isCCW=function(t){var e=t.length-1;if(e<3)throw new el("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var h=Hl.computeOrientation(u,n,l);return 0===h?u.x>l.x:h>0},Hl.locatePointInRing=function(t,e){return Vl.locatePointInRing(t,e)},Hl.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},Hl.computeOrientation=function(t,e,n){return Hl.orientationIndex(t,e,n)},Hl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new el("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=Hl.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var h=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(h)*Math.sqrt(u)}},Hl.isOnLine=function(t,e){for(var n=new Ul,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},Zl.CLOCKWISE.get=function(){return-1},Zl.RIGHT.get=function(){return Hl.CLOCKWISE},Zl.COUNTERCLOCKWISE.get=function(){return 1},Zl.LEFT.get=function(){return Hl.COUNTERCLOCKWISE},Zl.COLLINEAR.get=function(){return 0},Zl.STRAIGHT.get=function(){return Hl.COLLINEAR},Object.defineProperties(Hl,Zl);var Yl=function(){};Yl.prototype.filter=function(t){},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Xl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Wl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Xl.prototype.isGeometryCollection=function(){return this.getSortIndex()===Xl.SORTINDEX_GEOMETRYCOLLECTION},Xl.prototype.getFactory=function(){return this._factory},Xl.prototype.getGeometryN=function(t){return this},Xl.prototype.getArea=function(){return 0},Xl.prototype.isRectangle=function(){return!1},Xl.prototype.equals=function(){if(arguments[0]instanceof Xl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Xl))return!1;var n=e;return this.equalsExact(n)}},Xl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Xl.prototype.geometryChanged=function(){this.apply(Xl.geometryChangedFilter)},Xl.prototype.geometryChangedAction=function(){this._envelope=null},Xl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Xl.prototype.getLength=function(){return 0},Xl.prototype.getNumGeometries=function(){return 1},Xl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Xl.prototype.getUserData=function(){return this._userData},Xl.prototype.getSRID=function(){return this._SRID},Xl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Xl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Xl.SORTINDEX_GEOMETRYCOLLECTION)throw new el("This method does not support GeometryCollection arguments")},Xl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Xl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Xl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Xl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new kl(this._envelope)},Xl.prototype.setSRID=function(t){this._SRID=t},Xl.prototype.setUserData=function(t){this._userData=t},Xl.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},Xl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Xl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Xl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Xl.SORTINDEX_MULTIPOINT||this.getSortIndex()===Xl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Xl.SORTINDEX_MULTIPOLYGON},Xl.prototype.interfaces_=function(){return[ol,il,al]},Xl.prototype.getClass=function(){return Xl},Xl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Xl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Wl.serialVersionUID.get=function(){return 0x799ea46522854c00},Wl.SORTINDEX_POINT.get=function(){return 0},Wl.SORTINDEX_MULTIPOINT.get=function(){return 1},Wl.SORTINDEX_LINESTRING.get=function(){return 2},Wl.SORTINDEX_LINEARRING.get=function(){return 3},Wl.SORTINDEX_MULTILINESTRING.get=function(){return 4},Wl.SORTINDEX_POLYGON.get=function(){return 5},Wl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Wl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Wl.geometryChangedFilter.get=function(){return Ql},Object.defineProperties(Xl,Wl);var Ql=function(){};Ql.interfaces_=function(){return[Yl]},Ql.filter=function(t){t.geometryChangedAction()};var Kl=function(){};Kl.prototype.filter=function(t){},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl};var Jl=function(){},$l={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Jl.prototype.isInBoundary=function(t){},Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl},$l.Mod2BoundaryNodeRule.get=function(){return th},$l.EndPointBoundaryNodeRule.get=function(){return eh},$l.MultiValentEndPointBoundaryNodeRule.get=function(){return nh},$l.MonoValentEndPointBoundaryNodeRule.get=function(){return rh},$l.MOD2_BOUNDARY_RULE.get=function(){return new th},$l.ENDPOINT_BOUNDARY_RULE.get=function(){return new eh},$l.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new nh},$l.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new rh},$l.OGC_SFS_BOUNDARY_RULE.get=function(){return Jl.MOD2_BOUNDARY_RULE},Object.defineProperties(Jl,$l);var th=function(){};th.prototype.isInBoundary=function(t){return t%2==1},th.prototype.interfaces_=function(){return[Jl]},th.prototype.getClass=function(){return th};var eh=function(){};eh.prototype.isInBoundary=function(t){return t>0},eh.prototype.interfaces_=function(){return[Jl]},eh.prototype.getClass=function(){return eh};var nh=function(){};nh.prototype.isInBoundary=function(t){return t>1},nh.prototype.interfaces_=function(){return[Jl]},nh.prototype.getClass=function(){return nh};var rh=function(){};rh.prototype.isInBoundary=function(t){return 1===t},rh.prototype.interfaces_=function(){return[Jl]},rh.prototype.getClass=function(){return rh};var ih=function(){};function oh(t){this.message=t||""}ih.prototype.add=function(){},ih.prototype.addAll=function(){},ih.prototype.isEmpty=function(){},ih.prototype.iterator=function(){},ih.prototype.size=function(){},ih.prototype.toArray=function(){},ih.prototype.remove=function(){},oh.prototype=new Error,oh.prototype.name="IndexOutOfBoundsException";var sh=function(){};sh.prototype.hasNext=function(){},sh.prototype.next=function(){},sh.prototype.remove=function(){};var ah=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(ih);function uh(t){this.message=t||""}uh.prototype=new Error,uh.prototype.name="NoSuchElementException";var lh=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof ih&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,ih]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new hh(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new oh;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(ah),hh=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new uh;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(sh),ch=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){var e=this;if(2===arguments.length){for(var n=arguments[1],r=!1,i=arguments[0].iterator();i.hasNext();)e.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var e=this;if(1===arguments.length){var n=arguments[0];t.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1];return this.add(r,i,!0),!0}if(arguments[0]instanceof ul&&"boolean"==typeof arguments[1]){var o=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(o))return null;t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1];if(arguments[2])for(var h=0;h<u.length;h++)e.add(u[h],l);else for(var c=u.length-1;c>=0;c--)e.add(u[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof ul){var f=arguments[0],p=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(f>0&&this.get(f-1).equals2D(p))return null;if(f<d&&this.get(f).equals2D(p))return null}}t.prototype.add.call(this,f,p)}}else if(4===arguments.length){var g=arguments[0],y=arguments[1],_=arguments[2],m=arguments[3],v=1;_>m&&(v=-1);for(var b=_;b!==m;b+=v)e.add(g[b],y);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new ul(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(lh),fh=function(){},ph={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ph.ForwardComparator.get=function(){return dh},ph.BidirectionalComparator.get=function(){return gh},ph.coordArrayType.get=function(){return new Array(0).fill(null)},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},fh.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},fh.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(fh.indexOf(r,e)<0)return r}return null},fh.scroll=function(t,e){var n=fh.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Cl.arraycopy(t,n,r,0,t.length-n),Cl.arraycopy(t,0,r,t.length-n,n),Cl.arraycopy(r,0,t,0,t.length)},fh.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},fh.intersection=function(t,e){for(var n=new ch,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},fh.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},fh.removeRepeatedPoints=function(t){return fh.hasRepeatedPoints(t)?new ch(t,!1).toCoordinateArray():t},fh.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},fh.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},fh.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new ul(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new ul(r[i+u])},fh.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},fh.envelope=function(t){for(var e=new kl,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},fh.toCoordinateArray=function(t){return t.toArray(fh.coordArrayType)},fh.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},fh.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},fh.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},fh.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},fh.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},fh.extract=function(t,e,n){e=gl.clamp(e,0,t.length);var r=(n=gl.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(fh,ph);var dh=function(){};dh.prototype.compare=function(t,e){return fh.compare(t,e)},dh.prototype.interfaces_=function(){return[sl]},dh.prototype.getClass=function(){return dh};var gh=function(){};gh.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=fh.compare(n,r);return fh.isEqualReversed(n,r)?0:i},gh.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=fh.increasingDirection(n),o=fh.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},gh.prototype.interfaces_=function(){return[sl]},gh.prototype.getClass=function(){return gh};var yh=function(){};yh.prototype.get=function(){},yh.prototype.put=function(){},yh.prototype.size=function(){},yh.prototype.values=function(){},yh.prototype.entrySet=function(){};var _h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yh);function mh(t){this.message=t||""}function vh(){}mh.prototype=new Error,mh.prototype.name="OperationNotSupported",vh.prototype=new ih,vh.prototype.contains=function(){};var bh=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof ih&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new xh(this)},e}(vh),xh=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new uh;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new mh},e}(sh);function wh(t){return null===t?0:t.color}function Eh(t){return null===t?null:t.parent}function Mh(t,e){null!==t&&(t.color=e)}function Lh(t){return null===t?null:t.left}function Sh(t){return null===t?null:t.right}function Ph(){this.root_=null,this.size_=0}Ph.prototype=new _h,Ph.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Ph.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Ph.prototype.fixAfterInsertion=function(t){var e=this;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Eh(t)===Lh(Eh(Eh(t)))){var n=Sh(Eh(Eh(t)));1===wh(n)?(Mh(Eh(t),0),Mh(n,0),Mh(Eh(Eh(t)),1),t=Eh(Eh(t))):(t===Sh(Eh(t))&&(t=Eh(t),e.rotateLeft(t)),Mh(Eh(t),0),Mh(Eh(Eh(t)),1),e.rotateRight(Eh(Eh(t))))}else{var r=Lh(Eh(Eh(t)));1===wh(r)?(Mh(Eh(t),0),Mh(r,0),Mh(Eh(Eh(t)),1),t=Eh(Eh(t))):(t===Lh(Eh(t))&&(t=Eh(t),e.rotateRight(t)),Mh(Eh(t),0),Mh(Eh(Eh(t)),1),e.rotateLeft(Eh(Eh(t))))}this.root_.color=0},Ph.prototype.values=function(){var t=new lh,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Ph.successor(e));)t.add(e.value);return t},Ph.prototype.entrySet=function(){var t=new bh,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Ph.successor(e));)t.add(e);return t},Ph.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Ph.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Ph.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Ph.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Ph.prototype.size=function(){return this.size_};var Ch=function(){};function Ih(){}function kh(){this.array_=[],arguments[0]instanceof ih&&this.addAll(arguments[0])}Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ih.prototype=new vh,kh.prototype=new Ih,kh.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},kh.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},kh.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},kh.prototype.remove=function(t){throw new mh},kh.prototype.size=function(){return this.array_.length},kh.prototype.isEmpty=function(){return 0===this.array_.length},kh.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},kh.prototype.iterator=function(){return new Th(this)};var Th=function(t){this.treeSet_=t,this.position_=0};Th.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new uh;return this.treeSet_.array_[this.position_++]},Th.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Th.prototype.remove=function(){throw new mh};var Nh=function(){};Nh.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Nh.asList=function(t){for(var e=new lh,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Oh=function(){},Ah={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ah.P.get=function(){return 0},Ah.L.get=function(){return 1},Ah.A.get=function(){return 2},Ah.FALSE.get=function(){return-1},Ah.TRUE.get=function(){return-2},Ah.DONTCARE.get=function(){return-3},Ah.SYM_FALSE.get=function(){return"F"},Ah.SYM_TRUE.get=function(){return"T"},Ah.SYM_DONTCARE.get=function(){return"*"},Ah.SYM_P.get=function(){return"0"},Ah.SYM_L.get=function(){return"1"},Ah.SYM_A.get=function(){return"2"},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh},Oh.toDimensionSymbol=function(t){switch(t){case Oh.FALSE:return Oh.SYM_FALSE;case Oh.TRUE:return Oh.SYM_TRUE;case Oh.DONTCARE:return Oh.SYM_DONTCARE;case Oh.P:return Oh.SYM_P;case Oh.L:return Oh.SYM_L;case Oh.A:return Oh.SYM_A}throw new el("Unknown dimension value: "+t)},Oh.toDimensionValue=function(t){switch(vl.toUpperCase(t)){case Oh.SYM_FALSE:return Oh.FALSE;case Oh.SYM_TRUE:return Oh.TRUE;case Oh.SYM_DONTCARE:return Oh.DONTCARE;case Oh.SYM_P:return Oh.P;case Oh.SYM_L:return Oh.L;case Oh.SYM_A:return Oh.A}throw new el("Unknown dimension symbol: "+t)},Object.defineProperties(Oh,Ah);var Rh=function(){};Rh.prototype.filter=function(t){},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh};var Dh=function(){};Dh.prototype.filter=function(t,e){},Dh.prototype.isDone=function(){},Dh.prototype.isGeometryChanged=function(){},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh};var zh=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new el("geometries must not contain null elements")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new kl,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._geometries.length!==i._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!e._geometries[o].equalsExact(i._geometries[o],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Nh.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Oh.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Oh.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new kh(Nh.asList(this._geometries)),r=new kh(Nh.asList(e._geometries));return this.compare(n,r)}if(2===arguments.length){for(var i=arguments[1],o=arguments[0],s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=t.getGeometryN(u),h=o.getGeometryN(u),c=l.compareToSameClass(h,i);if(0!==c)return c;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){var t=this;if(dl(arguments[0],Kl))for(var e=arguments[0],n=0;n<this._geometries.length;n++)t._geometries[n].apply(e);else if(dl(arguments[0],Dh)){var r=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(t._geometries[i].apply(r),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else if(dl(arguments[0],Rh)){var o=arguments[0];o.filter(this);for(var s=0;s<this._geometries.length;s++)t._geometries[s].apply(o)}else if(dl(arguments[0],Yl)){var a=arguments[0];a.filter(this);for(var u=0;u<this._geometries.length;u++)t._geometries[u].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Bl.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Xl),Fh=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Oh.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Bh(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ch]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zh),Bh=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Jl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Bh.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Bh.prototype.getBoundary=function(){return this._geom instanceof Qh?this.boundaryLineString(this._geom):this._geom instanceof Fh?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Bh.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Bh.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Bh.prototype.computeBoundaryCoordinates=function(t){var e=this,n=new lh;this._endpointMap=new Ph;for(var r=0;r<t.getNumGeometries();r++){var i=t.getGeometryN(r);0!==i.getNumPoints()&&(e.addEndpoint(i.getCoordinateN(0)),e.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),a=s.getValue().count;e._bnRule.isInBoundary(a)&&n.add(s.getKey())}return fh.toCoordinateArray(n)},Bh.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new jh,this._endpointMap.put(t,e)),e.count++},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.getBoundary=function(){return 1===arguments.length?new Bh(arguments[0]).getBoundary():2===arguments.length?new Bh(arguments[0],arguments[1]).getBoundary():void 0};var jh=function(){this.count=null};function Gh(){}function Uh(){}jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh};var qh=function(){};function Vh(){}function Hh(){}function Zh(){}var Yh=function(){},Xh={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Yh.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Yh.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new Vh,n=new Gh(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new Zh(new Uh(Yh.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Yh.NEWLINE}catch(t){if(!(t instanceof Hh))throw t;Bl.shouldNeverReachHere()}return o}},Yh.split=function(t,e){for(var n=e.length,r=new lh,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Yh.toString=function(){if(1===arguments.length){var t=arguments[0];return Yh.SIMPLE_ORDINATE_FORMAT.format(t)}},Yh.spaces=function(t){return Yh.chars(" ",t)},Xh.NEWLINE.get=function(){return Cl.getProperty("line.separator")},Xh.SIMPLE_ORDINATE_FORMAT.get=function(){return new qh("0.#")},Object.defineProperties(Yh,Xh);var Wh=function(){};Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Wh.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Ml.X)===t.getOrdinate(e-1,Ml.X)&&t.getOrdinate(0,Ml.Y)===t.getOrdinate(e-1,Ml.Y)},Wh.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!nl.isNaN(s)||!nl.isNaN(a)))return!1}return!0},Wh.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Wh.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Wh.copy(e,i-1,r,o,1);return r},Wh.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Wh.swap(t,r,e-r)},Wh.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Wh.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Wh.copyCoord(t,e+o,n,r+o)},Wh.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new _l;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Yh.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Wh.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wh.createClosedRing(t,e,4):e.getOrdinate(0,Ml.X)===e.getOrdinate(n-1,Ml.X)&&e.getOrdinate(0,Ml.Y)===e.getOrdinate(n-1,Ml.Y)?e:Wh.createClosedRing(t,e,n+1)},Wh.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Wh.copy(e,0,r,0,i);for(var o=i;o<n;o++)Wh.copy(e,0,r,o,1);return r};var Qh=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new kl:this._points.expandEnvelope(new kl)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._points.size()!==i._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!e.equal(e._points.getCoordinate(o),i._points.getCoordinate(o),r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=this,e=0;e<Math.trunc(this._points.size()/2);e++){var n=t._points.size()-1-e;if(!t._points.getCoordinate(e).equals(t._points.getCoordinate(n)))return t._points.getCoordinate(e).compareTo(t._points.getCoordinate(n))>0&&Wh.reverse(t._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Oh.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Hl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wh.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0,r=0;n<this._points.size()&&r<e._points.size();){var i=t._points.getCoordinate(n).compareTo(e._points.getCoordinate(r));if(0!==i)return i;n++,r++}return n<this._points.size()?1:r<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}},e.prototype.apply=function(){var t=this;if(dl(arguments[0],Kl))for(var e=arguments[0],n=0;n<this._points.size();n++)e.filter(t._points.getCoordinate(n));else if(dl(arguments[0],Dh)){var r=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(r.filter(t._points,i),!r.isDone());i++);r.isGeometryChanged()&&this.geometryChanged()}else(dl(arguments[0],Rh)||dl(arguments[0],Yl))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Bh(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new el("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Ch]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Xl),Kh=function(){};Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Jh=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new kl;var t=new kl;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Oh.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(dl(arguments[0],Kl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(dl(arguments[0],Dh)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(dl(arguments[0],Rh)||dl(arguments[0],Yl))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Bl.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Kh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Xl),$h=function(){};$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h};var tc=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new el("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new el("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Hl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Hl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o===(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n,o=this._shell,s=i._shell;if(!o.equalsExact(s,r))return!1;if(this._holes.length!==i._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!e._holes[a].equalsExact(i._holes[a],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var t=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)t.normalize(t._holes[e],!1);Nh.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];if(n.isEmpty())return null;var i=new Array(n.getCoordinates().length-1).fill(null);Cl.arraycopy(n.getCoordinates(),0,i,0,i.length);var o=fh.minCoordinate(n.getCoordinates());fh.scroll(i,o),Cl.arraycopy(i,0,n.getCoordinates(),0,i.length),n.getCoordinates()[i.length]=i[0],Hl.isCCW(n.getCoordinates())===r&&fh.reverse(n.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this._shell,r=e._shell;return n.compareToSameClass(r)}if(2===arguments.length){var i=arguments[1],o=arguments[0],s=this._shell,a=o._shell,u=s.compareToSameClass(a,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),h=o.getNumInteriorRing(),c=0;c<l&&c<h;){var f=t.getInteriorRingN(c),p=o.getInteriorRingN(c),d=f.compareToSameClass(p,i);if(0!==d)return d;c++}return c<l?1:c<h?-1:0}},e.prototype.apply=function(t){var e=this;if(dl(t,Kl)){this._shell.apply(t);for(var n=0;n<this._holes.length;n++)e._holes[n].apply(t)}else if(dl(t,Dh)){if(this._shell.apply(t),!t.isDone())for(var r=0;r<this._holes.length&&(e._holes[r].apply(t),!t.isDone());r++);t.isGeometryChanged()&&this.geometryChanged()}else if(dl(t,Rh))t.filter(this);else if(dl(t,Yl)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)e._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[$h]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Xl),ec=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Oh.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kh]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zh),nc=function(t){function e(e,n){e instanceof ul&&n instanceof mc&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Oh.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wh.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new el("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new el("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Qh),rc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Xl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new lh,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[$h]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zh),ic=function(t){this._factory=t||null,this._isUserDataCopied=!1},oc={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ic.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ic.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ic.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zh?this.editGeometryCollection(t,e):t instanceof tc?this.editPolygon(t,e):t instanceof Jh||t instanceof Qh?e.edit(t,this._factory):(Bl.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ic.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new lh,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===ec?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Fh?this._factory.createMultiLineString(r.toArray([])):n.getClass()===rc?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},ic.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new lh,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.GeometryEditorOperation=function(){},oc.NoOpGeometryOperation.get=function(){return sc},oc.CoordinateOperation.get=function(){return ac},oc.CoordinateSequenceOperation.get=function(){return uc},Object.defineProperties(ic,oc);var sc=function(){};sc.prototype.edit=function(t,e){return t},sc.prototype.interfaces_=function(){return[ic.GeometryEditorOperation]},sc.prototype.getClass=function(){return sc};var ac=function(){};ac.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof nc?e.createLinearRing(n):t instanceof Qh?e.createLineString(n):t instanceof Jh?n.length>0?e.createPoint(n[0]):e.createPoint():t},ac.prototype.interfaces_=function(){return[ic.GeometryEditorOperation]},ac.prototype.getClass=function(){return ac};var uc=function(){};uc.prototype.edit=function(t,e){return t instanceof nc?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Qh?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jh?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},uc.prototype.interfaces_=function(){return[ic.GeometryEditorOperation]},uc.prototype.getClass=function(){return uc};var lc=function(){var t=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)t._coordinates[n]=new ul}else if(dl(arguments[0],Ml)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)t._coordinates[i]=r.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],u=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=u;for(var l=0;l<a;l++)t._coordinates[l]=new ul}},hc={serialVersionUID:{configurable:!0}};lc.prototype.setOrdinate=function(t,e,n){switch(e){case Ml.X:this._coordinates[t].x=n;break;case Ml.Y:this._coordinates[t].y=n;break;case Ml.Z:this._coordinates[t].z=n;break;default:throw new el("invalid ordinateIndex")}},lc.prototype.size=function(){return this._coordinates.length},lc.prototype.getOrdinate=function(t,e){switch(e){case Ml.X:return this._coordinates[t].x;case Ml.Y:return this._coordinates[t].y;case Ml.Z:return this._coordinates[t].z}return nl.NaN},lc.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},lc.prototype.getCoordinateCopy=function(t){return new ul(this._coordinates[t])},lc.prototype.getDimension=function(){return this._dimension},lc.prototype.getX=function(t){return this._coordinates[t].x},lc.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new lc(t,this._dimension)},lc.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},lc.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new lc(t,this._dimension)},lc.prototype.toString=function(){if(this._coordinates.length>0){var t=new _l(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},lc.prototype.getY=function(t){return this._coordinates[t].y},lc.prototype.toCoordinateArray=function(){return this._coordinates},lc.prototype.interfaces_=function(){return[Ml,al]},lc.prototype.getClass=function(){return lc},hc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(lc,hc);var cc=function(){},fc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};cc.prototype.readResolve=function(){return cc.instance()},cc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new lc(arguments[0]);if(dl(arguments[0],Ml))return new lc(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new lc(t):new lc(t,e)}},cc.prototype.interfaces_=function(){return[cl,al]},cc.prototype.getClass=function(){return cc},cc.instance=function(){return cc.instanceObject},fc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},fc.instanceObject.get=function(){return new cc},Object.defineProperties(cc,fc);var pc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new lh,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new bh;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(yh),dc=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},gc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dc.prototype.equals=function(t){if(!(t instanceof dc))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},dc.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new ml(n).compareTo(new ml(r))},dc.prototype.getScale=function(){return this._scale},dc.prototype.isFloating=function(){return this._modelType===dc.FLOATING||this._modelType===dc.FLOATING_SINGLE},dc.prototype.getType=function(){return this._modelType},dc.prototype.toString=function(){var t="UNKNOWN";return this._modelType===dc.FLOATING?t="Floating":this._modelType===dc.FLOATING_SINGLE?t="Floating-Single":this._modelType===dc.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},dc.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return nl.isNaN(t)||this._modelType===dc.FLOATING_SINGLE?t:this._modelType===dc.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof ul){var e=arguments[0];if(this._modelType===dc.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},dc.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===dc.FLOATING?t=16:this._modelType===dc.FLOATING_SINGLE?t=6:this._modelType===dc.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},dc.prototype.setScale=function(t){this._scale=Math.abs(t)},dc.prototype.interfaces_=function(){return[al,il]},dc.prototype.getClass=function(){return dc},dc.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},gc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},gc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dc,gc);var yc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},_c={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yc.prototype.readResolve=function(){return yc.nameToTypeMap.get(this._name)},yc.prototype.toString=function(){return this._name},yc.prototype.interfaces_=function(){return[al]},yc.prototype.getClass=function(){return yc},_c.serialVersionUID.get=function(){return-552860263173159e4},_c.nameToTypeMap.get=function(){return new pc},Object.defineProperties(yc,_c),dc.Type=yc,dc.FIXED=new yc("FIXED"),dc.FLOATING=new yc("FLOATING"),dc.FLOATING_SINGLE=new yc("FLOATING SINGLE");var mc=function t(){this._precisionModel=new dc,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?dl(arguments[0],cl)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dc&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},vc={serialVersionUID:{configurable:!0}};mc.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new ul(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new ul(t.getMinX(),t.getMinY()),new ul(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new ul(t.getMinX(),t.getMinY()),new ul(t.getMinX(),t.getMaxY()),new ul(t.getMaxX(),t.getMaxY()),new ul(t.getMaxX(),t.getMinY()),new ul(t.getMinX(),t.getMinY())]),null)},mc.prototype.createLineString=function(t){return t?t instanceof Array?new Qh(this.getCoordinateSequenceFactory().create(t),this):dl(t,Ml)?new Qh(t,this):void 0:new Qh(this.getCoordinateSequenceFactory().create([]),this)},mc.prototype.createMultiLineString=function(){return 0===arguments.length?new Fh(null,this):1===arguments.length?new Fh(arguments[0],this):void 0},mc.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(mc.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof tc)return this.createMultiPolygon(mc.toPolygonArray(t));if(a instanceof Qh)return this.createMultiLineString(mc.toLineStringArray(t));if(a instanceof Jh)return this.createMultiPoint(mc.toPointArray(t));Bl.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},mc.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},mc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof ul){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(dl(arguments[0],Ml))return new Jh(arguments[0],this)}},mc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},mc.prototype.createPolygon=function(){if(0===arguments.length)return new tc(null,null,this);if(1===arguments.length){if(dl(arguments[0],Ml)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof nc){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new tc(arguments[0],arguments[1],this)},mc.prototype.getSRID=function(){return this._SRID},mc.prototype.createGeometryCollection=function(){return 0===arguments.length?new zh(null,this):1===arguments.length?new zh(arguments[0],this):void 0},mc.prototype.createGeometry=function(t){return new ic(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},mc.prototype.getPrecisionModel=function(){return this._precisionModel},mc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(dl(arguments[0],Ml))return new nc(arguments[0],this)}},mc.prototype.createMultiPolygon=function(){return 0===arguments.length?new rc(null,this):1===arguments.length?new rc(arguments[0],this):void 0},mc.prototype.createMultiPoint=function(){var t=this;if(0===arguments.length)return new ec(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new ec(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(dl(arguments[0],Ml)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=t.getCoordinateSequenceFactory().create(1,n.getDimension());Wh.copy(n,i,o,0,1),r[i]=t.createPoint(o)}return this.createMultiPoint(r)}}},mc.prototype.interfaces_=function(){return[al]},mc.prototype.getClass=function(){return mc},mc.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.getDefaultCoordinateSequenceFactory=function(){return cc.instance()},mc.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},vc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(mc,vc);var bc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],xc=function(t){this.geometryFactory=t||new mc};xc.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!wc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==bc.indexOf(n)?wc[n].apply(this,[e.coordinates]):"GeometryCollection"===n?wc[n].apply(this,[e.geometries]):wc[n].apply(this,[e])},xc.prototype.write=function(t){var e=t.getGeometryType();if(!Ec[e])throw new Error("Geometry is not supported");return Ec[e].apply(this,[t])};var wc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!wc[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=wc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new ul(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new ul(t[0],t[1]),new ul(t[2],t[1]),new ul(t[2],t[3]),new ul(t[0],t[3]),new ul(t[0],t[1])])},Point:function(t){var e=new ul(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(wc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=wc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(wc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=wc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=wc.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(wc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},Ec={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Ec.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Ec.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(Ec.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Ec.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=Ec.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=Ec.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=Ec.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(Ec[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Mc=function(t){this.geometryFactory=t||new mc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new xc(this.geometryFactory)};Mc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===dc.FIXED&&this.reducePrecision(e),e},Mc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Lc=function(){this.parser=new xc(this.geometryFactory)};Lc.prototype.write=function(t){return this.parser.write(t)};var Sc=function(){},Pc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Cc(t){this.message=t||""}function Ic(){this.array_=[]}Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc},Sc.opposite=function(t){return t===Sc.LEFT?Sc.RIGHT:t===Sc.RIGHT?Sc.LEFT:t},Pc.ON.get=function(){return 0},Pc.LEFT.get=function(){return 1},Pc.RIGHT.get=function(){return 2},Object.defineProperties(Sc,Pc),Cc.prototype=new Error,Cc.prototype.name="EmptyStackException",Ic.prototype=new ah,Ic.prototype.add=function(t){return this.array_.push(t),!0},Ic.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Ic.prototype.push=function(t){return this.array_.push(t),t},Ic.prototype.pop=function(t){if(0===this.array_.length)throw new Cc;return this.array_.pop()},Ic.prototype.peek=function(){if(0===this.array_.length)throw new Cc;return this.array_[this.array_.length-1]},Ic.prototype.empty=function(){return 0===this.array_.length},Ic.prototype.isEmpty=function(){return this.empty()},Ic.prototype.search=function(t){return this.array_.indexOf(t)},Ic.prototype.size=function(){return this.array_.length},Ic.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var kc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};kc.prototype.getCoordinate=function(){return this._minCoord},kc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},kc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Bl.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=Hl.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Hl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Hl.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},kc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Sc.LEFT;return n[e].y<n[e+1].y&&(r=Sc.RIGHT),r},kc.prototype.getEdge=function(){return this._orientedDe},kc.prototype.checkForRightmostCoordinate=function(t){for(var e=this,n=t.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(null===e._minCoord||n[r].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=r,e._minCoord=n[r])},kc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},kc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Bl.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Sc.LEFT&&(this._orientedDe=this._minDe.getSym())},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Tc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new ul(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(zl),Nc=function(){this.array_=[]};Nc.prototype.addLast=function(t){this.array_.push(t)},Nc.prototype.removeFirst=function(){return this.array_.shift()},Nc.prototype.isEmpty=function(){return 0===this.array_.length};var Oc=function(){this._finder=null,this._dirEdgeList=new lh,this._nodes=new lh,this._rightMostCoord=null,this._env=null,this._finder=new kc};Oc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Oc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Oc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Tc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Oc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Sc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Oc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Oc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Sc.RIGHT)>=1&&e.getDepth(Sc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Oc.prototype.computeDepths=function(t){var e=new bh,n=new Nc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Oc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Oc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new kl,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Oc.prototype.addReachable=function(t){var e=new Ic;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Oc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Sc.LEFT,t.getDepth(Sc.RIGHT)),e.setDepth(Sc.RIGHT,t.getDepth(Sc.LEFT))},Oc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Oc.prototype.getNodes=function(){return this._nodes},Oc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Oc.prototype.interfaces_=function(){return[il]},Oc.prototype.getClass=function(){return Oc};var Ac=function t(){var e=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Sc.ON]=r}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var o=0;o<this.location.length;o++)e.location[o]=i.location[o]}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];this.init(3),this.location[Sc.ON]=s,this.location[Sc.LEFT]=a,this.location[Sc.RIGHT]=u}};Ac.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Ac.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==fl.NONE)return!1;return!0},Ac.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===fl.NONE&&(this.location[e]=t)},Ac.prototype.isLine=function(){return 1===this.location.length},Ac.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Sc.ON]=this.location[Sc.ON],e[Sc.LEFT]=fl.NONE,e[Sc.RIGHT]=fl.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===fl.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Ac.prototype.getLocations=function(){return this.location},Ac.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Sc.LEFT];this.location[Sc.LEFT]=this.location[Sc.RIGHT],this.location[Sc.RIGHT]=t},Ac.prototype.toString=function(){var t=new _l;return this.location.length>1&&t.append(fl.toLocationSymbol(this.location[Sc.LEFT])),t.append(fl.toLocationSymbol(this.location[Sc.ON])),this.location.length>1&&t.append(fl.toLocationSymbol(this.location[Sc.RIGHT])),t.toString()},Ac.prototype.setLocations=function(t,e,n){this.location[Sc.ON]=t,this.location[Sc.LEFT]=e,this.location[Sc.RIGHT]=n},Ac.prototype.get=function(t){return t<this.location.length?this.location[t]:fl.NONE},Ac.prototype.isArea=function(){return this.location.length>1},Ac.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===fl.NONE)return!0;return!1},Ac.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Sc.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Ac.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(fl.NONE)},Ac.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Ac.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var Rc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ac(e),this.elt[1]=new Ac(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Ac(n.elt[0]),this.elt[1]=new Ac(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Ac(fl.NONE),this.elt[1]=new Ac(fl.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Ac(o,s,a),this.elt[1]=new Ac(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],h=arguments[2],c=arguments[3];this.elt[0]=new Ac(fl.NONE,fl.NONE,fl.NONE),this.elt[1]=new Ac(fl.NONE,fl.NONE,fl.NONE),this.elt[u].setLocations(l,h,c)}};Rc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Rc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Rc.prototype.isNull=function(t){return this.elt[t].isNull()},Rc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Rc.prototype.isLine=function(t){return this.elt[t].isLine()},Rc.prototype.merge=function(t){for(var e=this,n=0;n<2;n++)null===e.elt[n]&&null!==t.elt[n]?e.elt[n]=new Ac(t.elt[n]):e.elt[n].merge(t.elt[n])},Rc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Rc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Sc.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Rc.prototype.toString=function(){var t=new _l;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Rc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Rc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Rc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Sc.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Rc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Rc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Rc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ac(this.elt[t].location[0]))},Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc},Rc.toLineLabel=function(t){for(var e=new Rc(fl.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Dc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new lh,this._pts=new lh,this._label=new Rc(fl.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new lh,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Dc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Hl.isCCW(this._ring.getCoordinates())},Dc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Dc.prototype.computePoints=function(t){var e=this;this._startDe=t;var n=t,r=!0;do{if(null===n)throw new Tc("Found null DirectedEdge");if(n.getEdgeRing()===e)throw new Tc("Directed Edge visited twice during ring-building at "+n.getCoordinate());e._edges.add(n);var i=n.getLabel();Bl.isTrue(i.isArea()),e.mergeLabel(i),e.addPoints(n.getEdge(),n.isForward(),r),r=!1,e.setEdgeRing(n,e),n=e.getNext(n)}while(n!==this._startDe)},Dc.prototype.getLinearRing=function(){return this._ring},Dc.prototype.getCoordinate=function(t){return this._pts.get(t)},Dc.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var n=e.getNode().getEdges().getOutgoingDegree(t);n>t._maxNodeDegree&&(t._maxNodeDegree=n),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},Dc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Dc.prototype.isHole=function(){return this._isHole},Dc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Dc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Hl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Dc.prototype.addHole=function(t){this._holes.add(t)},Dc.prototype.isShell=function(){return null===this._shell},Dc.prototype.getLabel=function(){return this._label},Dc.prototype.getEdges=function(){return this._edges},Dc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Dc.prototype.getShell=function(){return this._shell},Dc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Sc.RIGHT);if(n===fl.NONE)return null;if(this._label.getLocation(e)===fl.NONE)return this._label.setLocation(e,n),null}},Dc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Dc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var zc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dc),Fc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new lh,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new zc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Dc),Bc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Bc.prototype.setVisited=function(t){this._isVisited=t},Bc.prototype.setInResult=function(t){this._isInResult=t},Bc.prototype.isCovered=function(){return this._isCovered},Bc.prototype.isCoveredSet=function(){return this._isCoveredSet},Bc.prototype.setLabel=function(t){this._label=t},Bc.prototype.getLabel=function(){return this._label},Bc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Bc.prototype.updateIM=function(t){Bl.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Bc.prototype.isInResult=function(){return this._isInResult},Bc.prototype.isVisited=function(){return this._isVisited},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var jc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Rc(0,fl.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=fl.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==fl.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Rc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var t=this;if(arguments[0]instanceof e){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof Rc)for(var r=arguments[0],i=0;i<2;i++){var o=t.computeMergedLocation(r,i);t._label.getLocation(i)===fl.NONE&&t._label.setLocation(i,o)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=fl.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case fl.BOUNDARY:n=fl.INTERIOR;break;case fl.INTERIOR:default:n=fl.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bc),Gc=function(){this.nodeMap=new Ph,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Gc.prototype.find=function(t){return this.nodeMap.get(t)},Gc.prototype.addNode=function(){if(arguments[0]instanceof ul){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof jc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Gc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gc.prototype.iterator=function(){return this.nodeMap.values().iterator()},Gc.prototype.values=function(){return this.nodeMap.values()},Gc.prototype.getBoundaryNodes=function(t){for(var e=new lh,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===fl.BOUNDARY&&e.add(r)}return e},Gc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc};var Uc=function(){},qc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.isNorthern=function(t){return t===Uc.NE||t===Uc.NW},Uc.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},Uc.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Uc.isInHalfPlane=function(t,e){return e===Uc.SE?t===Uc.SE||t===Uc.SW:t===e||t===e+1},Uc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new el("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Uc.NE:Uc.SE:e>=0?Uc.NW:Uc.SW}if(arguments[0]instanceof ul&&arguments[1]instanceof ul){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new el("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Uc.NE:Uc.SE:r.y>=n.y?Uc.NW:Uc.SW}},qc.NE.get=function(){return 0},qc.NW.get=function(){return 1},qc.SW.get=function(){return 2},qc.SE.get=function(){return 3},Object.defineProperties(Uc,qc);var Vc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=null;this._edge=e,this.init(n,r),this._label=i}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this._edge=o,this.init(s,a),this._label=u}};Vc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Hl.computeOrientation(t._p0,t._p1,this._p1)},Vc.prototype.getDy=function(){return this._dy},Vc.prototype.getCoordinate=function(){return this._p0},Vc.prototype.setNode=function(t){this._node=t},Vc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Vc.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Vc.prototype.getDirectedCoordinate=function(){return this._p1},Vc.prototype.getDx=function(){return this._dx},Vc.prototype.getLabel=function(){return this._label},Vc.prototype.getEdge=function(){return this._edge},Vc.prototype.getQuadrant=function(){return this._quadrant},Vc.prototype.getNode=function(){return this._node},Vc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Vc.prototype.computeLabel=function(t){},Vc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Uc.quadrant(this._dx,this._dy),Bl.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Vc.prototype.interfaces_=function(){return[il]},Vc.prototype.getClass=function(){return Vc};var Hc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Rc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Tc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=this,e=!0,n=0;n<2;n++)t._label.isArea(n)&&t._label.getLocation(n,Sc.LEFT)===fl.INTERIOR&&t._label.getLocation(n,Sc.RIGHT)===fl.INTERIOR||(e=!1);return e},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Sc.LEFT]+"/"+this._depth[Sc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,fl.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,fl.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Sc.LEFT&&(r=-1);var i=Sc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===fl.EXTERIOR&&e===fl.INTERIOR?1:t===fl.INTERIOR&&e===fl.EXTERIOR?-1:0},e}(Vc),Zc=function(){};Zc.prototype.createNode=function(t){return new jc(t,null)},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Yc=function(){if(this._edges=new lh,this._nodes=null,this._edgeEndList=new lh,0===arguments.length)this._nodes=new Gc(new Zc);else if(1===arguments.length){var t=arguments[0];this._nodes=new Gc(t)}};Yc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Yc.prototype.find=function(t){return this._nodes.find(t)},Yc.prototype.addNode=function(){if(arguments[0]instanceof jc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof ul){var e=arguments[0];return this._nodes.addNode(e)}},Yc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Yc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Yc.prototype.debugPrintln=function(t){Cl.out.println(t)},Yc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===fl.BOUNDARY},Yc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Yc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&Hl.computeOrientation(t,e,r)===Hl.COLLINEAR&&Uc.quadrant(t,e)===Uc.quadrant(n,r)},Yc.prototype.getEdgeEnds=function(){return this._edgeEndList},Yc.prototype.debugPrint=function(t){Cl.out.print(t)},Yc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Yc.prototype.findEdgeInSameDirection=function(t,e){for(var n=this,r=0;r<this._edges.size();r++){var i=n._edges.get(r),o=i.getCoordinates();if(n.matchInSameDirection(t,e,o[0],o[1]))return i;if(n.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return i}return null},Yc.prototype.insertEdge=function(t){this._edges.add(t)},Yc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Yc.prototype.addEdges=function(t){for(var e=this,n=t.iterator();n.hasNext();){var r=n.next();e._edges.add(r);var i=new Hc(r,!0),o=new Hc(r,!1);i.setSym(o),o.setSym(i),e.add(i),e.add(o)}},Yc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Yc.prototype.getNodes=function(){return this._nodes.values()},Yc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc},Yc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Xc=function(){this._geometryFactory=null,this._shellList=new lh;var t=arguments[0];this._geometryFactory=t};Xc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Xc.prototype.computePolygons=function(t){for(var e=new lh,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Xc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Tc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Xc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new lh,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Xc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Xc.prototype.buildMaximalEdgeRings=function(t){for(var e=new lh,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Fc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Xc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Xc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Xc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),h=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var c=!1;h.contains(r)&&Hl.isPointInRing(i,l.getCoordinates())&&(c=!0),c&&(null===o||s.contains(h))&&(o=u)}return o},Xc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return Bl.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Xc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Yc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new lh,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Wc=function(){};Wc.prototype.getBounds=function(){},Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc};var Qc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Qc.prototype.getItem=function(){return this._item},Qc.prototype.getBounds=function(){return this._bounds},Qc.prototype.interfaces_=function(){return[Wc,al]},Qc.prototype.getClass=function(){return Qc};var Kc=function(){this._size=null,this._items=null,this._size=0,this._items=new lh,this._items.add(null)};Kc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Kc.prototype.size=function(){return this._size},Kc.prototype.reorder=function(t){for(var e=this,n=null,r=this._items.get(t);2*t<=this._size&&((n=2*t)!==e._size&&e._items.get(n+1).compareTo(e._items.get(n))<0&&n++,e._items.get(n).compareTo(r)<0);t=n)e._items.set(t,e._items.get(n));this._items.set(t,r)},Kc.prototype.clear=function(){this._size=0,this._items.clear()},Kc.prototype.isEmpty=function(){return 0===this._size},Kc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Jc=function(){};Jc.prototype.visitItem=function(t){},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var $c=function(){};$c.prototype.insert=function(t,e){},$c.prototype.remove=function(t,e){},$c.prototype.query=function(){},$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c};var tf=function(){if(this._childBoundables=new lh,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},ef={serialVersionUID:{configurable:!0}};tf.prototype.getLevel=function(){return this._level},tf.prototype.size=function(){return this._childBoundables.size()},tf.prototype.getChildBoundables=function(){return this._childBoundables},tf.prototype.addChildBoundable=function(t){Bl.isTrue(null===this._bounds),this._childBoundables.add(t)},tf.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},tf.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},tf.prototype.interfaces_=function(){return[Wc,al]},tf.prototype.getClass=function(){return tf},ef.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(tf,ef);var nf=function(){};nf.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},nf.min=function(t){return nf.sort(t),t.get(0)},nf.sort=function(t,e){var n=t.toArray();e?Nh.sort(n,e):Nh.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},nf.singletonList=function(t){var e=new lh;return e.add(t),e};var rf=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};rf.prototype.expandToQueue=function(t,e){var n=rf.isComposite(this._boundable1),r=rf.isComposite(this._boundable2);if(n&&r)return rf.area(this._boundable1)>rf.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new el("neither boundable is composite")},rf.prototype.isLeaves=function(){return!(rf.isComposite(this._boundable1)||rf.isComposite(this._boundable2))},rf.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},rf.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new rf(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},rf.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},rf.prototype.getDistance=function(){return this._distance},rf.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},rf.prototype.interfaces_=function(){return[il]},rf.prototype.getClass=function(){return rf},rf.area=function(t){return t.getBounds().getArea()},rf.isComposite=function(t){return t instanceof tf};var of=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new lh,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Bl.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},sf={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};of.prototype.getNodeCapacity=function(){return this._nodeCapacity},of.prototype.lastNode=function(t){return t.get(t.size()-1)},of.prototype.size=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof tf?e+=t.size(r):r instanceof Qc&&(e+=1)}return e}},of.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Qc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},of.prototype.itemsTree=function(){var t=this;if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new lh:e}if(1===arguments.length){for(var n=arguments[0],r=new lh,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof tf){var s=t.itemsTree(o);null!==s&&r.add(s)}else o instanceof Qc?r.add(o.getItem()):Bl.shouldNeverReachHere()}return r.size()<=0?null:r}},of.prototype.insert=function(t,e){Bl.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Qc(t,e))},of.prototype.boundablesAtLevel=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new lh;return this.boundablesAtLevel(e,this._root,n),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(Bl.isTrue(r>-2),i.getLevel()===r)return o.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var a=s.next();a instanceof tf?t.boundablesAtLevel(r,a,o):(Bl.isTrue(a instanceof Qc),-1===r&&o.add(a))}return null}},of.prototype.query=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.build();var n=new lh;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n),n}if(2===arguments.length){var r=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,i)}else if(3===arguments.length)if(dl(arguments[2],Jc)&&arguments[0]instanceof Object&&arguments[1]instanceof tf)for(var o=arguments[0],s=arguments[2],a=arguments[1].getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);t.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof tf?t.query(o,l,s):l instanceof Qc?s.visitItem(l.getItem()):Bl.shouldNeverReachHere())}else if(dl(arguments[2],ah)&&arguments[0]instanceof Object&&arguments[1]instanceof tf)for(var h=arguments[0],c=arguments[2],f=arguments[1].getChildBoundables(),p=0;p<f.size();p++){var d=f.get(p);t.getIntersectsOp().intersects(d.getBounds(),h)&&(d instanceof tf?t.query(h,d,c):d instanceof Qc?c.add(d.getItem()):Bl.shouldNeverReachHere())}},of.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},of.prototype.getRoot=function(){return this.build(),this._root},of.prototype.remove=function(){var t=this;if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=this.removeItem(i,o);if(s)return!0;for(var a=null,u=i.getChildBoundables().iterator();u.hasNext();){var l=u.next();if(t.getIntersectsOp().intersects(l.getBounds(),r)&&l instanceof tf&&(s=t.remove(r,l,o))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),s}},of.prototype.createHigherLevels=function(t,e){Bl.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},of.prototype.depth=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof tf){var i=t.depth(r);i>e&&(e=i)}}return e+1}},of.prototype.createParentBoundables=function(t,e){var n=this;Bl.isTrue(!t.isEmpty());var r=new lh;r.add(this.createNode(e));var i=new lh(t);nf.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var s=o.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(e)),n.lastNode(r).addChildBoundable(s)}return r},of.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},of.prototype.interfaces_=function(){return[al]},of.prototype.getClass=function(){return of},of.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},sf.IntersectsOp.get=function(){return af},sf.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},sf.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(of,sf);var af=function(){},uf=function(){};uf.prototype.distance=function(t,e){},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var lf=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Bl.isTrue(t.length>0);for(var n=new lh,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new hf(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new lh;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(dl(arguments[2],Jc)&&arguments[0]instanceof Object&&arguments[1]instanceof tf){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(dl(arguments[2],ah)&&arguments[0]instanceof Object&&arguments[1]instanceof tf){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Bl.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new lh(t);nf.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(dl(arguments[0],uf)){var t=arguments[0],n=new rf(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof rf){var r=arguments[0];return this.nearestNeighbour(r,nl.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&dl(arguments[1],uf)){var i=arguments[0],o=arguments[1],s=new rf(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof rf&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,h=new Kc;for(h.add(a);!h.isEmpty()&&u>0;){var c=h.poll(),f=c.getDistance();if(f>=u)break;c.isLeaves()?(u=f,l=c):c.expandToQueue(h,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[2],d=new Qc(arguments[0],arguments[1]),g=new rf(this.getRoot(),d,p);return this.nearestNeighbour(g)[0]}},e.prototype.interfaces_=function(){return[$c,al]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return hf},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[sl]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[sl]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(of),hf=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new kl(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(tf),cf=function(){};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.relativeSign=function(t,e){return t<e?-1:t>e?1:0},cf.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=cf.relativeSign(e.x,n.x),i=cf.relativeSign(e.y,n.y);switch(t){case 0:return cf.compareValue(r,i);case 1:return cf.compareValue(i,r);case 2:return cf.compareValue(i,-r);case 3:return cf.compareValue(-r,i);case 4:return cf.compareValue(-r,-i);case 5:return cf.compareValue(-i,-r);case 6:return cf.compareValue(-i,r);case 7:return cf.compareValue(r,-i)}return Bl.shouldNeverReachHere("invalid octant value"),0},cf.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ff=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new ul(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};ff.prototype.getCoordinate=function(){return this.coord},ff.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ff.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:cf.compare(this._segmentOctant,this.coord,e.coord)},ff.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ff.prototype.isInterior=function(){return this._isInterior},ff.prototype.interfaces_=function(){return[il]},ff.prototype.getClass=function(){return ff};var pf=function(){this._nodeMap=new Ph,this._edge=null;var t=arguments[0];this._edge=t};pf.prototype.getSplitCoordinates=function(){var t=new ch;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},pf.prototype.addCollapsedNodes=function(){var t=new lh;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},pf.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},pf.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new ml(e+1))}},pf.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new ul(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new ul(e.coord))},pf.prototype.iterator=function(){return this._nodeMap.values().iterator()},pf.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},pf.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},pf.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new ml(e[0])),r=i}},pf.prototype.getEdge=function(){return this._edge},pf.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},pf.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new ul(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new ul(e.coord)),new _f(o,this._edge.getData())},pf.prototype.add=function(t,e){var n=new ff(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(Bl.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},pf.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new zl("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new zl("bad split edge end point at "+i)},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf};var df=function(){};df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new el("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof ul&&arguments[1]instanceof ul){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new el("Cannot compute the octant for two identical points "+i);return df.octant(s,a)}};var gf=function(){};gf.prototype.getCoordinates=function(){},gf.prototype.size=function(){},gf.prototype.getCoordinate=function(t){},gf.prototype.isClosed=function(){},gf.prototype.setData=function(t){},gf.prototype.getData=function(){},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var yf=function(){};yf.prototype.addIntersection=function(t,e){},yf.prototype.interfaces_=function(){return[gf]},yf.prototype.getClass=function(){return yf};var _f=function(){this._nodeList=new pf(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};_f.prototype.getCoordinates=function(){return this._pts},_f.prototype.size=function(){return this._pts.length},_f.prototype.getCoordinate=function(t){return this._pts[t]},_f.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_f.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},_f.prototype.setData=function(t){this._data=t},_f.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:df.octant(t,e)},_f.prototype.getData=function(){return this._data},_f.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new ul(arguments[0].getIntersection(r));this.addIntersection(i,n)}},_f.prototype.toString=function(){return Dl.toLineString(new lc(this._pts))},_f.prototype.getNodeList=function(){return this._nodeList},_f.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},_f.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},_f.prototype.interfaces_=function(){return[yf]},_f.prototype.getClass=function(){return _f},_f.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new lh;return _f.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var mf=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new ul,this.p1=new ul;else if(1===arguments.length){var t=arguments[0];this.p0=new ul(t.p0),this.p1=new ul(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new ul(e,n),this.p1=new ul(r,i)}},vf={serialVersionUID:{configurable:!0}};mf.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},mf.prototype.orientationIndex=function(){if(arguments[0]instanceof mf){var t=arguments[0],e=Hl.orientationIndex(this.p0,this.p1,t.p0),n=Hl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof ul){var r=arguments[0];return Hl.orientationIndex(this.p0,this.p1,r)}},mf.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},mf.prototype.isVertical=function(){return this.p0.x===this.p1.x},mf.prototype.equals=function(t){if(!(t instanceof mf))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},mf.prototype.intersection=function(t){var e=new Ul;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},mf.prototype.project=function(){if(arguments[0]instanceof ul){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new ul(t);var e=this.projectionFactor(t),n=new ul;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof mf){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new mf(s,a)}},mf.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},mf.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},mf.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},mf.prototype.distancePerpendicular=function(t){return Hl.distancePointLinePerpendicular(t,this.p0,this.p1)},mf.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},mf.prototype.midPoint=function(){return mf.midPoint(this.p0,this.p1)},mf.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?nl.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},mf.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=nl.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},mf.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},mf.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},mf.prototype.getLength=function(){return this.p0.distance(this.p1)},mf.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},mf.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},mf.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},mf.prototype.lineIntersection=function(t){try{return Il.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Pl))throw t}return null},mf.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},mf.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new ul(n-u,r+a)},mf.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},mf.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||nl.isNaN(e))&&(e=1),e},mf.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},mf.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},mf.prototype.distance=function(){if(arguments[0]instanceof mf){var t=arguments[0];return Hl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof ul){var e=arguments[0];return Hl.distancePointLine(e,this.p0,this.p1)}},mf.prototype.pointAlong=function(t){var e=new ul;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},mf.prototype.hashCode=function(){var t=nl.doubleToLongBits(this.p0.x);t^=31*nl.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=nl.doubleToLongBits(this.p1.x);return n^=31*nl.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},mf.prototype.interfaces_=function(){return[il,al]},mf.prototype.getClass=function(){return mf},mf.midPoint=function(t,e){return new ul((t.x+e.x)/2,(t.y+e.y)/2)},vf.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(mf,vf);var bf=function(){this.tempEnv1=new kl,this.tempEnv2=new kl,this._overlapSeg1=new mf,this._overlapSeg2=new mf};bf.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf};var xf=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};xf.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},xf.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},xf.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},xf.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},xf.prototype.setId=function(t){this._id=t},xf.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},xf.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new kl(t,e)}return this._env},xf.prototype.getEndIndex=function(){return this._end},xf.prototype.getStartIndex=function(){return this._start},xf.prototype.getContext=function(){return this._context},xf.prototype.getId=function(){return this._id},xf.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var h=Math.trunc((t+e)/2),c=Math.trunc((r+i)/2);t<h&&(r<c&&this.computeOverlapsInternal(t,h,n,r,c,o),c<i&&this.computeOverlapsInternal(t,h,n,c,i,o)),h<e&&(r<c&&this.computeOverlapsInternal(h,e,n,r,c,o),c<i&&this.computeOverlapsInternal(h,e,n,c,i,o))},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var wf=function(){};wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.getChainStartIndices=function(t){var e=0,n=new lh;n.add(new ml(e));do{var r=wf.findChainEnd(t,e);n.add(new ml(r)),e=r}while(e<t.length-1);return wf.toIntArray(n)},wf.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Uc.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Uc.quadrant(t[i-1],t[i])===r);)i++;return i-1},wf.getChains=function(){if(1===arguments.length){var t=arguments[0];return wf.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new lh,i=wf.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new xf(e,i[o],i[o+1],n);r.add(s)}return r}},wf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Ef=function(){};Ef.prototype.computeNodes=function(t){},Ef.prototype.getNodedSubstrings=function(){},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef};var Mf=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Mf.prototype.setSegmentIntersector=function(t){this._segInt=t},Mf.prototype.interfaces_=function(){return[Ef]},Mf.prototype.getClass=function(){return Mf};var Lf=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new lh,this._index=new lf,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return _f.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=this,n=wf.getChains(t.getCoordinates(),t).iterator();n.hasNext();){var r=n.next();r.setId(e._idCounter++),e._index.insert(r.getEnvelope(),r),e._monoChains.add(r)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=this,e=new Sf(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var r=n.next(),i=t._index.query(r.getEnvelope()).iterator();i.hasNext();){var o=i.next();if(o.getId()>r.getId()&&(r.computeOverlaps(o,e),t._nOverlaps++),t._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Sf},Object.defineProperties(e,n),e}(Mf),Sf=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bf),Pf=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Cf={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Pf.prototype.getEndCapStyle=function(){return this._endCapStyle},Pf.prototype.isSingleSided=function(){return this._isSingleSided},Pf.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Pf.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Pf.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Pf.JOIN_ROUND&&(this._quadrantSegments=Pf.DEFAULT_QUADRANT_SEGMENTS)},Pf.prototype.getJoinStyle=function(){return this._joinStyle},Pf.prototype.setJoinStyle=function(t){this._joinStyle=t},Pf.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Pf.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Pf.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Pf.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Pf.prototype.getMitreLimit=function(){return this._mitreLimit},Pf.prototype.setMitreLimit=function(t){this._mitreLimit=t},Pf.prototype.setSingleSided=function(t){this._isSingleSided=t},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Cf.CAP_ROUND.get=function(){return 1},Cf.CAP_FLAT.get=function(){return 2},Cf.CAP_SQUARE.get=function(){return 3},Cf.JOIN_ROUND.get=function(){return 1},Cf.JOIN_MITRE.get=function(){return 2},Cf.JOIN_BEVEL.get=function(){return 3},Cf.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Cf.DEFAULT_MITRE_LIMIT.get=function(){return 5},Cf.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Pf,Cf);var If=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Hl.COUNTERCLOCKWISE,this._inputLine=t||null},kf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};If.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},If.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,n=this.findNextNonDeletedIndex(e),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;t.isDeletable(e,n,r,t._distanceTol)&&(t._isDeleted[n]=If.DELETE,o=!0,i=!0),e=o?r:n,n=t.findNextNonDeletedIndex(e),r=t.findNextNonDeletedIndex(n)}return i},If.prototype.isShallowConcavity=function(t,e,n,r){return Hl.computeOrientation(t,e,n)===this._angleOrientation&&Hl.distancePointLine(e,t,n)<r},If.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/If.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},If.prototype.isConcave=function(t,e,n){return Hl.computeOrientation(t,e,n)===this._angleOrientation},If.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Hl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},If.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===If.DELETE;)e++;return e},If.prototype.isShallow=function(t,e,n,r){return Hl.distancePointLine(e,t,n)<r},If.prototype.collapseLine=function(){for(var t=new ch,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==If.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.simplify=function(t,e){return new If(t).simplify(e)},kf.INIT.get=function(){return 0},kf.DELETE.get=function(){return 1},kf.KEEP.get=function(){return 1},kf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(If,kf);var Tf=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new lh},Nf={COORDINATE_ARRAY_TYPE:{configurable:!0}};Tf.prototype.getCoordinates=function(){return this._ptList.toArray(Tf.COORDINATE_ARRAY_TYPE)},Tf.prototype.setPrecisionModel=function(t){this._precisionModel=t},Tf.prototype.addPt=function(t){var e=new ul(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Tf.prototype.revere=function(){},Tf.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Tf.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Tf.prototype.toString=function(){return(new mc).createLineString(this.getCoordinates()).toString()},Tf.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new ul(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Tf.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Nf.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Tf,Nf);var Of=function(){},Af={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.toDegrees=function(t){return 180*t/Math.PI},Of.normalize=function(t){for(;t>Math.PI;)t-=Of.PI_TIMES_2;for(;t<=-Math.PI;)t+=Of.PI_TIMES_2;return t},Of.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Of.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Of.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Of.interiorAngle=function(t,e,n){var r=Of.angle(e,t),i=Of.angle(e,n);return Math.abs(i-r)},Of.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Of.PI_TIMES_2;t>=Of.PI_TIMES_2&&(t=0)}else{for(;t>=Of.PI_TIMES_2;)t-=Of.PI_TIMES_2;t<0&&(t=0)}return t},Of.angleBetween=function(t,e,n){var r=Of.angle(e,t),i=Of.angle(e,n);return Of.diff(r,i)},Of.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Of.toRadians=function(t){return t*Math.PI/180},Of.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Of.COUNTERCLOCKWISE:n<0?Of.CLOCKWISE:Of.NONE},Of.angleBetweenOriented=function(t,e,n){var r=Of.angle(e,t),i=Of.angle(e,n)-r;return i<=-Math.PI?i+Of.PI_TIMES_2:i>Math.PI?i-Of.PI_TIMES_2:i},Af.PI_TIMES_2.get=function(){return 2*Math.PI},Af.PI_OVER_2.get=function(){return Math.PI/2},Af.PI_OVER_4.get=function(){return Math.PI/4},Af.COUNTERCLOCKWISE.get=function(){return Hl.COUNTERCLOCKWISE},Af.CLOCKWISE.get=function(){return Hl.CLOCKWISE},Af.NONE.get=function(){return Hl.COLLINEAR},Object.defineProperties(Of,Af);var Rf=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new mf,this._seg1=new mf,this._offset0=new mf,this._offset1=new mf,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Ul,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Pf.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Df={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Rf.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Hl.computeOrientation(this._s0,this._s1,this._s2),r=n===Hl.CLOCKWISE&&this._side===Sc.LEFT||n===Hl.COUNTERCLOCKWISE&&this._side===Sc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Rf.prototype.addLineEndCap=function(t,e){var n=new mf(t,e),r=new mf;this.computeOffsetSegment(n,Sc.LEFT,this._distance,r);var i=new mf;this.computeOffsetSegment(n,Sc.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Pf.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Hl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Pf.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Pf.CAP_SQUARE:var u=new ul;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new ul(r.p1.x+u.x,r.p1.y+u.y),h=new ul(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(h)}},Rf.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Rf.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Il.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Pl))throw t;o=new ul(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Rf.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,h=Math.atan2(l,u);r===Hl.CLOCKWISE?a<=h&&(a+=2*Math.PI):a>=h&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,h,r,i),this._segList.addPt(n)},Rf.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Rf.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Pf.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Pf.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Rf.prototype.createSquare=function(t){this._segList.addPt(new ul(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new ul(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new ul(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new ul(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Rf.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Rf.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Rf.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Rf.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Rf.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Of.angle(i,this._seg0.p0),s=Of.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Of.normalize(o+s),u=Of.normalize(a+Math.PI),l=r*n,h=n-l*Math.abs(Math.sin(s)),c=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new ul(c,f),d=new mf(i,p),g=d.pointAlongOffset(1,h),y=d.pointAlongOffset(1,-h);this._side===Sc.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},Rf.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Sc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},Rf.prototype.addFilletArc=function(t,e,n,r,i){var o=r===Hl.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,h=new ul;l<s;){var c=e+o*l;h.x=t.x+i*Math.cos(c),h.y=t.y+i*Math.sin(c),this._segList.addPt(h),l+=u}},Rf.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Rf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new ul((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new ul((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Rf.prototype.createCircle=function(t){var e=new ul(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Rf.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Rf.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Tf,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Rf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Rf.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Pf.JOIN_BEVEL||this._bufParams.getJoinStyle()===Pf.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Hl.CLOCKWISE,this._distance))},Rf.prototype.closeRing=function(){this._segList.closeRing()},Rf.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Df.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Df.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Df.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Df.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Rf,Df);var zf=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};zf.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&fh.reverse(o),o},zf.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=If.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=If.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},zf.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Sc.RIGHT&&(r=-r);var i=If.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},zf.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=If.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Sc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=If.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Sc.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},zf.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Pf.CAP_ROUND:e.createCircle(t);break;case Pf.CAP_SQUARE:e.createSquare(t)}},zf.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},zf.prototype.getBufferParameters=function(){return this._bufParams},zf.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},zf.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return zf.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},zf.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=If.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Sc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=If.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Sc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},zf.prototype.getSegGen=function(t){return new Rf(this._precisionModel,this._bufParams,t)},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},zf.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new ul(t[n]);return e};var Ff=function(){this._subgraphs=null,this._seg=new mf,this._cga=new Hl;var t=arguments[0];this._subgraphs=t},Bf={DepthSegment:{configurable:!0}};Ff.prototype.findStabbedSegments=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=new lh,r=this._subgraphs.iterator();r.hasNext();){var i=r.next(),o=i.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||t.findStabbedSegments(e,i.getDirectedEdges(),n)}return n}if(3===arguments.length)if(dl(arguments[2],ah)&&arguments[0]instanceof ul&&arguments[1]instanceof Hc){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=a.getEdge().getCoordinates(),h=0;h<l.length-1;h++)if(t._seg.p0=l[h],t._seg.p1=l[h+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse(),!(Math.max(t._seg.p0.x,t._seg.p1.x)<s.x)&&!(t._seg.isHorizontal()||s.y<t._seg.p0.y||s.y>t._seg.p1.y||Hl.computeOrientation(t._seg.p0,t._seg.p1,s)===Hl.RIGHT)){var c=a.getDepth(Sc.LEFT);t._seg.p0.equals(l[h])||(c=a.getDepth(Sc.RIGHT));var f=new jf(t._seg,c);u.add(f)}}else if(dl(arguments[2],ah)&&arguments[0]instanceof ul&&dl(arguments[1],ah))for(var p=arguments[0],d=arguments[2],g=arguments[1].iterator();g.hasNext();){var y=g.next();y.isForward()&&t.findStabbedSegments(p,y,d)}},Ff.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:nf.min(e)._leftDepth},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff},Bf.DepthSegment.get=function(){return jf},Object.defineProperties(Ff,Bf);var jf=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new mf(t),this._leftDepth=e};jf.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!==(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},jf.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},jf.prototype.toString=function(){return this._upwardSeg.toString()},jf.prototype.interfaces_=function(){return[il]},jf.prototype.getClass=function(){return jf};var Gf=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Gf.prototype.area=function(){return Gf.area(this.p0,this.p1,this.p2)},Gf.prototype.signedArea=function(){return Gf.signedArea(this.p0,this.p1,this.p2)},Gf.prototype.interpolateZ=function(t){if(null===t)throw new el("Supplied point is null.");return Gf.interpolateZ(t,this.p0,this.p1,this.p2)},Gf.prototype.longestSideLength=function(){return Gf.longestSideLength(this.p0,this.p1,this.p2)},Gf.prototype.isAcute=function(){return Gf.isAcute(this.p0,this.p1,this.p2)},Gf.prototype.circumcentre=function(){return Gf.circumcentre(this.p0,this.p1,this.p2)},Gf.prototype.area3D=function(){return Gf.area3D(this.p0,this.p1,this.p2)},Gf.prototype.centroid=function(){return Gf.centroid(this.p0,this.p1,this.p2)},Gf.prototype.inCentre=function(){return Gf.inCentre(this.p0,this.p1,this.p2)},Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf},Gf.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Gf.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Gf.det=function(t,e,n,r){return t*r-e*n},Gf.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,h=s*l-a*u,c=t.x-i,f=t.y-o,p=(l*c-a*f)/h,d=(-u*c+s*f)/h;return e.z+p*(n.z-e.z)+d*(r.z-e.z)},Gf.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},Gf.isAcute=function(t,e,n){return!!Of.isAcute(t,e,n)&&!!Of.isAcute(e,n,t)&&!!Of.isAcute(n,t,e)},Gf.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*Gf.det(o,s,a,u),h=Gf.det(s,o*o+s*s,u,a*a+u*u),c=Gf.det(o,o*o+s*s,a,a*a+u*u);return new ul(r-h/l,i+c/l)},Gf.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Il(t.x+n/2,t.y+r/2,1),o=new Il(t.x-r+n/2,t.y+n+r/2,1);return new Il(i,o)},Gf.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new ul(t.x+i*o,t.y+i*s)},Gf.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,h=o*s-r*u,c=r*a-i*s,f=l*l+h*h+c*c;return Math.sqrt(f)/2},Gf.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new ul(r,i)},Gf.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new ul(a,u)};var Uf=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new lh;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Uf.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,fl.EXTERIOR,fl.INTERIOR)},Uf.prototype.addPolygon=function(t){var e=this,n=this._distance,r=Sc.LEFT;this._distance<0&&(n=-this._distance,r=Sc.RIGHT);var i=t.getExteriorRing(),o=fh.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,r,fl.EXTERIOR,fl.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var a=t.getInteriorRingN(s),u=fh.removeRepeatedPoints(a.getCoordinates());e._distance>0&&e.isErodedCompletely(a,-e._distance)||e.addPolygonRing(u,n,Sc.opposite(r),fl.INTERIOR,fl.EXTERIOR)}},Uf.prototype.isTriangleErodedCompletely=function(t,e){var n=new Gf(t[0],t[1],t[2]),r=n.inCentre();return Hl.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Uf.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=fh.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,fl.EXTERIOR,fl.INTERIOR)},Uf.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new _f(t,new Rc(0,fl.BOUNDARY,e,n));this._curveList.add(r)},Uf.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Uf.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<nc.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=nc.MINIMUM_VALID_SIZE&&Hl.isCCW(t)&&(o=i,s=r,n=Sc.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Uf.prototype.add=function(t){if(t.isEmpty())return null;t instanceof tc?this.addPolygon(t):t instanceof Qh?this.addLineString(t):t instanceof Jh?this.addPoint(t):(t instanceof ec||t instanceof Fh||t instanceof rc||t instanceof zh)&&this.addCollection(t)},Uf.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Uf.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf};var qf=function(){};qf.prototype.locate=function(t){},qf.prototype.interfaces_=function(){return[]},qf.prototype.getClass=function(){return qf};var Vf=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Vf.prototype.next=function(){if(this._atStart)return this._atStart=!1,Vf.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new uh;var t=this._parent.getGeometryN(this._index++);return t instanceof zh?(this._subcollectionIterator=new Vf(t),this._subcollectionIterator.next()):t},Vf.prototype.remove=function(){throw new Error(this.getClass().getName())},Vf.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Vf.prototype.interfaces_=function(){return[sh]},Vf.prototype.getClass=function(){return Vf},Vf.isAtomic=function(t){return!(t instanceof zh)};var Hf=function(){this._geom=null;var t=arguments[0];this._geom=t};Hf.prototype.locate=function(t){return Hf.locate(t,this._geom)},Hf.prototype.interfaces_=function(){return[qf]},Hf.prototype.getClass=function(){return Hf},Hf.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Hl.isPointInRing(t,e.getCoordinates())},Hf.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Hf.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Hf.isPointInRing(t,i))return!1}return!0},Hf.containsPoint=function(t,e){if(e instanceof tc)return Hf.containsPointInPolygon(t,e);if(e instanceof zh)for(var n=new Vf(e);n.hasNext();){var r=n.next();if(r!==e&&Hf.containsPoint(t,r))return!0}return!1},Hf.locate=function(t,e){return e.isEmpty()?fl.EXTERIOR:Hf.containsPoint(t,e)?fl.INTERIOR:fl.EXTERIOR};var Zf=function(){this._edgeMap=new Ph,this._edgeList=null,this._ptInAreaLocation=[fl.NONE,fl.NONE]};Zf.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Zf.prototype.propagateSideLabels=function(t){for(var e=fl.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Sc.LEFT)!==fl.NONE&&(e=r.getLocation(t,Sc.LEFT))}if(e===fl.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Sc.ON)===fl.NONE&&a.setLocation(t,Sc.ON,i),a.isArea(t)){var u=a.getLocation(t,Sc.LEFT),l=a.getLocation(t,Sc.RIGHT);if(l!==fl.NONE){if(l!==i)throw new Tc("side location conflict",s.getCoordinate());u===fl.NONE&&Bl.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else Bl.isTrue(a.getLocation(t,Sc.LEFT)===fl.NONE,"found single null side"),a.setLocation(t,Sc.RIGHT,i),a.setLocation(t,Sc.LEFT,i)}}},Zf.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Zf.prototype.print=function(t){Cl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Zf.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Zf.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Sc.LEFT);Bl.isTrue(r!==fl.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();Bl.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Sc.LEFT),u=s.getLocation(t,Sc.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},Zf.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Zf.prototype.iterator=function(){return this.getEdges().iterator()},Zf.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new lh(this._edgeMap.values())),this._edgeList},Zf.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===fl.NONE&&(this._ptInAreaLocation[t]=Hf.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Zf.prototype.toString=function(){var t=new _l;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Zf.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Zf.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===fl.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=fl.NONE;if(e[u])l=fl.EXTERIOR;else{var h=s.getCoordinate();l=this.getLocation(u,h,t)}a.setAllLocationsIfNull(u,l)}},Zf.prototype.getDegree=function(){return this._edgeMap.size()},Zf.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var Yf=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var t=this;this.getResultAreaEdges();for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var o=t._resultAreaEdgeList.get(i),s=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),r){case t._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;n=s,r=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(!o.isInResult())continue;n.setNext(o),r=t._SCANNING_FOR_INCOMING}}if(r===this._LINKING_TO_OUTGOING){if(null===e)throw new Tc("no outgoing dirEdge found",this.getCoordinate());Bl.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),n.setNext(e)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Uc.isNorthern(i)&&Uc.isNorthern(o)?n:Uc.isNorthern(i)||Uc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(Bl.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){Cl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new lh;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this.findIndex(e),r=e.getDepth(Sc.LEFT),i=e.getDepth(Sc.RIGHT),o=this.computeDepths(n+1,this._edgeList.size(),r);if(this.computeDepths(0,n,o)!==i)throw new Tc("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],a=arguments[2],u=arguments[0];u<s;u++){var l=t._edgeList.get(u);l.setEdgeDepths(Sc.RIGHT,a),a=l.getDepth(Sc.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=this,n=null,r=null,i=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var s=e._resultAreaEdgeList.get(o),a=s.getSym();switch(null===n&&s.getEdgeRing()===t&&(n=s),i){case e._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;r=a,i=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;r.setNextMin(s),i=e._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(Bl.isTrue(null!==n,"found null for first outgoing dirEdge"),Bl.isTrue(n.getEdgeRing()===t,"unable to link last incoming dirEdge"),r.setNextMin(n))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=fl.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=fl.INTERIOR;break}if(r.isInResult()){t=fl.EXTERIOR;break}}}if(t===fl.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===fl.INTERIOR):(s.isInResult()&&(i=fl.EXTERIOR),a.isInResult()&&(i=fl.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Rc(fl.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==fl.INTERIOR&&o!==fl.BOUNDARY||this._label.setLocation(i,fl.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zf),Xf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new jc(t,new Yf)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zc),Wf=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Wf.prototype.compareTo=function(t){var e=t;return Wf.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Wf.prototype.interfaces_=function(){return[il]},Wf.prototype.getClass=function(){return Wf},Wf.orientation=function(t){return 1===fh.increasingDirection(t)},Wf.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var h=t[u].compareTo(n[l]);if(0!==h)return h;var c=(u+=i)===s,f=(l+=o)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}};var Qf=function(){this._edges=new lh,this._ocaMap=new Ph};Qf.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Qf.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Qf.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Qf.prototype.iterator=function(){return this._edges.iterator()},Qf.prototype.getEdges=function(){return this._edges},Qf.prototype.get=function(t){return this._edges.get(t)},Qf.prototype.findEqualEdge=function(t){var e=new Wf(t.getCoordinates());return this._ocaMap.get(e)},Qf.prototype.add=function(t){this._edges.add(t);var e=new Wf(t.getCoordinates());this._ocaMap.put(e,t)},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf};var Kf=function(){};Kf.prototype.processIntersections=function(t,e,n,r){},Kf.prototype.isDone=function(){},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var Jf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Jf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Jf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Jf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Jf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Jf.prototype.getLineIntersector=function(){return this._li},Jf.prototype.hasProperIntersection=function(){return this._hasProper},Jf.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Jf.prototype.hasIntersection=function(){return this._hasIntersection},Jf.prototype.isDone=function(){return!1},Jf.prototype.hasInteriorIntersection=function(){return this._hasInterior},Jf.prototype.interfaces_=function(){return[Kf]},Jf.prototype.getClass=function(){return Jf},Jf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var $f=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new ul(t),this.segmentIndex=e,this.dist=n};$f.prototype.getSegmentIndex=function(){return this.segmentIndex},$f.prototype.getCoordinate=function(){return this.coord},$f.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},$f.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},$f.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},$f.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},$f.prototype.getDistance=function(){return this.dist},$f.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},$f.prototype.interfaces_=function(){return[il]},$f.prototype.getClass=function(){return $f};var tp=function(){this._nodeMap=new Ph,this.edge=null;var t=arguments[0];this.edge=t};tp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},tp.prototype.iterator=function(){return this._nodeMap.values().iterator()},tp.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},tp.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},tp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new ul(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new op(o,new Rc(this.edge._label))},tp.prototype.add=function(t,e,n){var r=new $f(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},tp.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp};var ep=function(){};ep.prototype.getChainStartIndices=function(t){var e=0,n=new lh;n.add(new ml(e));do{var r=this.findChainEnd(t,e);n.add(new ml(r)),e=r}while(e<t.length-1);return ep.toIntArray(n)},ep.prototype.findChainEnd=function(t,e){for(var n=Uc.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Uc.quadrant(t[r-1],t[r])===n;)r++;return r-1},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep},ep.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var np=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new kl,this.env2=new kl;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new ep;this.startIndex=e.getChainStartIndices(this.pts)};np.prototype.getCoordinates=function(){return this.pts},np.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},np.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},np.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],h=this.pts[i],c=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(h,c),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),g=Math.trunc((a+u)/2);i<d&&(a<g&&this.computeIntersectsForChain(i,d,s,a,g,l),g<u&&this.computeIntersectsForChain(i,d,s,g,u,l)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,l),g<u&&this.computeIntersectsForChain(d,o,s,g,u,l))}},np.prototype.getStartIndexes=function(){return this.startIndex},np.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np};var rp=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},ip={NULL_VALUE:{configurable:!0}};rp.prototype.getDepth=function(t,e){return this._depth[t][e]},rp.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},rp.prototype.isNull=function(){var t=this;if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(t._depth[e][n]!==rp.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===rp.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===rp.NULL_VALUE}},rp.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var n=t._depth[e][1];t._depth[e][2]<n&&(n=t._depth[e][2]),n<0&&(n=0);for(var r=1;r<3;r++){var i=0;t._depth[e][r]>n&&(i=1),t._depth[e][r]=i}}},rp.prototype.getDelta=function(t){return this._depth[t][Sc.RIGHT]-this._depth[t][Sc.LEFT]},rp.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?fl.EXTERIOR:fl.INTERIOR},rp.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},rp.prototype.add=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=e.getLocation(n,r);i!==fl.EXTERIOR&&i!==fl.INTERIOR||(t.isNull(n,r)?t._depth[n][r]=rp.depthAtLocation(i):t._depth[n][r]+=rp.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],s=arguments[1];arguments[2]===fl.INTERIOR&&this._depth[o][s]++}},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},rp.depthAtLocation=function(t){return t===fl.EXTERIOR?0:t===fl.INTERIOR?1:rp.NULL_VALUE},ip.NULL_VALUE.get=function(){return-1},Object.defineProperties(rp,ip);var op=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new tp(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new rp,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Rc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new np(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new kl;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new ul(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new _l;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Sc.ON),e.getLocation(1,Sc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Sc.LEFT),e.getLocation(1,Sc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Sc.RIGHT),e.getLocation(1,Sc.RIGHT),2))},e}(Bc),sp=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Qf,this._bufParams=t||null};sp.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},sp.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Rc(t.getLabel())).flip(),n.merge(r);var i=sp.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(sp.depthDelta(t.getLabel()))},sp.prototype.buildSubgraphs=function(t,e){for(var n=new lh,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Ff(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},sp.prototype.createSubgraphs=function(t){for(var e=new lh,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Oc;i.create(r),e.add(i)}}return nf.sort(e,nf.reverseOrder()),e},sp.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},sp.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Lf,n=new Ul;return n.setPrecisionModel(t),e.setSegmentIntersector(new Jf(n)),e},sp.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new zf(n,this._bufParams),i=new Uf(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Yc(new Xf),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Xc(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},sp.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new op(i.getCoordinates(),new Rc(s));this.insertUniqueEdge(a)}}},sp.prototype.setNoder=function(t){this._workingNoder=t},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},sp.depthDelta=function(t){var e=t.getLocation(0,Sc.LEFT),n=t.getLocation(0,Sc.RIGHT);return e===fl.INTERIOR&&n===fl.EXTERIOR?1:e===fl.EXTERIOR&&n===fl.INTERIOR?-1:0},sp.convertSegStrings=function(t){for(var e=new mc,n=new lh;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ap=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ap.prototype.rescale=function(){var t=this;if(dl(arguments[0],ih))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var r=arguments[0],i=0;i<r.length;i++)r[i].x=r[i].x/t._scaleFactor+t._offsetX,r[i].y=r[i].y/t._scaleFactor+t._offsetY;2===r.length&&r[0].equals2D(r[1])&&Cl.out.println(r)}},ap.prototype.scale=function(){var t=this;if(dl(arguments[0],ih)){for(var e=arguments[0],n=new lh,r=e.iterator();r.hasNext();){var i=r.next();n.add(new _f(t.scale(i.getCoordinates()),i.getData()))}return n}if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),a=0;a<o.length;a++)s[a]=new ul(Math.round((o[a].x-t._offsetX)*t._scaleFactor),Math.round((o[a].y-t._offsetY)*t._scaleFactor),o[a].z);return fh.removeRepeatedPoints(s)}},ap.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ap.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ap.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ap.prototype.interfaces_=function(){return[Ef]},ap.prototype.getClass=function(){return ap};var up=function(){this._li=new Ul,this._segStrings=null;var t=arguments[0];this._segStrings=t},lp={fact:{configurable:!0}};up.prototype.checkEndPtVertexIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next().getCoordinates();t.checkEndPtVertexIntersections(n[0],t._segStrings),t.checkEndPtVertexIntersections(n[n.length-1],t._segStrings)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var o=i.next().getCoordinates(),s=1;s<o.length-1;s++)if(o[s].equals(r))throw new zl("found endpt/interior pt intersection at index "+s+" :pt "+r)},up.prototype.checkInteriorIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),r=this._segStrings.iterator();r.hasNext();){var i=r.next();t.checkInteriorIntersections(n,i)}else if(2===arguments.length)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),u=s.getCoordinates(),l=0;l<a.length-1;l++)for(var h=0;h<u.length-1;h++)t.checkInteriorIntersections(o,l,s,h);else if(4===arguments.length){var c=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3];if(c===p&&f===d)return null;var g=c.getCoordinates()[f],y=c.getCoordinates()[f+1],_=p.getCoordinates()[d],m=p.getCoordinates()[d+1];if(this._li.computeIntersection(g,y,_,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,y)||this.hasInteriorIntersection(this._li,_,m)))throw new zl("found non-noded intersection at "+g+"-"+y+" and "+_+"-"+m)}},up.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},up.prototype.checkCollapses=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();t.checkCollapses(n)}else if(1===arguments.length)for(var r=arguments[0].getCoordinates(),i=0;i<r.length-2;i++)t.checkCollapse(r[i],r[i+1],r[i+2])},up.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},up.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new zl("found non-noded collapse at "+up.fact.createLineString([t,e,n]))},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up},lp.fact.get=function(){return new mc},Object.defineProperties(up,lp);var hp=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new el("Scale factor must be non-zero");1!==e&&(this._pt=new ul(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new ul,this._p1Scaled=new ul),this.initCorners(this._pt)},cp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};hp.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return Bl.isTrue(!(s&&a),"Found bad envelope test"),a},hp.prototype.initCorners=function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new ul(this._maxx,this._maxy),this._corner[1]=new ul(this._minx,this._maxy),this._corner[2]=new ul(this._minx,this._miny),this._corner[3]=new ul(this._maxx,this._miny)},hp.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},hp.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},hp.prototype.getCoordinate=function(){return this._originalPt},hp.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},hp.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=hp.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new kl(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},hp.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},hp.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},hp.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},cp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(hp,cp);var fp=function(){this.tempEnv1=new kl,this.selectedSegment=new mf};fp.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp};var pp=function(){this._index=null;var t=arguments[0];this._index=t},dp={HotPixelSnapAction:{configurable:!0}};pp.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new gp(e,n,r);return this._index.query(i,{interfaces_:function(){return[Jc]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},dp.HotPixelSnapAction.get=function(){return gp},Object.defineProperties(pp,dp);var gp=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fp),yp=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new lh};yp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},yp.prototype.isDone=function(){return!1},yp.prototype.getInteriorIntersections=function(){return this._interiorIntersections},yp.prototype.interfaces_=function(){return[Kf]},yp.prototype.getClass=function(){return yp};var _p=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Ul,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};_p.prototype.checkCorrectness=function(t){var e=_f.getNodedSubstrings(t),n=new up(e);try{n.checkValid()}catch(t){if(!(t instanceof Sl))throw t;t.printStackTrace()}},_p.prototype.getNodedSubstrings=function(){return _f.getNodedSubstrings(this._nodedSegStrings)},_p.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},_p.prototype.findInteriorIntersections=function(t,e){var n=new yp(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},_p.prototype.computeVertexSnaps=function(){var t=this;if(dl(arguments[0],ih))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.computeVertexSnaps(n)}else if(arguments[0]instanceof _f)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length;o++){var s=new hp(i[o],t._scaleFactor,t._li);t._pointSnapper.snap(s,r,o)&&r.addIntersection(i[o],o)}},_p.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Lf,this._pointSnapper=new pp(this._noder.getIndex()),this.snapRound(t,this._li)},_p.prototype.computeIntersectionSnaps=function(t){for(var e=this,n=t.iterator();n.hasNext();){var r=n.next(),i=new hp(r,e._scaleFactor,e._li);e._pointSnapper.snap(i)}},_p.prototype.interfaces_=function(){return[Ef]},_p.prototype.getClass=function(){return _p};var mp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Pf,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},vp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};mp.prototype.bufferFixedPrecision=function(t){var e=new ap(new _p(new dc(1)),t.getScale()),n=new sp(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},mp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=mp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Tc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=mp.precisionScaleFactor(this._argGeom,this._distance,n),i=new dc(r);this.bufferFixedPrecision(i)}},mp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===dc.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},mp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},mp.prototype.bufferOriginalPrecision=function(){try{var t=new sp(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof zl))throw t;this._saveException=t}},mp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},mp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp},mp.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new mp(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Xl&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new mp(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof Pf&&arguments[0]instanceof Xl&&"number"==typeof arguments[1]){var i=arguments[1];return new mp(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=new mp(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(a),u.getResultGeometry(o)}},mp.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=gl.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},vp.CAP_ROUND.get=function(){return Pf.CAP_ROUND},vp.CAP_BUTT.get=function(){return Pf.CAP_FLAT},vp.CAP_FLAT.get=function(){return Pf.CAP_FLAT},vp.CAP_SQUARE.get=function(){return Pf.CAP_SQUARE},vp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(mp,vp);var bp=function(){this._pt=[new ul,new ul],this._distance=nl.NaN,this._isNull=!0};bp.prototype.getCoordinates=function(){return this._pt},bp.prototype.getCoordinate=function(t){return this._pt[t]},bp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},bp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},bp.prototype.getDistance=function(){return this._distance},bp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},bp.prototype.interfaces_=function(){return[]},bp.prototype.getClass=function(){return bp};var xp=function(){};xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp},xp.computeDistance=function(){if(arguments[2]instanceof bp&&arguments[0]instanceof Qh&&arguments[1]instanceof ul)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new mf,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof bp&&arguments[0]instanceof tc&&arguments[1]instanceof ul){var s=arguments[0],a=arguments[1],u=arguments[2];xp.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)xp.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof bp&&arguments[0]instanceof Xl&&arguments[1]instanceof ul){var h=arguments[0],c=arguments[1],f=arguments[2];if(h instanceof Qh)xp.computeDistance(h,c,f);else if(h instanceof tc)xp.computeDistance(h,c,f);else if(h instanceof zh)for(var p=h,d=0;d<p.getNumGeometries();d++){var g=p.getGeometryN(d);xp.computeDistance(g,c,f)}else f.setMinimum(h.getCoordinate(),c)}else if(arguments[2]instanceof bp&&arguments[0]instanceof mf&&arguments[1]instanceof ul){var y=arguments[1],_=arguments[2],m=arguments[0].closestPoint(y);_.setMinimum(m,y)}};var wp=function(t){this._maxPtDist=new bp,this._inputGeom=t||null},Ep={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};wp.prototype.computeMaxMidpointDistance=function(t){var e=new Lp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},wp.prototype.computeMaxVertexDistance=function(t){var e=new Mp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},wp.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},wp.prototype.getDistancePoints=function(){return this._maxPtDist},wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp},Ep.MaxPointDistanceFilter.get=function(){return Mp},Ep.MaxMidpointDistanceFilter.get=function(){return Lp},Object.defineProperties(wp,Ep);var Mp=function(t){this._maxPtDist=new bp,this._minPtDist=new bp,this._geom=t||null};Mp.prototype.filter=function(t){this._minPtDist.initialize(),xp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Mp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Mp.prototype.interfaces_=function(){return[Kl]},Mp.prototype.getClass=function(){return Mp};var Lp=function(t){this._maxPtDist=new bp,this._minPtDist=new bp,this._geom=t||null};Lp.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new ul((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),xp.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Lp.prototype.isDone=function(){return!1},Lp.prototype.isGeometryChanged=function(){return!1},Lp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Lp.prototype.interfaces_=function(){return[Dh]},Lp.prototype.getClass=function(){return Lp};var Sp=function(t){this._comps=t||null};Sp.prototype.filter=function(t){t instanceof tc&&this._comps.add(t)},Sp.prototype.interfaces_=function(){return[Rh]},Sp.prototype.getClass=function(){return Sp},Sp.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Sp.getPolygons(t,new lh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof tc?n.add(e):e instanceof zh&&e.apply(new Sp(n)),n}};var Pp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Pp.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof nc){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Qh&&this._lines.add(t)},Pp.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Pp.prototype.interfaces_=function(){return[Yl]},Pp.prototype.getClass=function(){return Pp},Pp.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Pp.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Pp.getLines(e,n))}},Pp.getLines=function(){if(1===arguments.length){var t=arguments[0];return Pp.getLines(t,!1)}if(2===arguments.length){if(dl(arguments[0],ih)&&dl(arguments[1],ih)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Pp.getLines(r,e)}return e}if(arguments[0]instanceof Xl&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=new lh;return i.apply(new Pp(s,o)),s}if(arguments[0]instanceof Xl&&dl(arguments[1],ih)){var a=arguments[0],u=arguments[1];return a instanceof Qh?u.add(a):a.apply(new Pp(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&dl(arguments[0],ih)&&dl(arguments[1],ih)){for(var l=arguments[1],h=arguments[2],c=arguments[0].iterator();c.hasNext();){var f=c.next();Pp.getLines(f,l,h)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Xl&&dl(arguments[1],ih)){var p=arguments[1],d=arguments[2];return arguments[0].apply(new Pp(p,d)),p}}};var Cp=function(){if(this._boundaryRule=Jl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new el("Rule must be non-null");this._boundaryRule=t}};Cp.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof ul&&arguments[1]instanceof tc){var e=arguments[0],n=arguments[1];if(n.isEmpty())return fl.EXTERIOR;var r=n.getExteriorRing(),i=this.locateInPolygonRing(e,r);if(i===fl.EXTERIOR)return fl.EXTERIOR;if(i===fl.BOUNDARY)return fl.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o),a=t.locateInPolygonRing(e,s);if(a===fl.INTERIOR)return fl.EXTERIOR;if(a===fl.BOUNDARY)return fl.BOUNDARY}return fl.INTERIOR}if(arguments[0]instanceof ul&&arguments[1]instanceof Qh){var u=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(u))return fl.EXTERIOR;var h=l.getCoordinates();return l.isClosed()||!u.equals(h[0])&&!u.equals(h[h.length-1])?Hl.isOnLine(u,h)?fl.INTERIOR:fl.EXTERIOR:fl.BOUNDARY}if(arguments[0]instanceof ul&&arguments[1]instanceof Jh){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?fl.INTERIOR:fl.EXTERIOR}},Cp.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Hl.locatePointInRing(t,e.getCoordinates()):fl.EXTERIOR},Cp.prototype.intersects=function(t,e){return this.locate(t,e)!==fl.EXTERIOR},Cp.prototype.updateLocationInfo=function(t){t===fl.INTERIOR&&(this._isIn=!0),t===fl.BOUNDARY&&this._numBoundaries++},Cp.prototype.computeLocation=function(t,e){var n=this;if(e instanceof Jh&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Qh)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof tc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Fh)for(var r=e,i=0;i<r.getNumGeometries();i++){var o=r.getGeometryN(i);n.updateLocationInfo(n.locateInternal(t,o))}else if(e instanceof rc)for(var s=e,a=0;a<s.getNumGeometries();a++){var u=s.getGeometryN(a);n.updateLocationInfo(n.locateInternal(t,u))}else if(e instanceof zh)for(var l=new Vf(e);l.hasNext();){var h=l.next();h!==e&&n.computeLocation(t,h)}},Cp.prototype.locate=function(t,e){return e.isEmpty()?fl.EXTERIOR:e instanceof Qh||e instanceof tc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?fl.BOUNDARY:this._numBoundaries>0||this._isIn?fl.INTERIOR:fl.EXTERIOR)},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp};var Ip=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},kp={INSIDE_AREA:{configurable:!0}};Ip.prototype.isInsideArea=function(){return this._segIndex===Ip.INSIDE_AREA},Ip.prototype.getCoordinate=function(){return this._pt},Ip.prototype.getGeometryComponent=function(){return this._component},Ip.prototype.getSegmentIndex=function(){return this._segIndex},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},kp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ip,kp);var Tp=function(t){this._pts=t||null};Tp.prototype.filter=function(t){t instanceof Jh&&this._pts.add(t)},Tp.prototype.interfaces_=function(){return[Rh]},Tp.prototype.getClass=function(){return Tp},Tp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jh?nf.singletonList(t):Tp.getPoints(t,new lh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jh?n.add(e):e instanceof zh&&e.apply(new Tp(n)),n}};var Np=function(){this._locations=null;var t=arguments[0];this._locations=t};Np.prototype.filter=function(t){(t instanceof Jh||t instanceof Qh||t instanceof tc)&&this._locations.add(new Ip(t,0,t.getCoordinate()))},Np.prototype.interfaces_=function(){return[Rh]},Np.prototype.getClass=function(){return Np},Np.getLocations=function(t){var e=new lh;return t.apply(new Np(e)),e};var Op=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cp,this._minDistanceLocation=null,this._minDistance=nl.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Op.prototype.computeContainmentDistance=function(){var t=this;if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=1-n,o=Sp.getPolygons(this._geom[n]);if(o.size()>0){var s=Np.getLocations(this._geom[i]);if(this.computeContainmentDistance(s,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&dl(arguments[0],ah)&&dl(arguments[1],ah)){for(var a=arguments[0],u=arguments[1],l=arguments[2],h=0;h<a.size();h++)for(var c=a.get(h),f=0;f<u.size();f++)if(t.computeContainmentDistance(c,u.get(f),l),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ip&&arguments[1]instanceof tc){var p=arguments[0],d=arguments[1],g=arguments[2],y=p.getCoordinate();if(fl.EXTERIOR!==this._ptLocator.locate(y,d))return this._minDistance=0,g[0]=p,g[1]=new Ip(d,y),null}},Op.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}},Op.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Pp.getLines(this._geom[0]),n=Pp.getLines(this._geom[1]),r=Tp.getPoints(this._geom[0]),i=Tp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Op.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Op.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Op.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Op.prototype.computeMinDistance=function(){var t=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Qh&&arguments[1]instanceof Jh){var e=arguments[0],n=arguments[1],r=arguments[2];if(e.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var i=e.getCoordinates(),o=n.getCoordinate(),s=0;s<i.length-1;s++){var a=Hl.distancePointLine(o,i[s],i[s+1]);if(a<t._minDistance){t._minDistance=a;var u=new mf(i[s],i[s+1]).closestPoint(o);r[0]=new Ip(e,s,u),r[1]=new Ip(n,0,o)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qh&&arguments[1]instanceof Qh){var l=arguments[0],h=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var f=l.getCoordinates(),p=h.getCoordinates(),d=0;d<f.length-1;d++)for(var g=0;g<p.length-1;g++){var y=Hl.distanceLineLine(f[d],f[d+1],p[g],p[g+1]);if(y<t._minDistance){t._minDistance=y;var _=new mf(f[d],f[d+1]),m=new mf(p[g],p[g+1]),v=_.closestPoints(m);c[0]=new Ip(l,d,v[0]),c[1]=new Ip(h,g,v[1])}if(t._minDistance<=t._terminateDistance)return null}}},Op.prototype.computeMinDistancePoints=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s),u=o.getCoordinate().distance(a.getCoordinate());if(u<r._minDistance&&(r._minDistance=u,n[0]=new Ip(o,0,o.getCoordinate()),n[1]=new Ip(a,0,a.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},Op.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new el("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Op.prototype.computeMinDistanceLines=function(t,e,n){for(var r=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}},Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Op.distance=function(t,e){return new Op(t,e).distance()},Op.isWithinDistance=function(t,e,n){return new Op(t,e,n).distance()<=n},Op.nearestPoints=function(t,e){return new Op(t,e).nearestPoints()};var Ap=function(){this._pt=[new ul,new ul],this._distance=nl.NaN,this._isNull=!0};Ap.prototype.getCoordinates=function(){return this._pt},Ap.prototype.getCoordinate=function(t){return this._pt[t]},Ap.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Ap.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Ap.prototype.toString=function(){return Dl.toLineString(this._pt[0],this._pt[1])},Ap.prototype.getDistance=function(){return this._distance},Ap.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Ap.prototype.interfaces_=function(){return[]},Ap.prototype.getClass=function(){return Ap};var Rp=function(){};Rp.prototype.interfaces_=function(){return[]},Rp.prototype.getClass=function(){return Rp},Rp.computeDistance=function(){if(arguments[2]instanceof Ap&&arguments[0]instanceof Qh&&arguments[1]instanceof ul)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new mf,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ap&&arguments[0]instanceof tc&&arguments[1]instanceof ul){var a=arguments[0],u=arguments[1],l=arguments[2];Rp.computeDistance(a.getExteriorRing(),u,l);for(var h=0;h<a.getNumInteriorRing();h++)Rp.computeDistance(a.getInteriorRingN(h),u,l)}else if(arguments[2]instanceof Ap&&arguments[0]instanceof Xl&&arguments[1]instanceof ul){var c=arguments[0],f=arguments[1],p=arguments[2];if(c instanceof Qh)Rp.computeDistance(c,f,p);else if(c instanceof tc)Rp.computeDistance(c,f,p);else if(c instanceof zh)for(var d=c,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Rp.computeDistance(y,f,p)}else p.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof Ap&&arguments[0]instanceof mf&&arguments[1]instanceof ul){var _=arguments[1],m=arguments[2],v=arguments[0].closestPoint(_);m.setMinimum(v,_)}};var Dp=function(){this._g0=null,this._g1=null,this._ptDist=new Ap,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},zp={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Dp.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Dp.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new el("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Dp.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Dp.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Dp.prototype.computeOrientedDistance=function(t,e,n){var r=new Fp(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Bp(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Dp.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Dp.distance=function(){if(2===arguments.length)return new Dp(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Dp(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},zp.MaxPointDistanceFilter.get=function(){return Fp},zp.MaxDensifiedByFractionDistanceFilter.get=function(){return Bp},Object.defineProperties(Dp,zp);var Fp=function(){this._maxPtDist=new Ap,this._minPtDist=new Ap,this._euclideanDist=new Rp,this._geom=null;var t=arguments[0];this._geom=t};Fp.prototype.filter=function(t){this._minPtDist.initialize(),Rp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Fp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fp.prototype.interfaces_=function(){return[Kl]},Fp.prototype.getClass=function(){return Fp};var Bp=function(){this._maxPtDist=new Ap,this._minPtDist=new Ap,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Bp.prototype.filter=function(t,e){var n=this;if(0===e)return null;for(var r=t.getCoordinate(e-1),i=t.getCoordinate(e),o=(i.x-r.x)/this._numSubSegs,s=(i.y-r.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var u=r.x+a*o,l=r.y+a*s,h=new ul(u,l);n._minPtDist.initialize(),Rp.computeDistance(n._geom,h,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},Bp.prototype.isDone=function(){return!1},Bp.prototype.isGeometryChanged=function(){return!1},Bp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Bp.prototype.interfaces_=function(){return[Dh]},Bp.prototype.getClass=function(){return Bp};var jp=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Gp={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};jp.prototype.checkMaximumDistance=function(t,e,n){var r=new Dp(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Dl.toLineString(i[0],i[1])+")"}},jp.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=jp.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),jp.VERBOSE&&Cl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},jp.prototype.checkNegativeValid=function(){if(!(this._input instanceof tc||this._input instanceof rc||this._input instanceof zh))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},jp.prototype.getErrorIndicator=function(){return this._errorIndicator},jp.prototype.checkMinimumDistance=function(t,e,n){var r=new Op(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Dl.toLineString(i[0],i[1])+" )"}},jp.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},jp.prototype.getErrorLocation=function(){return this._errorLocation},jp.prototype.getPolygonLines=function(t){for(var e=new lh,n=new Pp(e),r=Sp.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},jp.prototype.getErrorMessage=function(){return this._errMsg},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},Gp.VERBOSE.get=function(){return!1},Gp.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jp,Gp);var Up=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},qp={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Up.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Up.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Up.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new kl(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new kl(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Up.prototype.checkDistance=function(){var t=new jp(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Up.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Up.prototype.checkPolygonal=function(){this._result instanceof tc||this._result instanceof rc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Up.prototype.getErrorIndicator=function(){return this._errorIndicator},Up.prototype.getErrorLocation=function(){return this._errorLocation},Up.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Up.prototype.report=function(t){if(!Up.VERBOSE)return null;Cl.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Up.prototype.getErrorMessage=function(){return this._errorMsg},Up.prototype.interfaces_=function(){return[]},Up.prototype.getClass=function(){return Up},Up.isValidMsg=function(t,e,n){var r=new Up(t,e,n);return r.isValid()?null:r.getErrorMessage()},Up.isValid=function(t,e,n){return!!new Up(t,e,n).isValid()},qp.VERBOSE.get=function(){return!1},qp.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Up,qp);var Vp=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Vp.prototype.getCoordinates=function(){return this._pts},Vp.prototype.size=function(){return this._pts.length},Vp.prototype.getCoordinate=function(t){return this._pts[t]},Vp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Vp.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:df.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Vp.prototype.setData=function(t){this._data=t},Vp.prototype.getData=function(){return this._data},Vp.prototype.toString=function(){return Dl.toLineString(new lc(this._pts))},Vp.prototype.interfaces_=function(){return[gf]},Vp.prototype.getClass=function(){return Vp};var Hp=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new lh,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Hp.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Hp.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Hp.prototype.getIntersectionSegments=function(){return this._intSegments},Hp.prototype.count=function(){return this._intersectionCount},Hp.prototype.getIntersections=function(){return this._intersections},Hp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Hp.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Hp.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Hp.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Hp.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Hp.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Hp.prototype.interfaces_=function(){return[Kf]},Hp.prototype.getClass=function(){return Hp},Hp.createAllIntersectionsFinder=function(t){var e=new Hp(t);return e.setFindAllIntersections(!0),e},Hp.createAnyIntersectionFinder=function(t){return new Hp(t)},Hp.createIntersectionCounter=function(t){var e=new Hp(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Zp=function(){this._li=new Ul,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Zp.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Zp.prototype.getIntersections=function(){return this._segInt.getIntersections()},Zp.prototype.isValid=function(){return this.execute(),this._isValid},Zp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Zp.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Hp(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Lf;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Zp.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Tc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Zp.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Dl.toLineString(t[0],t[1])+" and "+Dl.toLineString(t[2],t[3])},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Zp.computeIntersections=function(t){var e=new Zp(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Yp=function t(){this._nv=null;var e=arguments[0];this._nv=new Zp(t.toSegmentStrings(e))};Yp.prototype.checkValid=function(){this._nv.checkValid()},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp},Yp.toSegmentStrings=function(t){for(var e=new lh,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Vp(r.getCoordinates(),r))}return e},Yp.checkValid=function(t){new Yp(t).checkValid()};var Xp=function(t){this._mapOp=t};Xp.prototype.map=function(t){for(var e=new lh,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(mc.toGeometryArray(e))},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp},Xp.map=function(t,e){return new Xp(e).map(t)};var Wp=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new lh,this._resultLineList=new lh;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Wp.prototype.collectLines=function(t){for(var e=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();e.collectLineEdge(r,t,e._lineEdgesList),e.collectBoundaryTouchEdge(r,t,e._lineEdgesList)}},Wp.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Wp.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Wp.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Id.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Wp.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Wp.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Wp.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Wp.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Bl.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Id.isResultOfOp(r,e)&&e===Id.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp};var Qp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new lh;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Qp.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Qp.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Id.INTERSECTION)){var r=n.getLabel();Id.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Qp.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp};var Kp=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Kp.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Kp.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof nc&&!r.isEmpty()||(n=!1);for(var i=new lh,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof nc||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new lh;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Kp.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Kp.prototype.getInputGeometry=function(){return this._inputGeom},Kp.prototype.transformMultiLineString=function(t,e){for(var n=new lh,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Kp.prototype.transformCoordinates=function(t,e){return this.copy(t)},Kp.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Kp.prototype.transformMultiPoint=function(t,e){for(var n=new lh,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Kp.prototype.transformMultiPolygon=function(t,e){for(var n=new lh,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Kp.prototype.copy=function(t){return t.copy()},Kp.prototype.transformGeometryCollection=function(t,e){for(var n=new lh,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(mc.toGeometryArray(n)):this._factory.buildGeometry(n)},Kp.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jh)return this.transformPoint(t,null);if(t instanceof ec)return this.transformMultiPoint(t,null);if(t instanceof nc)return this.transformLinearRing(t,null);if(t instanceof Qh)return this.transformLineString(t,null);if(t instanceof Fh)return this.transformMultiLineString(t,null);if(t instanceof tc)return this.transformPolygon(t,null);if(t instanceof rc)return this.transformMultiPolygon(t,null);if(t instanceof zh)return this.transformGeometryCollection(t,null);throw new el("Unknown Geometry subtype: "+t.getClass().getName())},Kp.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Kp.prototype.interfaces_=function(){return[]},Kp.prototype.getClass=function(){return Kp};var Jp=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new mf,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Qh&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Jp.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new ul(o)),0===r&&this._isClosed&&t.set(t.size()-1,new ul(o)))}},Jp.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Jp.prototype.snapTo=function(t){var e=new ch(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Jp.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new ul(i),!1)}},Jp.prototype.findSegmentIndexToSnap=function(t,e){for(var n=this,r=nl.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(n._seg.p0=e.get(o),n._seg.p1=e.get(o+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var s=n._seg.distance(t);s<n._snapTolerance&&s<r&&(r=s,i=o)}return i},Jp.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp},Jp.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var $p=function(t){this._srcGeom=t||null},td={SNAP_PRECISION_FACTOR:{configurable:!0}};$p.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new ed(e,n).transform(this._srcGeom)},$p.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new ed(t,n,!0).transform(this._srcGeom),i=r;return e&&dl(i,$h)&&(i=r.buffer(0)),i},$p.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},$p.prototype.extractTargetCoordinates=function(t){for(var e=new kh,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},$p.prototype.computeMinimumSegmentLength=function(t){for(var e=nl.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p},$p.snap=function(t,e,n){var r=new Array(2).fill(null),i=new $p(t);r[0]=i.snapTo(e,n);var o=new $p(e);return r[1]=o.snapTo(r[0],n),r},$p.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=$p.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===dc.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min($p.computeOverlaySnapTolerance(i),$p.computeOverlaySnapTolerance(o))}},$p.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*$p.SNAP_PRECISION_FACTOR},$p.snapToSelf=function(t,e,n){return new $p(t).snapToSelf(e,n)},td.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties($p,td);var ed=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Jp(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kp),nd=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};nd.prototype.getCommon=function(){return nl.longBitsToDouble(this._commonBits)},nd.prototype.add=function(t){var e=nl.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=nd.signExpBits(this._commonBits),this._isFirst=!1,null):nd.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=nd.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=nd.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},nd.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=nl.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+nl.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},nd.prototype.interfaces_=function(){return[]},nd.prototype.getClass=function(){return nd},nd.getBit=function(t,e){return 0!=(t&1<<e)?1:0},nd.signExpBits=function(t){return t>>52},nd.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},nd.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(nd.getBit(t,r)!==nd.getBit(e,r))return n;n++}return 52};var rd=function(){this._commonCoord=null,this._ccFilter=new od},id={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};rd.prototype.addCommonBits=function(t){var e=new sd(this._commonCoord);t.apply(e),t.geometryChanged()},rd.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new ul(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new sd(e);return t.apply(n),t.geometryChanged(),t},rd.prototype.getCommonCoordinate=function(){return this._commonCoord},rd.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},id.CommonCoordinateFilter.get=function(){return od},id.Translater.get=function(){return sd},Object.defineProperties(rd,id);var od=function(){this._commonBitsX=new nd,this._commonBitsY=new nd};od.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},od.prototype.getCommonCoordinate=function(){return new ul(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},od.prototype.interfaces_=function(){return[Kl]},od.prototype.getClass=function(){return od};var sd=function(){this.trans=null;var t=arguments[0];this.trans=t};sd.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},sd.prototype.isDone=function(){return!1},sd.prototype.isGeometryChanged=function(){return!0},sd.prototype.interfaces_=function(){return[Dh]},sd.prototype.getClass=function(){return sd};var ad=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ad.prototype.selfSnap=function(t){return new $p(t).snapTo(t,this._snapTolerance)},ad.prototype.removeCommonBits=function(t){this._cbr=new rd,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ad.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ad.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Id.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ad.prototype.checkValid=function(t){t.isValid()||Cl.out.println("Snapped geometry is invalid")},ad.prototype.computeSnapTolerance=function(){this._snapTolerance=$p.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ad.prototype.snap=function(t){var e=this.removeCommonBits(t);return $p.snap(e[0],e[1],this._snapTolerance)},ad.prototype.interfaces_=function(){return[]},ad.prototype.getClass=function(){return ad},ad.overlayOp=function(t,e,n){return new ad(t,e).getResultGeometry(n)},ad.union=function(t,e){return ad.overlayOp(t,e,Id.UNION)},ad.intersection=function(t,e){return ad.overlayOp(t,e,Id.INTERSECTION)},ad.symDifference=function(t,e){return ad.overlayOp(t,e,Id.SYMDIFFERENCE)},ad.difference=function(t,e){return ad.overlayOp(t,e,Id.DIFFERENCE)};var ud=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};ud.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Id.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof zl))throw t;r=t}if(!n)try{e=ad.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof zl?r:t}return e},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},ud.overlayOp=function(t,e,n){return new ud(t,e).getResultGeometry(n)},ud.union=function(t,e){return ud.overlayOp(t,e,Id.UNION)},ud.intersection=function(t,e){return ud.overlayOp(t,e,Id.INTERSECTION)},ud.symDifference=function(t,e){return ud.overlayOp(t,e,Id.SYMDIFFERENCE)},ud.difference=function(t,e){return ud.overlayOp(t,e,Id.DIFFERENCE)};var ld=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};ld.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ld.prototype.interfaces_=function(){return[]},ld.prototype.getClass=function(){return ld};var hd=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},cd={INSERT:{configurable:!0},DELETE:{configurable:!0}};hd.prototype.isDelete=function(){return this._eventType===hd.DELETE},hd.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},hd.prototype.getObject=function(){return this._obj},hd.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},hd.prototype.getInsertEvent=function(){return this._insertEvent},hd.prototype.isInsert=function(){return this._eventType===hd.INSERT},hd.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},hd.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},hd.prototype.interfaces_=function(){return[il]},hd.prototype.getClass=function(){return hd},cd.INSERT.get=function(){return 1},cd.DELETE.get=function(){return 2},Object.defineProperties(hd,cd);var fd=function(){};fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd};var pd=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};pd.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(pd.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},pd.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},pd.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},pd.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},pd.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},pd.prototype.hasProperIntersection=function(){return this._hasProper},pd.prototype.hasIntersection=function(){return this._hasIntersection},pd.prototype.isDone=function(){return this._isDone},pd.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},pd.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},pd.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},pd.prototype.interfaces_=function(){return[]},pd.prototype.getClass=function(){return pd},pd.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var dd=function(t){function e(){t.call(this),this.events=new lh,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){nf.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var r=t.events.get(n);if(r.isInsert()&&t.processOverlaps(n,r.getDeleteEventIndex(),r,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof pd&&dl(arguments[0],ah)&&dl(arguments[1],ah)){var i=arguments[0],o=arguments[1],s=arguments[2];this.addEdges(i,i),this.addEdges(o,o),this.computeIntersections(s)}else if("boolean"==typeof arguments[2]&&dl(arguments[0],ah)&&arguments[1]instanceof pd){var a=arguments[0],u=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(u)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ld(n,i),s=new hd(e,n.getMinX(i),o);this.events.add(s),this.events.add(new hd(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){var t=this;if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.addEdge(n,n)}else if(2===arguments.length)for(var r=arguments[1],i=arguments[0].iterator();i.hasNext();){var o=i.next();t.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fd),gd=function(){this._min=nl.POSITIVE_INFINITY,this._max=nl.NEGATIVE_INFINITY},yd={NodeComparator:{configurable:!0}};gd.prototype.getMin=function(){return this._min},gd.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},gd.prototype.getMax=function(){return this._max},gd.prototype.toString=function(){return Dl.toLineString(new ul(this._min,0),new ul(this._max,0))},gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},yd.NodeComparator.get=function(){return _d},Object.defineProperties(gd,yd);var _d=function(){};_d.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},_d.prototype.interfaces_=function(){return[sl]},_d.prototype.getClass=function(){return _d};var md=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gd),vd=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gd),bd=function(){this._leaves=new lh,this._root=null,this._level=0};bd.prototype.buildTree=function(){nf.sort(this._leaves,new gd.NodeComparator);for(var t=this._leaves,e=null,n=new lh;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},bd.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new md(t,e,n))},bd.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},bd.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},bd.prototype.printNode=function(t){Cl.out.println(Dl.toLineString(new ul(t._min,this._level),new ul(t._max,this._level)))},bd.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},bd.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new vd(t.get(n),t.get(n+1));e.add(i)}}},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd};var xd=function(){this._items=new lh};xd.prototype.visitItem=function(t){this._items.add(t)},xd.prototype.getItems=function(){return this._items},xd.prototype.interfaces_=function(){return[Jc]},xd.prototype.getClass=function(){return xd};var wd=function(){this._index=null;var t=arguments[0];if(!dl(t,$h))throw new el("Argument must be Polygonal");this._index=new Ld(t)},Ed={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};wd.prototype.locate=function(t){var e=new Vl(t),n=new Md(e);return this._index.query(t.y,t.y,n),e.getLocation()},wd.prototype.interfaces_=function(){return[qf]},wd.prototype.getClass=function(){return wd},Ed.SegmentVisitor.get=function(){return Md},Ed.IntervalIndexedGeometry.get=function(){return Ld},Object.defineProperties(wd,Ed);var Md=function(){this._counter=null;var t=arguments[0];this._counter=t};Md.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Md.prototype.interfaces_=function(){return[Jc]},Md.prototype.getClass=function(){return Md};var Ld=function(){this._index=new bd;var t=arguments[0];this.init(t)};Ld.prototype.init=function(t){for(var e=Pp.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Ld.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new mf(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},Ld.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new xd;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld};var Sd=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new pc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cp,2===arguments.length){var e=arguments[0],n=arguments[1],r=Jl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(t,Sc.ON)===fl.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new pd(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),s=this._parentGeom instanceof nc||this._parentGeom instanceof tc||this._parentGeom instanceof rc,a=n||!s;return o.computeIntersections(this._edges,i,a),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new pd(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jh){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,fl.INTERIOR)}else if(arguments[0]instanceof ul){var e=arguments[0];this.insertPoint(this._argIndex,e,fl.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),fl.EXTERIOR,fl.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,fl.INTERIOR,fl.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],fl.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],fl.BOUNDARY)},e.prototype.addLineString=function(t){var e=fh.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new op(e,new Rc(this._argIndex,fl.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Bl.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===fl.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=fh.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;Hl.isCCW(r)&&(i=n,o=e);var s=new op(r,new Rc(this._argIndex,fl.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],fl.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Rc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new dd},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof rc&&(this._useBoundaryDeterminationRule=!1),e instanceof tc)this.addPolygon(e);else if(e instanceof Qh)this.addLineString(e);else if(e instanceof Jh)this.addPoint(e);else if(e instanceof ec)this.addCollection(e);else if(e instanceof Fh)this.addCollection(e);else if(e instanceof rc)this.addCollection(e);else{if(!(e instanceof zh))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return dl(this._parentGeom,$h)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new wd(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?fl.BOUNDARY:fl.INTERIOR},e}(Yc),Pd=function(){if(this._li=new Ul,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Sd(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=Jl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sd(0,e,r),this._arg[1]=new Sd(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sd(0,i,s),this._arg[1]=new Sd(1,o,s)}};Pd.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Pd.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var Cd=function(){};Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd},Cd.map=function(){if(arguments[0]instanceof Xl&&dl(arguments[1],Cd.MapOp)){for(var t=arguments[0],e=arguments[1],n=new lh,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(dl(arguments[0],ih)&&dl(arguments[1],Cd.MapOp)){for(var o=arguments[0],s=arguments[1],a=new lh,u=o.iterator();u.hasNext();){var l=u.next(),h=s.map(l);null!==h&&a.add(h)}return a}},Cd.MapOp=function(){};var Id=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Cp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Qf,this._resultPolyList=new lh,this._resultLineList=new lh,this._resultPointList=new lh,this._graph=new Yc(new Xf),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Rc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new lh;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==fl.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new lh,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new lh;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Yp.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Xc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Wp(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Qp(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Sc.RIGHT),i.getLocation(1,Sc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Bl.isTrue(!r.isNull(i,Sc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Sc.LEFT,r.getLocation(i,Sc.LEFT)),Bl.isTrue(!r.isNull(i,Sc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Sc.RIGHT,r.getLocation(i,Sc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pd);Id.overlayOp=function(t,e,n){return new Id(t,e).getResultGeometry(n)},Id.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Id.createEmptyResult(Id.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Xp.map(t,{interfaces_:function(){return[Cd.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ud.overlayOp(t,e,Id.INTERSECTION)},Id.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Id.createEmptyResult(Id.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ud.overlayOp(t,e,Id.SYMDIFFERENCE)},Id.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Id.INTERSECTION:o=Math.min(r,i);break;case Id.UNION:o=Math.max(r,i);break;case Id.DIFFERENCE:o=r;break;case Id.SYMDIFFERENCE:o=Math.max(r,i)}return o},Id.createEmptyResult=function(t,e,n,r){var i=null;switch(Id.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Id.difference=function(t,e){return t.isEmpty()?Id.createEmptyResult(Id.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ud.overlayOp(t,e,Id.DIFFERENCE))},Id.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Id.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===fl.BOUNDARY&&(i=fl.INTERIOR),o===fl.BOUNDARY&&(o=fl.INTERIOR),s){case Id.INTERSECTION:return i===fl.INTERIOR&&o===fl.INTERIOR;case Id.UNION:return i===fl.INTERIOR||o===fl.INTERIOR;case Id.DIFFERENCE:return i===fl.INTERIOR&&o!==fl.INTERIOR;case Id.SYMDIFFERENCE:return i===fl.INTERIOR&&o!==fl.INTERIOR||i!==fl.INTERIOR&&o===fl.INTERIOR}return!1}},Id.INTERSECTION=1,Id.UNION=2,Id.DIFFERENCE=3,Id.SYMDIFFERENCE=4;var kd=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cp,this._seg=new mf;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};kd.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=e._linework.getGeometryN(n).getCoordinateSequence(),i=0;i<r.size()-1;i++)if(r.getCoordinate(i,e._seg.p0),r.getCoordinate(i+1,e._seg.p1),e._seg.distance(t)<=e._boundaryDistanceTolerance)return!0;return!1},kd.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?fl.BOUNDARY:this._ptLocator.locate(t,this._g)},kd.prototype.extractLinework=function(t){var e=new Td;t.apply(e);var n=e.getLinework(),r=mc.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},kd.prototype.interfaces_=function(){return[]},kd.prototype.getClass=function(){return kd};var Td=function(){this._linework=null,this._linework=new lh};Td.prototype.getLinework=function(){return this._linework},Td.prototype.filter=function(t){if(t instanceof tc){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Td.prototype.interfaces_=function(){return[Rh]},Td.prototype.getClass=function(){return Td};var Nd=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Nd.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Nd.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Nd.prototype.getPoints=function(t){for(var e=new lh,n=Pp.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Nd.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,h=(e.y+t.y)/2;if(this._doLeft){var c=new ul(l-u,h+a);r.add(c)}if(this._doRight){var f=new ul(l+u,h-a);r.add(f)}},Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd};var Od=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new lh;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new kd(this._geom[0],this._boundaryDistanceTolerance),new kd(this._geom[1],this._boundaryDistanceTolerance),new kd(this._geom[2],this._boundaryDistanceTolerance)]},Ad={TOLERANCE:{configurable:!0}};Od.prototype.reportResult=function(t,e,n){Cl.out.println("Overlay result invalid - A:"+fl.toLocationSymbol(e[0])+" B:"+fl.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+fl.toLocationSymbol(e[2]))},Od.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Od.prototype.checkValid=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0;n<this._testCoords.size();n++){var r=t._testCoords.get(n);if(!t.checkValid(e,r))return t._invalidLocation=r,!1}return!0}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Od.hasLocation(this._location,fl.BOUNDARY)||this.isValidResult(i,this._location)}},Od.prototype.addTestPts=function(t){var e=new Nd(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Od.prototype.isValidResult=function(t,e){var n=Id.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===fl.INTERIOR);return r||this.reportResult(t,e,n),r},Od.prototype.getInvalidLocation=function(){return this._invalidLocation},Od.prototype.interfaces_=function(){return[]},Od.prototype.getClass=function(){return Od},Od.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Od.computeBoundaryDistanceTolerance=function(t,e){return Math.min($p.computeSizeBasedSnapTolerance(t),$p.computeSizeBasedSnapTolerance(e))},Od.isValid=function(t,e,n,r){return new Od(t,e,r).isValid(n)},Ad.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Od,Ad);var Rd=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Rd.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Rd.prototype.combine=function(){for(var t=new lh,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Rd.prototype.interfaces_=function(){return[]},Rd.prototype.getClass=function(){return Rd},Rd.combine=function(){if(1===arguments.length)return new Rd(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Rd(Rd.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Rd(Rd.createList(n,r,i)).combine()}},Rd.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Rd.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new lh;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new lh;return s.add(r),s.add(i),s.add(o),s}};var Dd=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new lh)},zd={STRTREE_NODE_CAPACITY:{configurable:!0}};Dd.prototype.reduceToGeometries=function(t){for(var e=new lh,n=t.iterator();n.hasNext();){var r=n.next(),i=null;dl(r,ah)?i=this.unionTree(r):r instanceof Xl&&(i=r),e.add(i)}return e},Dd.prototype.extractByEnvelope=function(t,e,n){for(var r=new lh,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Dd.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Rd.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Dd.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new lf(Dd.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Dd.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Dd.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Dd.getGeometry(e,n),Dd.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Dd.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Dd.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Dd.prototype.unionActual=function(t,e){return Dd.restrictToPolygons(t.union(e))},Dd.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Dd.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new lh,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),Rd.combine(r)},Dd.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Dd.prototype.interfaces_=function(){return[]},Dd.prototype.getClass=function(){return Dd},Dd.restrictToPolygons=function(t){if(dl(t,$h))return t;var e=Sp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(mc.toPolygonArray(e))},Dd.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Dd.union=function(t){return new Dd(t).union()},zd.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Dd,zd);var Fd=function(){};function Bd(){return new jd}function jd(){this.reset()}Fd.prototype.interfaces_=function(){return[]},Fd.prototype.getClass=function(){return Fd},Fd.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Id.createEmptyResult(Id.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ud.overlayOp(t,e,Id.UNION)},jd.prototype={constructor:jd,reset:function(){this.s=this.t=0},add:function(t){Ud(Gd,t,this.t),Ud(this,Gd.s,this.s),this.s?this.t+=Gd.t:this.s=Gd.t},valueOf:function(){return this.s}};var Gd=new jd;function Ud(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var qd=1e-6,Vd=Math.PI,Hd=Vd/2,Zd=Vd/4,Yd=2*Vd,Xd=180/Vd,Wd=Vd/180,Qd=Math.abs,Kd=Math.atan,Jd=Math.atan2,$d=Math.cos,tg=Math.sin,eg=Math.sqrt;function ng(t){return t>1?0:t<-1?Vd:Math.acos(t)}function rg(t){return t>1?Hd:t<-1?-Hd:Math.asin(t)}function ig(){}function og(t,e){t&&lg.hasOwnProperty(t.type)&&lg[t.type](t,e)}var sg,ag,ug={Feature:function(t,e){og(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)og(n[r].geometry,e)}},lg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){hg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hg(n[r],e,0)},Polygon:function(t,e){cg(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)cg(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)og(n[r],e)}};function hg(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function cg(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)hg(t[n],e,1);e.polygonEnd()}function fg(t){return[Jd(t[1],t[0]),rg(t[2])]}function pg(t){var e=t[0],n=t[1],r=$d(n);return[r*$d(e),r*tg(e),tg(n)]}function dg(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function gg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yg(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _g(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function mg(t){var e=eg(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function vg(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function bg(t,e){return[t>Vd?t-Yd:t<-Vd?t+Yd:t,e]}function xg(t){return function(e,n){return[(e+=t)>Vd?e-Yd:e<-Vd?e+Yd:e,n]}}function wg(t){var e=xg(t);return e.invert=xg(-t),e}function Eg(t,e){var n=$d(t),r=tg(t),i=$d(e),o=tg(e);function s(t,e){var s=$d(e),a=$d(t)*s,u=tg(t)*s,l=tg(e),h=l*n+a*r;return[Jd(u*i-h*o,a*n-l*r),rg(h*i+u*o)]}return s.invert=function(t,e){var s=$d(e),a=$d(t)*s,u=tg(t)*s,l=tg(e),h=l*i-u*o;return[Jd(u*i+l*o,a*n+h*r),rg(h*n-a*r)]},s}function Mg(t,e){(e=pg(e))[0]-=t,mg(e);var n=ng(-e[1]);return((-e[2]<0?-n:n)+Yd-qd)%Yd}function Lg(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ig,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Sg(t,e){return Qd(t[0]-e[0])<qd&&Qd(t[1]-e[1])<qd}function Pg(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Cg(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(Sg(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new Pg(r,t,null,!0)),u.push(n.o=new Pg(r,null,n,!1)),a.push(n=new Pg(s,t,null,!1)),u.push(n.o=new Pg(s,null,n,!0))}})),a.length){for(u.sort(e),Ig(a),Ig(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,h,c=a[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)i.point((h=l[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((h=l[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function Ig(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function kg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Tg(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}Bd(),Bd(),Bd(),bg.invert=bg,1===(sg=kg).length&&(ag=sg,sg=function(t,e){return kg(ag(t),e)});var Ng=1e9,Og=-Ng;function Ag(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var h=0,c=0;if(null==i||(h=s(i,a))!==(c=s(o,a))||u(i,o)<0^a>0)do{l.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+a+4)%4)!==c);else l.point(o[0],o[1])}function s(r,i){return Qd(r[0]-t)<qd?i>0?0:3:Qd(r[0]-n)<qd?i>0?2:1:Qd(r[1]-e)<qd?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var u,l,h,c,f,p,d,g,y,_,m,v=s,b=Lg(),x={point:w,lineStart:function(){x.point=E,l&&l.push(h=[]),_=!0,y=!1,d=g=NaN},lineEnd:function(){u&&(E(c,f),p&&y&&b.rejoin(),u.push(b.result())),x.point=w,y&&v.lineEnd()},polygonStart:function(){v=b,u=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,s,a=l[n],u=1,h=a.length,c=a[0],f=c[0],p=c[1];u<h;++u)o=f,s=p,f=(c=a[u])[0],p=c[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),n=m&&e,i=(u=Tg(u)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&Cg(u,a,e,o,s),s.polygonEnd()),v=s,u=l=h=null}};function w(t,e){i(t,e)&&v.point(t,e)}function E(o,s){var a=i(o,s);if(l&&h.push([o,s]),_)c=o,f=s,p=a,_=!1,a&&(v.lineStart(),v.point(o,s));else if(a&&y)v.point(o,s);else{var u=[d=Math.max(Og,Math.min(Ng,d)),g=Math.max(Og,Math.min(Ng,g))],b=[o=Math.max(Og,Math.min(Ng,o)),s=Math.max(Og,Math.min(Ng,s))];!function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,h=1,c=e[0]-a,f=e[1]-u;if(s=n-a,c||!(s>0)){if(s/=c,c<0){if(s<l)return;s<h&&(h=s)}else if(c>0){if(s>h)return;s>l&&(l=s)}if(s=i-a,c||!(s<0)){if(s/=c,c<0){if(s>h)return;s>l&&(l=s)}else if(c>0){if(s<l)return;s<h&&(h=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>h)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<h&&(h=s)}return l>0&&(t[0]=a+l*c,t[1]=u+l*f),h<1&&(e[0]=a+h*c,e[1]=u+h*f),!0}}}}}(u,b,t,e,n,r)?a&&(v.lineStart(),v.point(o,s),m=!1):(y||(v.lineStart(),v.point(u[0],u[1])),v.point(b[0],b[1]),a||v.lineEnd(),m=!1)}d=o,g=s,y=a}return x}}var Rg=Bd();function Dg(t){return t}Bd(),Bd(),Bd();var zg=1/0,Fg=zg,Bg=-zg,jg=Bg,Gg={point:function(t,e){t<zg&&(zg=t),t>Bg&&(Bg=t),e<Fg&&(Fg=e),e>jg&&(jg=e)},lineStart:ig,lineEnd:ig,polygonStart:ig,polygonEnd:ig,result:function(){var t=[[zg,Fg],[Bg,jg]];return Bg=jg=-(Fg=zg=1/0),t}};function Ug(t,e,n,r){return function(i,o){var s,a,u,l=e(o),h=i.invert(r[0],r[1]),c=Lg(),f=e(c),p=!1,d={point:g,lineStart:_,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=b,d.lineEnd=x,a=[],s=[]},polygonEnd:function(){d.point=g,d.lineStart=_,d.lineEnd=m,a=Tg(a);var t=function(t,e){var n=e[0],r=e[1],i=[tg(n),-$d(n),0],o=0,s=0;Rg.reset();for(var a=0,u=t.length;a<u;++a)if(h=(l=t[a]).length)for(var l,h,c=l[h-1],f=c[0],p=c[1]/2+Zd,d=tg(p),g=$d(p),y=0;y<h;++y,f=m,d=b,g=x,c=_){var _=l[y],m=_[0],v=_[1]/2+Zd,b=tg(v),x=$d(v),w=m-f,E=w>=0?1:-1,M=E*w,L=M>Vd,S=d*b;if(Rg.add(Jd(S*E*tg(M),g*x+S*$d(M))),o+=L?w+E*Yd:w,L^f>=n^m>=n){var P=gg(pg(c),pg(_));mg(P);var C=gg(i,P);mg(C);var I=(L^w>=0?-1:1)*rg(C[2]);(r>I||r===I&&(P[0]||P[1]))&&(s+=L^w>=0?1:-1)}}return(o<-1e-6||o<qd&&Rg<-1e-6)^1&s}(s,h);a.length?(p||(o.polygonStart(),p=!0),Cg(a,Vg,t,n,o)):t&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function y(t,e){var n=i(t,e);l.point(n[0],n[1])}function _(){d.point=y,l.lineStart()}function m(){d.point=g,l.lineEnd()}function v(t,e){u.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function b(){f.lineStart(),u=[]}function x(){v(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,i=f.clean(),l=c.result(),h=l.length;if(u.pop(),s.push(u),u=null,h)if(1&i){if((e=(n=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else h>1&&2&i&&l.push(l.pop().concat(l.shift())),a.push(l.filter(qg))}return d}}function qg(t){return t.length>1}function Vg(t,e){return((t=t.x)[0]<0?t[1]-Hd-qd:Hd-t[1])-((e=e.x)[0]<0?e[1]-Hd-qd:Hd-e[1])}Bd();var Hg=Ug((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Vd:-Vd,u=Qd(o-n);Qd(u-Vd)<qd?(t.point(n,r=(r+s)/2>0?Hd:-Hd),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Vd&&(Qd(n-i)<qd&&(n-=i*qd),Qd(o-a)<qd&&(o-=a*qd),r=function(t,e,n,r){var i,o,s=tg(t-n);return Qd(s)>qd?Kd((tg(e)*(o=$d(r))*tg(n)-tg(r)*(i=$d(e))*tg(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Hd,r.point(-Vd,i),r.point(0,i),r.point(Vd,i),r.point(Vd,0),r.point(Vd,-i),r.point(0,-i),r.point(-Vd,-i),r.point(-Vd,0),r.point(-Vd,i);else if(Qd(t[0]-e[0])>qd){var o=t[0]<e[0]?Vd:-Vd;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Vd,-Hd]);function Zg(t,e){var n=$d(t),r=n>0,i=Qd(n)>qd;function o(t,e){return $d(t)*$d(e)>n}function s(t,e,r){var i=[1,0,0],o=gg(pg(t),pg(e)),s=dg(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var l=n*s/u,h=-n*a/u,c=gg(i,o),f=_g(i,l);yg(f,_g(o,h));var p=c,d=dg(f,p),g=dg(p,p),y=d*d-g*(dg(f,f)-1);if(!(y<0)){var _=eg(y),m=_g(p,(-d-_)/g);if(yg(m,f),m=fg(m),!r)return m;var v,b=t[0],x=e[0],w=t[1],E=e[1];x<b&&(v=b,b=x,x=v);var M=x-b,L=Qd(M-Vd)<qd;if(!L&&E<w&&(v=w,w=E,E=v),L||M<qd?L?w+E>0^m[1]<(Qd(m[0]-b)<qd?w:E):w<=m[1]&&m[1]<=E:M>Vd^(b<=m[0]&&m[0]<=x)){var S=_g(p,(-d+_)/g);return yg(S,f),[m,fg(S)]}}}function a(e,n){var i=r?t:Vd-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Ug(o,(function(t){var e,n,u,l,h;return{lineStart:function(){l=u=!1,h=1},point:function(c,f){var p,d=[c,f],g=o(c,f),y=r?g?0:a(c,f):g?a(c+(c<0?Vd:-Vd),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(p=s(e,d))||Sg(e,p)||Sg(d,p))&&(d[0]+=qd,d[1]+=qd,g=o(d[0],d[1])),g!==u)h=0,g?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&r^g){var _;y&n||!(_=s(d,e,!0))||(h=0,r?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!g||e&&Sg(e,d)||t.point(d[0],d[1]),e=d,u=g,n=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return h|(l&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=$d(e),a=tg(e),u=r*n;null==i?(i=e+r*Yd,o=e-u/2):(i=Mg(s,i),o=Mg(s,o),(r>0?i<o:i>o)&&(i+=r*Yd));for(var l,h=i;r>0?h>o:h<o;h-=u)l=fg([s,-a*$d(h),-a*tg(h)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-Vd,t-Vd])}function Yg(t){return function(e){var n=new Xg;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Xg(){}function Wg(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function(t,e){t&&ug.hasOwnProperty(t.type)?ug[t.type](t,e):og(t,e)}(n,t.stream(Gg));var s=Gg.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}Xg.prototype={constructor:Xg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Qg=$d(30*Wd);function Kg(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,h,c,f,p,d,g,y){var _=l-r,m=h-i,v=_*_+m*m;if(v>4*e&&g--){var b=s+f,x=a+p,w=u+d,E=eg(b*b+x*x+w*w),M=rg(w/=E),L=Qd(Qd(w)-1)<qd||Qd(o-c)<qd?(o+c)/2:Jd(x,b),S=t(L,M),P=S[0],C=S[1],I=P-r,k=C-i,T=m*I-_*k;(T*T/v>e||Qd((_*I+m*k)/v-.5)>.3||s*f+a*p+u*d<Qg)&&(n(r,i,o,s,a,u,P,C,L,b/=E,x/=E,w,g,y),y.point(P,C),n(P,C,L,b,x,w,l,h,c,f,p,d,g,y))}}return function(e){var r,i,o,s,a,u,l,h,c,f,p,d,g={point:y,lineStart:_,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=_}};function y(n,r){n=t(n,r),e.point(n[0],n[1])}function _(){h=NaN,g.point=m,e.lineStart()}function m(r,i){var o=pg([r,i]),s=t(r,i);n(h,c,l,f,p,d,h=s[0],c=s[1],l=r,f=o[0],p=o[1],d=o[2],16,e),e.point(h,c)}function v(){g.point=y,e.lineEnd()}function b(){_(),g.point=x,g.lineEnd=w}function x(t,e){m(r=t,e),i=h,o=c,s=f,a=p,u=d,g.point=m}function w(){n(h,c,l,f,p,d,i,o,r,s,a,u,16,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return Yg({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Jg=Yg({point:function(t,e){this.stream.point(t*Wd,e*Wd)}});function $g(t){return function(t){var e,n,r,i,o,s,a,u,l,h,c=150,f=480,p=250,d=0,g=0,y=0,_=0,m=0,v=null,b=Hg,x=null,w=Dg,E=.5,M=Kg(P,E);function L(t){return[(t=o(t[0]*Wd,t[1]*Wd))[0]*c+n,r-t[1]*c]}function S(t){return(t=o.invert((t[0]-n)/c,(r-t[1])/c))&&[t[0]*Xd,t[1]*Xd]}function P(t,i){return[(t=e(t,i))[0]*c+n,r-t[1]*c]}function C(){o=vg(i=function(t,e,n){return(t%=Yd)?e||n?vg(wg(t),Eg(e,n)):wg(t):e||n?Eg(e,n):bg}(y,_,m),e);var t=e(d,g);return n=f-t[0]*c,r=p+t[1]*c,I()}function I(){return l=h=null,L}return L.stream=function(t){return l&&h===t?l:l=Jg(b(i,M(w(h=t))))},L.clipAngle=function(t){return arguments.length?(b=+t?Zg(v=t*Wd,6*Wd):(v=null,Hg),I()):v*Xd},L.clipExtent=function(t){return arguments.length?(w=null==t?(x=s=a=u=null,Dg):Ag(x=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),I()):null==x?null:[[x,s],[a,u]]},L.scale=function(t){return arguments.length?(c=+t,C()):c},L.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],C()):[f,p]},L.center=function(t){return arguments.length?(d=t[0]%360*Wd,g=t[1]%360*Wd,C()):[d*Xd,g*Xd]},L.rotate=function(t){return arguments.length?(y=t[0]%360*Wd,_=t[1]%360*Wd,m=t.length>2?t[2]%360*Wd:0,C()):[y*Xd,_*Xd,m*Xd]},L.precision=function(t){return arguments.length?(M=Kg(P,E=t*t),I()):eg(E)},L.fitExtent=function(t,e){return Wg(L,t,e)},L.fitSize=function(t,e){return function(t,e,n){return Wg(t,[[0,0],e],n)}(L,t,e)},function(){return e=t.apply(this,arguments),L.invert=e.invert&&S,C()}}((function(){return t}))()}var ty=function(t){return function(e,n){var r=$d(e),i=$d(n),o=t(r*i);return[o*i*tg(e),o*tg(n)]}}((function(t){return(t=ng(t))&&t/tg(t)}));function ey(){return $g(ty).scale(79.4188).clipAngle(179.999)}function ny(t,e,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var u=[];return W(t,(function(t){var n=ny(t,e,r,i);n&&u.push(n)})),d(u)}var l=function(t){var e=bn(t).geometry.coordinates,r=[-e[0],-e[1]];return ey().rotate(r).scale(n)}(a),h={type:a.type,coordinates:iy(a.coordinates,l)},c=(new Mc).read(h),f=b(x(e,r),"meters"),p=mp.bufferOp(c,f,i);if(!ry((p=(new Lc).write(p)).coordinates))return s({type:p.type,coordinates:oy(p.coordinates,l)},o)}function ry(t){return Array.isArray(t[0])?ry(t[0]):isNaN(t[0])}function iy(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return iy(t,e)}))}function oy(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return oy(t,e)}))}function sy(t,e,n){void 0===n&&(n={});var r=B(t),i=B(e),o=Ku(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?h(o[0],n.properties):_(o,n.properties)}function ay(t,e,n){void 0===n&&(n={});var r=B(t),i=B(e),o=Ju(r.coordinates,i.coordinates);return 0===o.length?null:1===o.length?h(o[0],n.properties):_(o,n.properties)}function uy(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,o){var s=n(e,t);s>=0&&(void 0===i||s<i)&&(i=s,r=o)})),r}(t,e,(function(t,e){return t-e}))}function ly(t,e){return Tr(f(X(t)),f(X(e))).features.length>0}function hy(t,e,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),i=t[0],o=t[1],s=t[2],a=t[3],u=(o+a)/2,l=(i+s)/2,h=2*e/be([i,u],[s,u],n)*(s-i),c=2*e/be([l,o],[l,a],n)*(a-o),f=h/2,p=2*f,g=Math.sqrt(3)/2*c,y=s-i,_=a-o,m=3/4*p,v=g,b=(y-p)/(p-f/2),x=Math.floor(b),w=(x*m-f/2-y)/2-f/2+m/2,E=Math.floor((_-g)/g),M=(_-E*g)/2,L=E*g-_>g/2;L&&(M-=g/4);for(var S=[],P=[],C=0;C<6;C++){var I=2*Math.PI/6*C;S.push(Math.cos(I)),P.push(Math.sin(I))}for(var k=[],T=0;T<=x;T++)for(var N=0;N<=E;N++){var O=T%2==1;if((0!==N||!O)&&(0!==N||!L)){var A=T*m+i-w,R=N*v+o+M;if(O&&(R-=g/2),!0===n.triangles)fy([A,R],h/2,c/2,JSON.parse(r),S,P).forEach((function(t){n.mask?ay(n.mask,t)&&k.push(t):k.push(t)}));else{var D=cy([A,R],h/2,c/2,JSON.parse(r),S,P);n.mask?ay(n.mask,D)&&k.push(D):k.push(D)}}}return d(k)}function cy(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=t[0]+e*i[a],l=t[1]+n*o[a];s.push([u,l])}return s.push(s[0].slice()),h([s],r)}function fy(t,e,n,r,i,o){for(var s=[],a=0;a<6;a++){var u=[];u.push(t),u.push([t[0]+e*i[a],t[1]+n*o[a]]),u.push([t[0]+e*i[(a+1)%6],t[1]+n*o[(a+1)%6]]),u.push(t),s.push(h([u],r))}return s}function py(t){if(t.features.length<=1)return t;var e=function(t){var e=St(),n=[];return K(t,(function(t,e){var r=st(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return K(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},dy),r[i]=!0;;){var o=st(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0)for(var a=s.map((function(t){return r[t.index]=!0,e.remove({index:t.index},dy),t.geojson})),u=0,l=a.length;u<l;u++)t=sy(t,a[u]);if(0===s.length)break}n.push(t)})),d(n)}function dy(t,e){return t.index===e.index}function gy(t,e,n){return void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});for(var i=[],o=t[0],s=t[1],a=t[2],u=t[3],l=e/be([o,s],[a,s],r)*(a-o),c=n/be([o,s],[o,u],r)*(u-s),f=a-o,p=u-s,g=Math.floor(f/l),y=Math.floor(p/c),_=(p-y*c)/2,m=o+(f-g*l)/2,v=0;v<g;v++){for(var b=s+_,x=0;x<y;x++){var w=h([[[m,b],[m,b+c],[m+l,b+c],[m+l,b],[m,b]]],r.properties);r.mask?Ps(r.mask,w)&&i.push(w):i.push(w),b+=c}m+=l}return d(i)}(t,e,e,n)}function yy(t,e,n){void 0===n&&(n={});for(var r=[],i=e/be([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),o=e/be([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),s=0,a=t[0];a<=t[2];){for(var u=0,l=t[1];l<=t[3];){var c=null,f=null;s%2==0&&u%2==0?(c=h([[[a,l],[a,l+o],[a+i,l],[a,l]]],n.properties),f=h([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],n.properties)):s%2==0&&u%2==1?(c=h([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],n.properties),f=h([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],n.properties)):u%2==0&&s%2==1?(c=h([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],n.properties),f=h([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],n.properties)):u%2==1&&s%2==1&&(c=h([[[a,l],[a,l+o],[a+i,l],[a,l]]],n.properties),f=h([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],n.properties)),n.mask?(ay(n.mask,c)&&r.push(c),ay(n.mask,f)&&r.push(f)):(r.push(c),r.push(f)),l+=o,u++}s++,a+=i}return d(r)}ty.invert=function(t){return function(e,n){var r=eg(e*e+n*n),i=t(r),o=tg(i),s=$d(i);return[Jd(e*o,r*s),rg(r&&n*o/r)]}}((function(t){return t})),e.along=function(t,e,n){void 0===n&&(n={});for(var r=B(t).coordinates,i=0,o=0;o<r.length&&!(e>=i&&o===r.length-1);o++){if(i>=e){var s=e-i;if(s){var a=vn(r[o],r[o-1])-180;return _n(r[o],s,a,n)}return u(r[o])}i+=be(r[o],r[o+1],n)}return u(r[r.length-1])},e.angle=function(t,e,n,r){if(void 0===r&&(r={}),!I(r))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var i=t,o=e,s=n,a=E(!0!==r.mercator?vn(i,o):Fi(i,o)),u=E(!0!==r.mercator?vn(s,o):Fi(s,o)),l=Math.abs(a-u);return!0===r.explementary?360-l:l},e.applyFilter=su,e.area=Ur,e.areaFactors=o,e.bbox=st,e.bboxClip=function(t,e){var n=B(t),r=n.type,i="Feature"===t.type?t.properties:{},o=n.coordinates;switch(r){case"LineString":case"MultiLineString":var s=[];return"LineString"===r&&(o=[o]),o.forEach((function(t){!function(t,e,n){var r,i,o,s,a,u=t.length,l=ki(t[0],e),h=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],s=a=ki(o=t[r],e);;){if(!(l|s)){h.push(i),s!==a?(h.push(o),r<u-1&&(n.push(h),h=[])):r===u-1&&h.push(o);break}if(l&s)break;l?l=ki(i=Ii(i,o,l,e),e):s=ki(o=Ii(i,o,s,e),e)}l=a}h.length&&n.push(h)}(t,e,s)})),1===s.length?f(s[0],i):g(s,i);case"Polygon":return h(Ti(o,e),i);case"MultiPolygon":return _(o.map((function(t){return Ti(t,e)})),i);default:throw new Error("geometry "+r+" not supported")}},e.bboxPolygon=dn,e.bearing=vn,e.bearingToAngle=E,e.bearingToAzimuth=E,e.bezier=pn,e.bezierSpline=pn,e.booleanClockwise=Vi,e.booleanContains=function(t,e){var n=B(t),r=B(e),i=n.type,o=r.type,s=n.coordinates,a=r.coordinates;switch(i){case"Point":switch(o){case"Point":return gs(s,a);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(gs(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case"MultiPoint":return function(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){for(var i=r[n],o=!1,s=0,a=t.coordinates;s<a.length;s++)if(gs(i,a[s])){o=!0;break}if(!o)return!1}return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return Xr(r,n,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(Xr({type:"Point",coordinates:o},t,{ignoreEndVertices:!0})&&(n=!0),!Xr({type:"Point",coordinates:o},t,{ignoreEndVertices:!1}))return!1}return n}(n,r);case"MultiPoint":return function(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(Xr(o,t,{ignoreEndVertices:!0})&&(n=!0),!Xr(o,t))return!1}return!!n}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return _e(r,n,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!ds(st(t),st(e)))return!1;for(;r<e.coordinates.length-1;r++)if(_e({type:"Point",coordinates:ys(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(n,r);case"Polygon":return function(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!ds(st(t),st(e)))return!1;for(var n=0,r=B(e).coordinates;n<r.length;n++)for(var i=0,o=r[n];i<o.length;i++)if(!_e(o[i],t))return!1;return!0}(n,r);case"MultiPoint":return function(t,e){for(var n=0,r=e.coordinates;n<r.length;n++)if(!_e(r[n],t,{ignoreBoundary:!0}))return!1;return!0}(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},e.booleanCrosses=function(t,e){var n=B(t),r=B(e),i=n.type,o=r.type;switch(i){case"MultiPoint":switch(o){case"LineString":return _s(n,r);case"Polygon":return vs(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return _s(r,n);case"LineString":return function(t,e){if(Tr(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),bs(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return ms(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return vs(r,n);case"LineString":return ms(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},e.booleanDisjoint=hs,e.booleanEqual=function(t,e){return B(t).type===B(e).type&&new Ls({precision:6}).compare(tn(t),tn(e))},e.booleanIntersects=Ps,e.booleanOverlap=Ss,e.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Us(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Us(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Qn(tn(t)).features,r=Qn(tn(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!Gs(o,r[i].geometry.coordinates))return!1}return!0},e.booleanPointInPolygon=_e,e.booleanPointOnLine=Xr,e.booleanWithin=Qr,e.buffer=function(t,e,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return W(t,(function(t){var n=ny(t,e,r,i);n&&o.push(n)})),d(o);case"FeatureCollection":return Z(t,(function(t){var n=ny(t,e,r,i);n&&Z(n,(function(t){t&&o.push(t)}))})),d(o)}return ny(t,e,r,i)},e.center=bn,e.centerMean=Ra,e.centerMedian=function(t,e){if(void 0===e&&(e={}),!I(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!C(n))throw new Error("counter must be a number");var r=e.weight,i=Ra(t,{weight:e.weight}),o=d([]);return Z(t,(function(t){o.features.push(xn(t,{properties:{weight:t.properties[r]}}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},Da(i.geometry.coordinates,[0,0],o,n)},e.centerOfMass=function t(e,n){switch(void 0===n&&(n={}),j(e)){case"Point":return u(O(e),n.properties);case"Polygon":var r=[];U(e,(function(t){r.push(t)}));var i,o,s,a,l,h,c,f,p=xn(e,{properties:n.properties}),d=p.geometry.coordinates,g=0,y=0,_=0,m=r.map((function(t){return[t[0]-d[0],t[1]-d[1]]}));for(i=0;i<r.length-1;i++)a=(o=m[i])[0],h=o[1],l=(s=m[i+1])[0],_+=f=a*(c=s[1])-l*h,g+=(a+l)*f,y+=(h+c)*f;if(0===_)return p;var v=1/(.5*_*6);return u([d[0]+v*g,d[1]+v*y],n.properties);default:var b=ye(e);return b?t(b,{properties:n.properties}):xn(e,{properties:n.properties})}},e.centroid=xn,e.circle=mn,e.cleanCoords=tn,e.clone=Le,e.clusterEach=ru,e.clusterReduce=iu,e.clusters=lu,e.clustersDbscan=function(t,e,n){void 0===n&&(n={}),!0!==n.mutate&&(t=Le(t)),n.minPoints=n.minPoints||3;var r=new Ns.DBSCAN,i=r.run(X(t),S(e,n.units),n.minPoints,be),o=-1;return i.forEach((function(e){o++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"}))})),r.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},e.clustersKmeans=function(t,e){void 0===e&&(e={});var n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=Le(t));var r=X(t),i=r.slice(0,e.numberOfClusters),o=js(r,e.numberOfClusters,i),s={};return o.centroids.forEach((function(t,e){s[e]=t})),Z(t,(function(t,e){var n=o.idxs[e];t.properties.cluster=n,t.properties.centroid=s[n]})),t},e.collect=function(t,e,n,r){var i=St(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=st(t),n=i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach((function(e){_e([e.minX,e.minY],t)&&o.push(e.property)})),t.properties[r]=o})),t},e.collectionOf=F,e.combine=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},n=Object.keys(e).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});function r(t,n,r){r?e[n].coordinates=e[n].coordinates.concat(t.geometry.coordinates):e[n].coordinates.push(t.geometry.coordinates),e[n].properties.push(t.properties)}return Z(t,(function(t){t.geometry&&(e[t.geometry.type]?r(t,t.geometry.type,!0):n[t.geometry.type]&&r(t,n[t.geometry.type],!1))})),d(Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){return s({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})})))},e.concave=function(t,e){void 0===e&&(e={});var n=e.maxEdge||1/0,r=xe(function(t){var e=[],n={};return Z(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),d(e)}(t));if(r.features=r.features.filter((function(t){var r=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=be(r,i,e),a=be(i,o,e),u=be(r,o,e);return s<=n&&a<=n&&u<=n})),r.features.length<1)return null;var i=$e(r);return 1===i.coordinates.length&&(i.coordinates=i.coordinates[0],i.type="Polygon"),s(i)},e.containsNumber=R,e.convertArea=P,e.convertDistance=S,e.convertLength=S,e.convex=ye,e.coordAll=X,e.coordEach=U,e.coordReduce=q,e.createBins=ou,e.degrees2radians=L,e.degreesToRadians=L,e.destination=_n,e.difference=function(t,e){var n=B(t),r=B(e),i=t.properties||{},o=$u(n.coordinates,r.coordinates);return 0===o.length?null:1===o.length?h(o[0],i):_(o,i)},e.dissolve=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;F(t,"Polygon","dissolve");var r=Le(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var s=Ir();for(var a in s.load(r),i){var u=i[a],l=!1;if(s.search(u).features.forEach((function(t){u=i[a];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=uy(e,o);0!==r&&(e-=r)}if(e!==+a){var h=i[e];h&&u&&(void 0!==n&&h.properties[n]!==u.properties[n]||Ss(u,h)&&ly(u,h)&&(i[a]=sy(u,h),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),s.remove(t),i.splice(e,1),u.properties.origIndexPosition=a,s.remove(u,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),l=!0))}})),l){if(!u)continue;u.properties.origIndexPosition=a,s.insert(u),a--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},e.distance=be,e.distanceToDegrees=w,e.distanceToRadians=x,e.distanceWeight=Ga,e.earthRadius=n,e.ellipse=Oa,e.envelope=gn,e.explode=wn,e.factors=r,e.feature=s,e.featureCollection=d,e.featureEach=Z,e.featureOf=z,e.featureReduce=Y,e.filterProperties=uu,e.findPoint=it,e.findSegment=rt,e.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return K(t,(function(t){e.push(t)})),d(e)},e.flattenEach=K,e.flattenReduce=J,e.flip=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Le(t)),U(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},e.geojsonType=D,e.geomEach=W,e.geomReduce=Q,e.geometry=a,e.geometryCollection=m,e.getCluster=nu,e.getCoord=O,e.getCoords=A,e.getGeom=B,e.getType=j,e.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=O(t),e=O(e),r=r||{},i=i||100,o=o||10,new gi({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},e.helpers=N,e.hexGrid=hy,e.inside=_e,e.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(F(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,a=st(t);switch(r){case"point":case"points":s=ti(a,e,n);break;case"square":case"squares":s=gy(a,e,n);break;case"hex":case"hexes":s=hy(a,e,n);break;case"triangle":case"triangles":s=yy(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return Z(s,(function(e){var s=0,a=0;Z(t,(function(t){var u,l=be("point"===r?e:xn(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var h=1/Math.pow(l,o);a+=h,s+=h*u}));var l=Le(e);l.properties[i]=s/a,u.push(l)})),d(u)},e.intersect=ay,e.invariant=G,e.isNumber=C,e.isObject=I,e.isobands=function(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(F(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!I(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var s=Xi(t,{zProperty:r,flip:!0}),a=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var o=+e[i-1],s=+e[i],a=Xo(Yo(Ki(t,o,s-o))),u={};u.groupedRings=a,u[n]=o+"-"+s,r.push(u)}return r}(s,e,r);return d((a=function(t,e,n){var r=st(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,h=i/u,c=o/l,f=function(t){t[0]=t[0]*h+s,t[1]=t[1]*c+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(f)}))}))})),t}(a,s,t)).map((function(t,e){if(o[e]&&!I(o[e]))throw new Error("Each mappedProperty is required to be an Object");var n=ct({},i,o[e]);return n[r]=t[r],_(t.groupedRings,n)})))},e.isolines=function(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(F(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!I(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=vt(t,{zProperty:r,flip:!0});return d(function(t,e,n){var r=st(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,h=i/u,c=o/l,f=function(t){t[0]=t[0]*h+s,t[1]=t[1]*c+a};return t.forEach((function(t){U(t,f)})),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=ct({},r,i[s]);u[n]=a;var l=g(dt(t,a),u);o.push(l)}return o}(s,e,r,i,o),s,t))},e.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var i=n;i<e.length-1;i++){if(t===e){if(1===Math.abs(n-i))continue;if(0===n&&i===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var o=Fr(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);o&&r.features.push(u([o[0],o[1]]))}}))})),r},e.length=Zr,e.lengthToDegrees=w,e.lengthToRadians=x,e.lineArc=bi,e.lineChunk=function(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return K(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=Zr(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)r(Yr(t,e*s,e*(s+1),{units:n}),s)}(t,e,r,(function(t){o.push(t)}))})),d(o)},e.lineDistance=Zr,e.lineEach=et,e.lineIntersect=Tr,e.lineOffset=function(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=j(t),o=t.properties;switch(i){case"LineString":return rs(t,e,r);case"MultiLineString":var s=[];return K(t,(function(t){s.push(rs(t,e,r).geometry.coordinates)})),g(s,o);default:throw new Error("geometry "+i+" is not supported")}},e.lineOverlap=Ri,e.lineReduce=nt,e.lineSegment=Qn,e.lineSlice=function(t,e,n){var r=A(n);if("LineString"!==j(n))throw new Error("line must be a LineString");for(var i,o=Or(n,t),s=Or(n,e),a=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)a.push(r[u]);return a.push(i[1].geometry.coordinates),f(a,n.properties)},e.lineSliceAlong=Yr,e.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=j(t),r=j(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=ei(e,{precision:7});switch(r){case"Point":return _i(t,i);case"MultiPoint":return yi(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return yi(t,Tr(t,i))}},e.lineString=f,e.lineStringToPolygon=Li,e.lineStrings=p,e.lineToPolygon=Li,e.mask=function(t,e){var n,r,i=function(t){var e=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return h(t&&t.geometry.coordinates||e)}(e),o=(n=[],r=[],K(t,(function(t){var e=t.geometry.coordinates,i=e[0],o=e.slice(1);n.push(h([i])),o.forEach((function(t){r.push(h([t]))}))})),[d(n),d(r)]),s=o[0],a=o[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),K(e,(function(t){r.push(t.geometry.coordinates[0])})),K(n,(function(t){r.push(t.geometry.coordinates[0])})),h(r)}(i,s=py(s),a=py(a))},e.meta=ot,e.midpoint=function(t,e){return _n(t,be(t,e)/2,vn(t,e))},e.moranIndex=function(t,e){var n=e.inputField,r=e.threshold||1e5,i=e.p||2,o=e.binary||!1,s=Ga(t,{alpha:e.alpha||-1,binary:o,p:i,standardization:e.standardization||!0,threshold:r}),a=[];Z(t,(function(t){var e=t.properties||{};a.push(e[n])}));for(var u=Ua(a),l=function(t){for(var e=Ua(t),n=0,r=0,i=t;r<i.length;r++){var o=i[r];n+=Math.pow(o-e,2)}return n/t.length}(a),h=0,c=0,f=0,p=0,d=s.length,g=0;g<d;g++){for(var y=0,_=0;_<d;_++)h+=s[g][_]*(a[g]-u)*(a[_]-u),c+=s[g][_],f+=Math.pow(s[g][_]+s[_][g],2),y+=s[g][_]+s[_][g];p+=Math.pow(y,2)}var m=h/c/l,v=-1/(d-1),b=(d*d*(f*=.5)-d*p+c*c*3)/((d-1)*(d+1)*(c*c))-v*v,x=Math.sqrt(b);return{expectedMoranIndex:v,moranIndex:m,stdNorm:x,zNorm:(m-v)/x}},e.multiLineString=g,e.multiPoint=y,e.multiPolygon=_,e.nearest=Wn,e.nearestPoint=Wn,e.nearestPointOnLine=Or,e.nearestPointToLine=function(t,e,n){void 0===n&&(n={});var r=n.units,i=n.properties||{},o=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return W(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t);if(!o.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==j(e))throw new Error("line must be a LineString");var s=1/0,a=null;return Z(o,(function(t){var n=Rr(t,e,{units:r});n<s&&(s=n,a=t)})),a&&(a.properties=ct({dist:s},a.properties,i)),a},e.planepoint=function(t,e){var n=O(t),r=B(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],h=r[0][0],c=r[0][1],f=void 0!==o?o:r[0][2],p=r[1][0],d=r[1][1],g=void 0!==s?s:r[1][2],y=r[2][0],_=r[2][1],m=void 0!==a?a:r[2][2];return(m*(u-h)*(l-d)+f*(u-p)*(l-_)+g*(u-y)*(l-c)-g*(u-h)*(l-_)-m*(u-p)*(l-c)-f*(u-y)*(l-d))/((u-h)*(l-d)+(u-p)*(l-_)+(u-y)*(l-c)-(u-h)*(l-_)-(u-p)*(l-c)-(u-y)*(l-d))},e.point=u,e.pointGrid=ti,e.pointOnFeature=Br,e.pointOnLine=Or,e.pointOnSurface=Br,e.pointToLineDistance=Rr,e.points=l,e.pointsWithinPolygon=ve,e.polygon=h,e.polygonSmooth=function(t,e){var n=[],r=e.iterations||1;if(!t)throw new Error("inputPolys is required");return W(t,(function(t,e,i){var o,s,a;switch(t.type){case"Polygon":o=[[]];for(var u=0;u<r;u++)a=[[]],s=t,u>0&&(s=h(o).geometry),Fa(s,a),o=a.slice(0);n.push(h(o,i));break;case"MultiPolygon":o=[[[]]];for(var l=0;l<r;l++)a=[[[]]],s=t,l>0&&(s=_(o).geometry),Ba(s,a),o=a.slice(0);n.push(_(o,i));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),d(n)},e.polygonTangents=function(t,e){var n,r,i,o,s=A(t),a=A(e),l=st(e),h=0,c=null;switch(s[0]>l[0]&&s[0]<l[2]&&s[1]>l[1]&&s[1]<l[3]&&(h=(c=Wn(t,wn(e))).properties.featureIndex),j(e)){case"Polygon":n=a[0][h],r=a[0][0],null!==c&&c.geometry.coordinates[1]<s[1]&&(r=a[0][h]),o=qi(a[0][0],a[0][a[0].length-1],s);var f=Gi(a[0],s,o,i,n,r);n=f[0],r=f[1];break;case"MultiPolygon":for(var p=0,g=0,y=0,_=0;_<a[0].length;_++){p=_;for(var m=!1,v=0;v<a[0][_].length;v++){if(g=v,y===h){m=!0;break}y++}if(m)break}n=a[0][p][g],r=a[0][p][g],o=qi(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach((function(t){var e=Gi(t[0],s,o,i,n,r);n=e[0],r=e[1]}))}return d([u(n),u(r)])},e.polygonToLine=wi,e.polygonToLineString=wi,e.polygonize=function(t){var e=ls.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){us.findEdgeRingContaining(t,r)&&r.push(t)})),d(r.map((function(t){return t.toPolygon()})))},e.polygons=c,e.projection=Xa,e.propEach=V,e.propReduce=H,e.propertiesContainsFilter=au,e.radians2degrees=M,e.radiansToDegrees=M,e.radiansToDistance=b,e.radiansToLength=b,e.random=eu,e.randomLineString=Ja,e.randomPoint=Qa,e.randomPolygon=Ka,e.randomPosition=Wa,e.rewind=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Le(t));var i=[];switch(t.type){case"GeometryCollection":return W(t,(function(t){Hi(t,n)})),t;case"FeatureCollection":return Z(t,(function(t){Z(Hi(t,n),(function(t){i.push(t)}))})),d(i)}return Hi(t,n)},e.rhumbBearing=Fi,e.rhumbDestination=ji,e.rhumbDistance=Ar,e.round=v,e.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return d(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},e.sector=function(t,e,n,r,i){if(!I(i=i||{}))throw new Error("options is invalid");var o=i.properties;if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(zi(n)===zi(r))return mn(t,e,i);var s=A(t),a=bi(t,e,n,r,i),u=[[s]];return U(a,(function(t){u[0].push(t)})),u[0].push(s),h(u,o)},e.segmentEach=$,e.segmentReduce=tt,e.shortestPath=function(t,e,n){if(!I(n=n||{}))throw new Error("options is invalid");var r=n.resolution,i=n.minDistance,o=n.obstacles||d([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(r&&!C(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(i)throw new Error("options.minDistance is not yet implemented");var a=O(t),l=O(e);switch(t=u(a),e=u(l),j(o)){case"FeatureCollection":if(0===o.features.length)return f([a,l]);break;case"Polygon":o=d([s(B(o))]);break;default:throw new Error("invalid obstacles")}var h=o;h.features.push(t),h.features.push(e);var c=st(Jo(dn(st(h)),1.15));r||(r=be([c[0],c[1]],[c[2],c[1]],n)/100),h.features.pop(),h.features.pop();for(var p=c[0],g=c[1],y=c[2],_=c[3],m=r/be([p,g],[y,g],n)*(y-p),v=r/be([p,g],[p,_],n)*(_-g),b=y-p,x=_-g,w=Math.floor(b/m),E=Math.floor(x/v),M=(b-w*m)/2,L=[],S=[],P=[],k=[],T=1/0,N=1/0,A=_-(x-E*v)/2,R=0;A>=g;){for(var D=[],z=[],F=p+M,G=0;F<=y;){var U=u([F,A]),q=Xs(U,o);D.push(q?0:1),z.push(F+"|"+A);var V=be(U,t);!q&&V<T&&(T=V,P={x:G,y:R});var H=be(U,e);!q&&H<N&&(N=H,k={x:G,y:R}),F+=m,G++}S.push(D),L.push(z),A-=v,R++}var Z=new Hs(S,{diagonal:!0}),Y=Z.grid[P.y][P.x],X=Z.grid[k.y][k.x],W=Vs.search(Z,Y,X),Q=[a];return W.forEach((function(t){var e=L[t.x][t.y].split("|");Q.push([+e[0],+e[1]])})),Q.push(l),tn(f(Q))},e.simplify=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Le(t)),W(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;tn(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ln(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return ln(t,e,n)}));break;case"Polygon":t.coordinates=hn(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return hn(t,e,n)}))}}(t,n,r)})),t},e.square=yn,e.squareGrid=gy,e.standardDeviationalEllipse=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!C(n))throw new Error("steps must be a number");if(!I(i))throw new Error("properties must be a number");var o=X(t).length,s=Ra(t,{weight:r}),a=0,u=0,l=0;Z(t,(function(t){var e=t.properties[r]||1,n=za(A(t),A(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e}));var h=a-u,c=Math.sqrt(Math.pow(h,2)+4*Math.pow(l,2)),f=2*l,p=Math.atan((h+c)/f),g=180*p/Math.PI,y=0,_=0,m=0;Z(t,(function(t){var e=t.properties[r]||1,n=za(A(t),A(s));y+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,_+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,m+=e}));var v=Math.sqrt(2*y/m),b=Math.sqrt(2*_/m),x=Oa(s,v,b,{units:"degrees",angle:g,steps:n,properties:i}),w=ve(t,d([x])),E={meanCenterCoordinates:A(s),semiMajorAxis:v,semiMinorAxis:b,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*X(w).length/o};return x.properties.standardDeviationalEllipse=E,x},e.tag=function(t,e,n,r){return t=Le(t),e=Le(e),Z(t,(function(t){t.properties||(t.properties={}),Z(e,(function(e){void 0===t.properties[r]&&_e(t,e)&&(t.properties[r]=e.properties[n])}))})),t},e.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Xn(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Xn(t))})),e},e.tin=xe,e.toMercator=qa,e.toWgs84=Va,e.transformRotate=Ko,e.transformScale=Jo,e.transformTranslate=function(t,e,n,r){if(!I(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==s&&void 0!==s||(t=Le(t)),U(t,(function(t){var r=A(ji(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},e.triangleGrid=yy,e.truncate=ei,e.union=sy,e.unitsFactors=i,e.unkinkPolygon=function(t){var e=[];return K(t,(function(t){"Polygon"===t.geometry.type&&Z(function(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],r=0;r<e;r++){var i=t.geometry.coordinates[r];ui(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var o=n.length,s=ni(t,(function(t,e,n,r,i,o,s,a,u,l,h,c){return[t,e,n,r,i,o,s,a,u,l,h,c]})),a=s.length;if(0==a){var u=[];for(r=0;r<e;r++)u.push(h([t.geometry.coordinates[r]],{parent:-1,winding:ai(t.geometry.coordinates[r])}));var l=d(u);return F(),B(),l}var c=[],f=[];for(r=0;r<e;r++){c.push([]);for(var p=0;p<t.geometry.coordinates[r].length-1;p++)c[r].push([new ii(t.geometry.coordinates[r][li(p+1,t.geometry.coordinates[r].length-1)],1,[r,p],[r,li(p+1,t.geometry.coordinates[r].length-1)],void 0)]),f.push(new oi(t.geometry.coordinates[r][p],[r,li(p-1,t.geometry.coordinates[r].length-1)],[r,p],void 0,void 0,!1,!0))}for(r=0;r<a;r++)c[s[r][1]][s[r][2]].push(new ii(s[r][0],s[r][5],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0)),s[r][11]&&f.push(new oi(s[r][0],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0,void 0,!0,!0));var g=f.length;for(r=0;r<c.length;r++)for(p=0;p<c[r].length;p++)c[r][p].sort((function(t,e){return t.param<e.param?-1:1}));var y=[];for(r=0;r<g;r++)y.push({minX:f[r].coord[0],minY:f[r].coord[1],maxX:f[r].coord[0],maxY:f[r].coord[1],index:r});var _=St();for(_.load(y),r=0;r<c.length;r++)for(p=0;p<c[r].length;p++)for(var m=0;m<c[r][p].length;m++){b=m==c[r][p].length-1?c[r][li(p+1,t.geometry.coordinates[r].length-1)][0].coord:c[r][p][m+1].coord;var v=_.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];c[r][p][m].nxtIsectAlongEdgeIn=v.index}for(r=0;r<c.length;r++)for(p=0;p<c[r].length;p++)for(m=0;m<c[r][p].length;m++){var b=c[r][p][m].coord,x=(v=_.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;x<o?f[x].nxtIsectAlongRingAndEdge2=c[r][p][m].nxtIsectAlongEdgeIn:ui(f[x].ringAndEdge1,c[r][p][m].ringAndEdgeIn)?f[x].nxtIsectAlongRingAndEdge1=c[r][p][m].nxtIsectAlongEdgeIn:f[x].nxtIsectAlongRingAndEdge2=c[r][p][m].nxtIsectAlongEdgeIn}var w=[];for(r=0,p=0;p<e;p++){var E=r;for(m=0;m<t.geometry.coordinates[p].length-1;m++)f[r].coord[0]<f[E].coord[0]&&(E=r),r++;var M=f[E].nxtIsectAlongRingAndEdge2;for(m=0;m<f.length;m++)if(f[m].nxtIsectAlongRingAndEdge1==E||f[m].nxtIsectAlongRingAndEdge2==E){var L=m;break}var S=si([f[L].coord,f[E].coord,f[M].coord],!0)?1:-1;w.push({isect:E,parent:-1,winding:S})}for(w.sort((function(t,e){return f[t.isect].coord>f[e.isect].coord?-1:1})),u=[];w.length>0;){var P=w.pop(),C=P.isect,I=P.parent,k=P.winding,T=u.length,N=[f[C].coord],O=C;if(f[C].ringAndEdge1Walkable)var A=f[C].ringAndEdge1,R=f[C].nxtIsectAlongRingAndEdge1;else A=f[C].ringAndEdge2,R=f[C].nxtIsectAlongRingAndEdge2;for(;!ui(f[C].coord,f[R].coord);){N.push(f[R].coord);var D=void 0;for(r=0;r<w.length;r++)if(w[r].isect==R){D=r;break}if(null!=D&&w.splice(D,1),ui(A,f[R].ringAndEdge1)){if(A=f[R].ringAndEdge2,f[R].ringAndEdge2Walkable=!1,f[R].ringAndEdge1Walkable){var z={isect:R};si([f[O].coord,f[R].coord,f[f[R].nxtIsectAlongRingAndEdge2].coord],1==k)?(z.parent=I,z.winding=-k):(z.parent=T,z.winding=k),w.push(z)}O=R,R=f[R].nxtIsectAlongRingAndEdge2}else A=f[R].ringAndEdge1,f[R].ringAndEdge1Walkable=!1,f[R].ringAndEdge2Walkable&&(z={isect:R},si([f[O].coord,f[R].coord,f[f[R].nxtIsectAlongRingAndEdge1].coord],1==k)?(z.parent=I,z.winding=-k):(z.parent=T,z.winding=k),w.push(z)),O=R,R=f[R].nxtIsectAlongRingAndEdge1}N.push(f[R].coord),u.push(h([N],{index:T,parent:I,winding:k,netWinding:void 0}))}function F(){for(var t=[],e=0;e<l.features.length;e++)-1==l.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<l.features.length;r++)t[e]!=r&&_e(l.features[t[e]].geometry.coordinates[0][0],l.features[r],{ignoreBoundary:!0})&&Ur(l.features[r])<1/0&&(n=r);l.features[t[e]].properties.parent=n}}function B(){for(var t=0;t<l.features.length;t++)if(-1==l.features[t].properties.parent){var e=l.features[t].properties.winding;l.features[t].properties.netWinding=e,j(t,e)}}function j(t,e){for(var n=0;n<l.features.length;n++)if(l.features[n].properties.parent==t){var r=e+l.features[n].properties.winding;l.features[n].properties.netWinding=r,j(n,r)}}return l=d(u),F(),B(),l}(t),(function(n){e.push(h(n.geometry.coordinates,t.properties))}))})),d(e)},e.validateBBox=k,e.validateId=T,e.voronoi=function(t,e){if(!I(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return F(t,"Point","points"),d(function(){var t=Qs,e=Ks,n=null;function r(r){return new Ta(r.map((function(n,i){var o=[Math.round(t(n,i,r)/Ca)*Ca,Math.round(e(n,i,r)/Ca)*Ca];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Ws(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Ws(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Na))},e.within=ve,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(54))},function(t,e,n){"use strict";n.d(e,"c",(function(){return Fn})),n.d(e,"d",(function(){return Jn})),n.d(e,"e",(function(){return Kn})),n.d(e,"h",(function(){return Tt})),n.d(e,"a",(function(){return Pr})),n.d(e,"f",(function(){return Or})),n.d(e,"g",(function(){return Dr})),n.d(e,"b",(function(){return jr}));var r=n(20);function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}var o={value:function(){}};function s(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function u(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function l(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function h(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=s.prototype={constructor:a,on:function(t,e){var n,r=this._,i=u(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=h(r[n],t.name,e);else if(null==e)for(n in r)r[n]=h(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=l(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var c=s,f=n(14);function p(){}var d=function(t){return null==t?p:function(){return this.querySelector(t)}},g=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function y(){return[]}var _=function(t){return null==t?y:function(){return this.querySelectorAll(t)}};var m=function(t){return function(){return this.matches(t)}};function v(t){return function(e){return e.matches(t)}}var b=Array.prototype.find;function x(){return this.firstElementChild}var w=Array.prototype.filter;function E(){return this.children}var M=function(t){return new Array(t.length)};function L(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}L.prototype={constructor:L,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var S=function(t){return function(){return t}};function P(t,e,n,r,i,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new L(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function C(t,e,n,r,i,o,s){var a,u,l,h=new Map,c=e.length,f=o.length,p=new Array(c);for(a=0;a<c;++a)(u=e[a])&&(p[a]=l=s.call(u,u.__data__,a,e)+"",h.has(l)?i[a]=u:h.set(l,u));for(a=0;a<f;++a)l=s.call(t,o[a],a,o)+"",(u=h.get(l))?(r[a]=u,u.__data__=o[a],h.delete(l)):n[a]=new L(t,o[a]);for(a=0;a<c;++a)(u=e[a])&&h.get(p[a])===u&&(i[a]=u)}function I(t){return t.__data__}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var T="http://www.w3.org/1999/xhtml",N={svg:"http://www.w3.org/2000/svg",xhtml:T,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),N.hasOwnProperty(e)?{space:N[e],local:t}:t};function A(t){return function(){this.removeAttribute(t)}}function R(t){return function(){this.removeAttributeNS(t.space,t.local)}}function D(t,e){return function(){this.setAttribute(t,e)}}function z(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function B(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var j=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function G(t){return function(){this.style.removeProperty(t)}}function U(t,e,n){return function(){this.style.setProperty(t,e,n)}}function q(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function V(t,e){return t.style.getPropertyValue(e)||j(t).getComputedStyle(t,null).getPropertyValue(e)}function H(t){return function(){delete this[t]}}function Z(t,e){return function(){this[t]=e}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function X(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new Q(t)}function Q(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function K(t,e){for(var n=W(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function J(t,e){for(var n=W(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $(t){return function(){K(this,t)}}function tt(t){return function(){J(this,t)}}function et(t,e){return function(){(e.apply(this,arguments)?K:J)(this,t)}}Q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function nt(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function it(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ot(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function at(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ut(){this.nextSibling&&this.parentNode.appendChild(this)}function lt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===T&&e.documentElement.namespaceURI===T?e.createElement(t):e.createElementNS(n,t)}}function ct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ft=function(t){var e=O(t);return(e.local?ct:ht)(e)};function pt(){return null}function dt(){var t=this.parentNode;t&&t.removeChild(this)}function gt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _t(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function mt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function vt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function bt(t,e,n){var r=j(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xt(t,e){return function(){return bt(this,t,e)}}function wt(t,e){return function(){return bt(this,t,e.apply(this,arguments))}}var Et=n(16),Mt=n.n(Et),Lt=Mt.a.mark(St);function St(){var t,e,n,r,i,o,s;return Mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=this._groups,e=0,n=t.length;case 1:if(!(e<n)){a.next=13;break}r=t[e],i=0,o=r.length;case 3:if(!(i<o)){a.next=10;break}if(!(s=r[i])){a.next=7;break}return a.next=7,s;case 7:++i,a.next=3;break;case 10:++e,a.next=1;break;case 13:case"end":return a.stop()}}),Lt,this)}var Pt=[null];function Ct(t,e){this._groups=t,this._parents=e}function It(){return new Ct([[document.documentElement]],Pt)}Ct.prototype=It.prototype=Object(f.a)({constructor:Ct,select:function(t){"function"!==typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],u=a.length,l=r[i]=new Array(u),h=0;h<u;++h)(o=a[h])&&(s=t.call(o,o.__data__,h,a))&&("__data__"in o&&(s.__data__=o.__data__),l[h]=s);return new Ct(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:g(e)}}(t):_(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,l=0;l<u;++l)(s=a[l])&&(r.push(t.call(s,s.__data__,l,a)),i.push(s));return new Ct(r,i)},selectChild:function(t){return this.select(null==t?x:function(t){return function(){return b.call(this.children,t)}}("function"===typeof t?t:v(t)))},selectChildren:function(t){return this.selectAll(null==t?E:function(t){return function(){return w.call(this.children,t)}}("function"===typeof t?t:v(t)))},filter:function(t){"function"!==typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Ct(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,I);var n=e?C:P,r=this._parents,i=this._groups;"function"!==typeof t&&(t=S(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var h=r[l],c=i[l],f=c.length,p=g(t.call(h,h&&h.__data__,l,r)),d=p.length,y=a[l]=new Array(d),_=s[l]=new Array(d),m=u[l]=new Array(f);n(h,c,y,_,m,p,e);for(var v,b,x=0,w=0;x<d;++x)if(v=y[x]){for(x>=w&&(w=x+1);!(b=_[w])&&++w<d;);v._next=b||null}}return(s=new Ct(s,r))._enter=a,s._exit=u,s},enter:function(){return new Ct(this._enter||this._groups.map(M),this._parents)},exit:function(){return new Ct(this._exit||this._groups.map(M),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Ct))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,l=e[a],h=n[a],c=l.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=l[p]||h[p])&&(f[p]=u);for(;a<r;++a)s[a]=e[a];return new Ct(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=k);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,l=i[o]=new Array(u),h=0;h<u;++h)(s=a[h])&&(l[h]=s);l.sort(e)}return new Ct(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){var t,e=0,n=i(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(r){n.e(r)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=O(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?R:A:"function"===typeof e?n.local?B:F:n.local?z:D)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?G:"function"===typeof e?q:U)(t,e,null==n?"":n)):V(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?H:"function"===typeof e?Y:Z)(t,e)):this.node()[t]},classed:function(t,e){var n=X(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?et:e?$:tt)(n,e))},text:function(t){return arguments.length?this.each(null==t?nt:("function"===typeof t?it:rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ot:("function"===typeof t?at:st)(t)):this.node().innerHTML},raise:function(){return this.each(ut)},lower:function(){return this.each(lt)},append:function(t){var e="function"===typeof t?t:ft(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:ft(t),r=null==e?pt:"function"===typeof e?e:d(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(dt)},clone:function(t){return this.select(t?yt:gt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=_t(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?vt:mt,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,h=a.length;l<h;++l)for(r=0,u=a[l];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?wt:xt)(t,e))}},Symbol.iterator,St);var kt=It,Tt=function(t){return"string"===typeof t?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],Pt)};var Nt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ot(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function At(){}var Rt=.7,Dt=1/Rt,zt="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Ut=new RegExp("^rgb\\("+[Bt,Bt,Bt]+"\\)$"),qt=new RegExp("^rgba\\("+[zt,zt,zt,Ft]+"\\)$"),Vt=new RegExp("^rgba\\("+[Bt,Bt,Bt,Ft]+"\\)$"),Ht=new RegExp("^hsl\\("+[Ft,Bt,Bt]+"\\)$"),Zt=new RegExp("^hsla\\("+[Ft,Bt,Bt,Ft]+"\\)$"),Yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xt(){return this.rgb().formatHex()}function Wt(){return this.rgb().formatRgb()}function Qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Kt(e):3===n?new ee(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gt.exec(t))?new ee(e[1],e[2],e[3],1):(e=Ut.exec(t))?new ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qt.exec(t))?Jt(e[1],e[2],e[3],e[4]):(e=Vt.exec(t))?Jt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ht.exec(t))?oe(e[1],e[2]/100,e[3]/100,1):(e=Zt.exec(t))?oe(e[1],e[2]/100,e[3]/100,e[4]):Yt.hasOwnProperty(t)?Kt(Yt[t]):"transparent"===t?new ee(NaN,NaN,NaN,0):null}function Kt(t){return new ee(t>>16&255,t>>8&255,255&t,1)}function Jt(t,e,n,r){return r<=0&&(t=e=n=NaN),new ee(t,e,n,r)}function $t(t){return t instanceof At||(t=Qt(t)),t?new ee((t=t.rgb()).r,t.g,t.b,t.opacity):new ee}function te(t,e,n,r){return 1===arguments.length?$t(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ne(){return"#"+ie(this.r)+ie(this.g)+ie(this.b)}function re(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ie(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function oe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ae(t,e,n,r)}function se(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);if(t instanceof At||(t=Qt(t)),!t)return new ae;if(t instanceof ae)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new ae(s,a,u,t.opacity)}function ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ue(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function le(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}Nt(At,Qt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHsl:function(){return se(this).formatHsl()},formatRgb:Wt,toString:Wt}),Nt(ee,te,Ot(At,{brighter:function(t){return t=null==t?Dt:Math.pow(Dt,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Rt:Math.pow(Rt,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ne,formatHex:ne,formatRgb:re,toString:re})),Nt(ae,(function(t,e,n,r){return 1===arguments.length?se(t):new ae(t,e,n,null==r?1:r)}),Ot(At,{brighter:function(t){return t=null==t?Dt:Math.pow(Dt,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Rt:Math.pow(Rt,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ee(ue(t>=240?t-240:t+120,i,r),ue(t,i,r),ue(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var he=function(t){return function(){return t}};function ce(t,e){return function(n){return t+n*e}}function fe(t){return 1===(t=+t)?pe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):he(isNaN(e)?n:e)}}function pe(t,e){var n=e-t;return n?ce(t,n):he(isNaN(t)?e:t)}var de=function t(e){var n=fe(e);function r(t,e){var r=n((t=te(t)).r,(e=te(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=pe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function ge(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=te(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}ge((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return le((n-r/e)*e,s,i,o,a)}})),ge((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return le((n-r/e)*e,i,o,s,a)}}));var ye=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},_e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(_e.source,"g");var ve,be,xe=function(t,e){var n,r,i,o=_e.lastIndex=me.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=_e.exec(t))&&(r=me.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:ye(n,r)})),o=me.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})},we=0,Ee=0,Me=0,Le=0,Se=0,Pe=0,Ce="object"===typeof performance&&performance.now?performance:Date,Ie="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ke(){return Se||(Ie(Te),Se=Ce.now()+Pe)}function Te(){Se=0}function Ne(){this._call=this._time=this._next=null}function Oe(t,e,n){var r=new Ne;return r.restart(t,e,n),r}function Ae(){Se=(Le=Ce.now())+Pe,we=Ee=0;try{!function(){ke(),++we;for(var t,e=ve;e;)(t=Se-e._time)>=0&&e._call.call(null,t),e=e._next;--we}()}finally{we=0,function(){var t,e,n=ve,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ve=e);be=t,De(r)}(),Se=0}}function Re(){var t=Ce.now(),e=t-Le;e>1e3&&(Pe-=e,Le=t)}function De(t){we||(Ee&&(Ee=clearTimeout(Ee)),t-Se>24?(t<1/0&&(Ee=setTimeout(Ae,t-Ce.now()-Pe)),Me&&(Me=clearInterval(Me))):(Me||(Le=Ce.now(),Me=setInterval(Re,1e3)),we=1,Ie(Ae)))}Ne.prototype=Oe.prototype={constructor:Ne,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?ke():+n)+(null==e?0:+e),this._next||be===this||(be?be._next=this:ve=this,be=this),this._call=t,this._time=n,De()},stop:function(){this._call&&(this._call=null,this._time=1/0,De())}};var ze=function(t,e,n){var r=new Ne;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Fe=c("start","end","cancel","interrupt"),Be=[],je=function(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var l,h,c,f;if(1!==n.state)return u();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return ze(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(ze((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(c=n.tween.length),l=0,h=-1;l<c;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Oe(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Fe,tween:Be,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ge(t,e){var n=qe(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ue(t,e){var n=qe(t,e);if(n.state>3)throw new Error("too late; already running");return n}function qe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ve,He=function(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}},Ze=180/Math.PI,Ye={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Xe=function(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ze,skewX:Math.atan(u)*Ze,scaleX:s,scaleY:a}};function We(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:ye(t,i)},{i:u-2,x:ye(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ye(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ye(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,u),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:ye(t,n)},{i:a-2,x:ye(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,r=u.length;++n<r;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var Qe=We((function(t){var e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ye:Xe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ke=We((function(t){return null==t?Ye:(Ve||(Ve=document.createElementNS("http://www.w3.org/2000/svg","g")),Ve.setAttribute("transform",t),(t=Ve.transform.baseVal.consolidate())?(t=t.matrix,Xe(t.a,t.b,t.c,t.d,t.e,t.f)):Ye)}),", ",")",")");function Je(t,e){var n,r;return function(){var i=Ue(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function $e(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Ue(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function tn(t,e,n){var r=t._id;return t.each((function(){var t=Ue(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return qe(t,r).value[e]}}var en=function(t,e){var n;return("number"===typeof e?ye:e instanceof Qt?de:(n=Qt(e))?(e=n,de):xe)(t,e)};function nn(t){return function(){this.removeAttribute(t)}}function rn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function on(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function sn(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function an(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(t))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttribute(t)}}function un(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttributeNS(t.space,t.local)}}function ln(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function cn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&hn(t,i)),n}return i._value=e,i}function fn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ln(t,i)),n}return i._value=e,i}function pn(t,e){return function(){Ge(this,t).delay=+e.apply(this,arguments)}}function dn(t,e){return e=+e,function(){Ge(this,t).delay=e}}function gn(t,e){return function(){Ue(this,t).duration=+e.apply(this,arguments)}}function yn(t,e){return e=+e,function(){Ue(this,t).duration=e}}function _n(t,e){if("function"!==typeof e)throw new Error;return function(){Ue(this,t).ease=e}}function mn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ge:Ue;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}var vn=kt.prototype.constructor;function bn(t){return function(){this.style.removeProperty(t)}}function xn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function wn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&xn(t,o,n)),r}return o._value=e,o}function En(t){return function(e){this.textContent=t.call(this,e)}}function Mn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&En(r)),e}return r._value=t,r}var Ln=0;function Sn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Pn(){return++Ln}var Cn=kt.prototype;Sn.prototype=function(t){return kt().transition(t)}.prototype=Object(f.a)({constructor:Sn,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=d(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,u,l=r[s],h=l.length,c=o[s]=new Array(h),f=0;f<h;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),c[f]=u,je(c[f],e,n,f,c,qe(a,n)));return new Sn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=_(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,l=r[a],h=l.length,c=0;c<h;++c)if(u=l[c]){for(var f,p=t.call(u,u.__data__,c,l),d=qe(u,n),g=0,y=p.length;g<y;++g)(f=p[g])&&je(f,e,n,g,p,d);o.push(p),s.push(u)}return new Sn(o,s,e,n)},filter:function(t){"function"!==typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Sn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,l=e[a],h=n[a],c=l.length,f=s[a]=new Array(c),p=0;p<c;++p)(u=l[p]||h[p])&&(f[p]=u);for(;a<r;++a)s[a]=e[a];return new Sn(s,this._parents,this._name,this._id)},selection:function(){return new vn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Pn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,l=0;l<u;++l)if(s=a[l]){var h=qe(s,e);je(s,t,n,l,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Sn(r,this._parents,t,n)},call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:function(t,e){var n=this._id;return arguments.length<2?qe(this.node(),n).on.on(t):this.each(mn(n,t,e))},attr:function(t,e){var n=O(t),r="transform"===n?Ke:en;return this.attrTween(t,"function"===typeof e?(n.local?un:an)(n,r,tn(this,"attr."+t,e)):null==e?(n.local?rn:nn)(n):(n.local?sn:on)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=O(t);return this.tween(n,(r.local?cn:fn)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?Qe:en;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=V(this,t),s=(this.style.removeProperty(t),V(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,bn(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=V(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=V(this,t)),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}(t,r,tn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var u=Ue(this,t),l=u.on,h=null==u.value[s]?o||(o=bn(e)):void 0;l===n&&i===h||(r=(n=l).copy()).on(a,i=h),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=V(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,wn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Mn(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=qe(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Je:$e)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?pn:dn)(e,t)):qe(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?gn:yn)(e,t)):qe(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(_n(e,t)):qe(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Ue(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},u={value:function(){0===--i&&o()}};n.each((function(){var n=Ue(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e})),0===i&&o()}))}},Symbol.iterator,Cn[Symbol.iterator]);var In={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function kn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}kt.prototype.interrupt=function(t){return this.each((function(){He(this,t)}))},kt.prototype.transition=function(t){var e,n;t instanceof Sn?(e=t._id,t=t._name):(e=Pn(),(n=In).time=ke(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,l=0;l<u;++l)(s=a[l])&&je(s,t,e,l,a,n||kn(s,e));return new Sn(r,this._parents,t,e)};Math.abs,Math.max,Math.min;function Tn(t){return[+t[0],+t[1]]}function Nn(t){return[Tn(t[0]),Tn(t[1])]}["w","e"].map(On),["n","s"].map(On),["n","w","e","s","nw","ne","sw","se"].map(On);function On(t){return{type:t}}var An=function(t){return function(){return t}},Rn=function(t){return 1e-6*(t()-.5)};function Dn(t){return t.index}function zn(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var Fn=function(t){var e,n,r,i,o,s,a=Dn,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=An(30),h=1;function c(r){for(var i=0,a=t.length;i<h;++i)for(var u,l,c,f,p,d,g,y=0;y<a;++y)l=(u=t[y]).source,f=(c=u.target).x+c.vx-l.x-l.vx||Rn(s),p=c.y+c.vy-l.y-l.vy||Rn(s),f*=d=((d=Math.sqrt(f*f+p*p))-n[y])/d*r*e[y],p*=d,c.vx-=f*(g=o[y]),c.vy-=p*g,l.vx+=f*(g=1-g),l.vy+=p*g}function f(){if(r){var s,u,l=r.length,h=t.length,c=new Map(r.map((function(t,e){return[a(t,e,r),t]})));for(s=0,i=new Array(l);s<h;++s)(u=t[s]).index=s,"object"!==typeof u.source&&(u.source=zn(c,u.source)),"object"!==typeof u.target&&(u.target=zn(c,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(h);s<h;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(h),p(),n=new Array(h),d()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t,e){r=t,s=e,f()},c.links=function(e){return arguments.length?(t=e,f(),c):t},c.id=function(t){return arguments.length?(a=t,c):a},c.iterations=function(t){return arguments.length?(h=+t,c):h},c.strength=function(t){return arguments.length?(u="function"===typeof t?t:An(+t),p(),c):u},c.distance=function(t){return arguments.length?(l="function"===typeof t?t:An(+t),d(),c):l},c};function Bn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,u,l,h,c,f,p=t._root,d={data:r},g=t._x0,y=t._y0,_=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(g+_)/2))?g=o:_=o,(h=n>=(s=(y+m)/2))?y=s:m=s,i=p,!(p=p[c=h<<1|l]))return i[c]=d,t;if(a=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===a&&n===u)return d.next=p,i?i[c]=d:t._root=d,t;do{i=i?i[c]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+_)/2))?g=o:_=o,(h=n>=(s=(y+m)/2))?y=s:m=s}while((c=h<<1|l)===(f=(u>=s)<<1|a>=o));return i[f]=p,i[c]=d,t}var jn=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function Gn(t){return t[0]}function Un(t){return t[1]}function qn(t,e,n){var r=new Vn(null==e?Gn:e,null==n?Un:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Vn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Hn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Zn=qn.prototype=Vn.prototype;Zn.copy=function(){var t,e,n=new Vn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hn(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Hn(e));return n},Zn.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Bn(this.cover(e,n),e,n,t)},Zn.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),u=1/0,l=1/0,h=-1/0,c=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<u&&(u=r),r>h&&(h=r),i<l&&(l=i),i>c&&(c=i));if(u>h||l>c)return this;for(this.cover(u,l).cover(h,c),n=0;n<o;++n)Bn(this,s[n],a[n],t[n]);return this},Zn.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,u=i-n||1,l=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=l,l=s,u*=2,a){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Zn.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Zn.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Zn.find=function(t,e,n){var r,i,o,s,a,u,l,h=this._x0,c=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new jn(g,h,c,f,p)),null==n?n=1/0:(h=t-n,c=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>p||(s=u.x1)<h||(a=u.y1)<c))if(g.length){var y=(i+s)/2,_=(o+a)/2;d.push(new jn(g[3],y,_,s,a),new jn(g[2],i,_,y,a),new jn(g[1],y,o,s,_),new jn(g[0],i,o,y,_)),(l=(e>=_)<<1|t>=y)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var m=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),b=m*m+v*v;if(b<n){var x=Math.sqrt(n=b);h=t-x,c=e-x,f=t+x,p=e+x,r=g.data}}return r},Zn.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,u,l,h,c,f,p=this._root,d=this._x0,g=this._y0,y=this._x1,_=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(a=(d+y)/2))?d=a:y=a,(h=s>=(u=(g+_)/2))?g=u:_=u,e=p,!(p=p[c=h<<1|l]))return this;if(!p.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[c]=i:delete e[c],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Zn.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Zn.root=function(){return this._root},Zn.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Zn.visit=function(t){var e,n,r,i,o,s,a=[],u=this._root;for(u&&a.push(new jn(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&u.length){var l=(r+o)/2,h=(i+s)/2;(n=u[3])&&a.push(new jn(n,l,h,o,s)),(n=u[2])&&a.push(new jn(n,r,h,l,s)),(n=u[1])&&a.push(new jn(n,l,i,o,h)),(n=u[0])&&a.push(new jn(n,r,i,l,h))}return this},Zn.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new jn(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,u=e.x1,l=e.y1,h=(s+u)/2,c=(a+l)/2;(o=i[0])&&n.push(new jn(o,s,a,h,c)),(o=i[1])&&n.push(new jn(o,h,a,u,c)),(o=i[2])&&n.push(new jn(o,s,c,h,l)),(o=i[3])&&n.push(new jn(o,h,c,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Zn.x=function(t){return arguments.length?(this._x=t,this):this._x},Zn.y=function(t){return arguments.length?(this._y=t,this):this._y};var Yn=4294967296;function Xn(t){return t.x}function Wn(t){return t.y}var Qn=Math.PI*(3-Math.sqrt(5)),Kn=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,u=Oe(f),l=c("tick","end"),h=function(){var t=1;return function(){return(t=(1664525*t+1013904223)%Yn)/Yn}}();function f(){p(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function p(r){var u,l,h=t.length;void 0===r&&(r=1);for(var c=0;c<r;++c)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),u=0;u<h;++u)null==(l=t[u]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*Qn;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),d(),e={tick:p,restart:function(){return u.restart(f),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(g),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(h=t,a.forEach(g),e):h},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,g(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,u,l=0,h=t.length;for(null==r?r=1/0:r*=r,l=0;l<h;++l)(s=(i=e-(a=t[l]).x)*i+(o=n-a.y)*o)<r&&(u=a,r=s);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},Jn=function(){var t,e,n,r,i,o=An(-30),s=1,a=1/0,u=.81;function l(n){var i,o=t.length,s=qn(t,Xn,Wn).visitAfter(c);for(r=n,i=0;i<o;++i)e=t[i],s.visit(f)}function h(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function c(t){var e,n,r,o,s,a=0,u=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,l,h){if(!t.value)return!0;var c=t.x-e.x,f=t.y-e.y,p=h-o,d=c*c+f*f;if(p*p/u<d)return d<a&&(0===c&&(d+=(c=Rn(n))*c),0===f&&(d+=(f=Rn(n))*f),d<s&&(d=Math.sqrt(s*d)),e.vx+=c*t.value*r/d,e.vy+=f*t.value*r/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===c&&(d+=(c=Rn(n))*c),0===f&&(d+=(f=Rn(n))*f),d<s&&(d=Math.sqrt(s*d)));do{t.data!==e&&(p=i[t.data.index]*r/d,e.vx+=c*p,e.vy+=f*p)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,h()},l.strength=function(t){return arguments.length?(o="function"===typeof t?t:An(+t),h(),l):o},l.distanceMin=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l},$n=Math.PI,tr=2*$n,er=1e-6,nr=tr-er;function rr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ir(){return new rr}rr.prototype=ir.prototype={constructor:rr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,l=o-t,h=s-e,c=l*l+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>er)if(Math.abs(h*a-u*l)>er&&i){var f=n-o,p=r-s,d=a*a+u*u,g=f*f+p*p,y=Math.sqrt(d),_=Math.sqrt(c),m=i*Math.tan(($n-Math.acos((d+c-g)/(2*y*_)))/2),v=m/_,b=m/y;Math.abs(v-1)>er&&(this._+="L"+(t+v*l)+","+(e+v*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>l*p)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=t+s,l=e+a,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>er||Math.abs(this._y1-l)>er)&&(this._+="L"+u+","+l),n&&(c<0&&(c=c%tr+tr),c>nr?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=l):c>er&&(this._+="A"+n+","+n+",0,"+ +(c>=$n)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var or=ir,sr=function(t){return function(){return t}},ar=Math.abs,ur=Math.atan2,lr=Math.cos,hr=Math.max,cr=Math.min,fr=Math.sin,pr=Math.sqrt,dr=1e-12,gr=Math.PI,yr=gr/2,_r=2*gr;function mr(t){return t>1?0:t<-1?gr:Math.acos(t)}function vr(t){return t>=1?yr:t<=-1?-yr:Math.asin(t)}function br(t){return t.innerRadius}function xr(t){return t.outerRadius}function wr(t){return t.startAngle}function Er(t){return t.endAngle}function Mr(t){return t&&t.padAngle}function Lr(t,e,n,r,i,o,s,a){var u=n-t,l=r-e,h=s-i,c=a-o,f=c*u-h*l;if(!(f*f<dr))return[t+(f=(h*(e-o)-c*(t-i))/f)*u,e+f*l]}function Sr(t,e,n,r,i,o,s){var a=t-n,u=e-r,l=(s?o:-o)/pr(a*a+u*u),h=l*u,c=-l*a,f=t+h,p=e+c,d=n+h,g=r+c,y=(f+d)/2,_=(p+g)/2,m=d-f,v=g-p,b=m*m+v*v,x=i-o,w=f*g-d*p,E=(v<0?-1:1)*pr(hr(0,x*x*b-w*w)),M=(w*v-m*E)/b,L=(-w*m-v*E)/b,S=(w*v+m*E)/b,P=(-w*m+v*E)/b,C=M-y,I=L-_,k=S-y,T=P-_;return C*C+I*I>k*k+T*T&&(M=S,L=P),{cx:M,cy:L,x01:-h,y01:-c,x11:M*(i/x-1),y11:L*(i/x-1)}}var Pr=function(){var t=br,e=xr,n=sr(0),r=null,i=wr,o=Er,s=Mr,a=null;function u(){var u,l,h=+t.apply(this,arguments),c=+e.apply(this,arguments),f=i.apply(this,arguments)-yr,p=o.apply(this,arguments)-yr,d=ar(p-f),g=p>f;if(a||(a=u=or()),c<h&&(l=c,c=h,h=l),c>dr)if(d>_r-dr)a.moveTo(c*lr(f),c*fr(f)),a.arc(0,0,c,f,p,!g),h>dr&&(a.moveTo(h*lr(p),h*fr(p)),a.arc(0,0,h,p,f,g));else{var y,_,m=f,v=p,b=f,x=p,w=d,E=d,M=s.apply(this,arguments)/2,L=M>dr&&(r?+r.apply(this,arguments):pr(h*h+c*c)),S=cr(ar(c-h)/2,+n.apply(this,arguments)),P=S,C=S;if(L>dr){var I=vr(L/h*fr(M)),k=vr(L/c*fr(M));(w-=2*I)>dr?(b+=I*=g?1:-1,x-=I):(w=0,b=x=(f+p)/2),(E-=2*k)>dr?(m+=k*=g?1:-1,v-=k):(E=0,m=v=(f+p)/2)}var T=c*lr(m),N=c*fr(m),O=h*lr(x),A=h*fr(x);if(S>dr){var R,D=c*lr(v),z=c*fr(v),F=h*lr(b),B=h*fr(b);if(d<gr&&(R=Lr(T,N,F,B,D,z,O,A))){var j=T-R[0],G=N-R[1],U=D-R[0],q=z-R[1],V=1/fr(mr((j*U+G*q)/(pr(j*j+G*G)*pr(U*U+q*q)))/2),H=pr(R[0]*R[0]+R[1]*R[1]);P=cr(S,(h-H)/(V-1)),C=cr(S,(c-H)/(V+1))}}E>dr?C>dr?(y=Sr(F,B,T,N,c,C,g),_=Sr(D,z,O,A,c,C,g),a.moveTo(y.cx+y.x01,y.cy+y.y01),C<S?a.arc(y.cx,y.cy,C,ur(y.y01,y.x01),ur(_.y01,_.x01),!g):(a.arc(y.cx,y.cy,C,ur(y.y01,y.x01),ur(y.y11,y.x11),!g),a.arc(0,0,c,ur(y.cy+y.y11,y.cx+y.x11),ur(_.cy+_.y11,_.cx+_.x11),!g),a.arc(_.cx,_.cy,C,ur(_.y11,_.x11),ur(_.y01,_.x01),!g))):(a.moveTo(T,N),a.arc(0,0,c,m,v,!g)):a.moveTo(T,N),h>dr&&w>dr?P>dr?(y=Sr(O,A,D,z,h,-P,g),_=Sr(T,N,F,B,h,-P,g),a.lineTo(y.cx+y.x01,y.cy+y.y01),P<S?a.arc(y.cx,y.cy,P,ur(y.y01,y.x01),ur(_.y01,_.x01),!g):(a.arc(y.cx,y.cy,P,ur(y.y01,y.x01),ur(y.y11,y.x11),!g),a.arc(0,0,h,ur(y.cy+y.y11,y.cx+y.x11),ur(_.cy+_.y11,_.cx+_.x11),g),a.arc(_.cx,_.cy,P,ur(_.y11,_.x11),ur(_.y01,_.x01),!g))):a.arc(0,0,h,x,b,g):a.lineTo(O,A)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-gr/2;return[lr(r)*n,fr(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:sr(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:sr(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:sr(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:sr(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:sr(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:sr(+t),u):o},u.padAngle=function(t){return arguments.length?(s="function"===typeof t?t:sr(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u},Cr=(Array.prototype.slice,function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)});function Ir(t){this._context=t}Ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var kr=function(t){return new Ir(t)};function Tr(t){return t[0]}function Nr(t){return t[1]}var Or=function(t,e){var n=sr(!0),r=null,i=kr,o=null;function s(s){var a,u,l,h=(s=Cr(s)).length,c=!1;for(null==r&&(o=i(l=or())),a=0;a<=h;++a)!(a<h&&n(u=s[a],a,s))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(u,a,s),+e(u,a,s));if(l)return o=null,l+""||null}return t="function"===typeof t?t:void 0===t?Tr:sr(t),e="function"===typeof e?e:void 0===e?Nr:sr(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:sr(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:sr(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:sr(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s},Ar=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Rr=function(t){return t},Dr=function(){var t=Rr,e=Ar,n=null,r=sr(0),i=sr(_r),o=sr(0);function s(s){var a,u,l,h,c,f=(s=Cr(s)).length,p=0,d=new Array(f),g=new Array(f),y=+r.apply(this,arguments),_=Math.min(_r,Math.max(-_r,i.apply(this,arguments)-y)),m=Math.min(Math.abs(_)/f,o.apply(this,arguments)),v=m*(_<0?-1:1);for(a=0;a<f;++a)(c=g[d[a]=a]=+t(s[a],a,s))>0&&(p+=c);for(null!=e?d.sort((function(t,n){return e(g[t],g[n])})):null!=n&&d.sort((function(t,e){return n(s[t],s[e])})),a=0,l=p?(_-f*v)/p:0;a<f;++a,y=h)u=d[a],h=y+((c=g[u])>0?c*l:0)+v,g[u]={data:s[u],index:a,value:c,startAngle:y,endAngle:h,padAngle:m};return g}return s.value=function(e){return arguments.length?(t="function"===typeof e?e:sr(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:sr(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:sr(+t),s):i},s.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:sr(+t),s):o},s};function zr(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fr(t){this._context=t}Fr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zr(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Br(t,e){this._basis=new Fr(t),this._beta=e}Br.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],s=t[n]-i,a=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*s),this._beta*e[u]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var jr=function t(e){function n(t){return 1===e?new Fr(t):new Br(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Gr(t){return((t=Math.exp(t))+1/t)/2}(function t(e,n,r){function i(t,i){var o,s,a=t[0],u=t[1],l=t[2],h=i[0],c=i[1],f=i[2],p=h-a,d=c-u,g=p*p+d*d;if(g<1e-12)s=Math.log(f/l)/e,o=function(t){return[a+t*p,u+t*d,l*Math.exp(e*t*s)]};else{var y=Math.sqrt(g),_=(f*f-l*l+r*g)/(2*l*n*y),m=(f*f-l*l-r*g)/(2*f*n*y),v=Math.log(Math.sqrt(_*_+1)-_),b=Math.log(Math.sqrt(m*m+1)-m);s=(b-v)/e,o=function(t){var r,i=t*s,o=Gr(v),h=l/(n*y)*(o*(r=e*i+v,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[a+h*p,u+h*d,l*o/Gr(e*i+v)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i})(Math.SQRT2,2,4);function Ur(t,e,n){this.k=t,this.x=e,this.y=n}Ur.prototype={constructor:Ur,scale:function(t){return 1===t?this:new Ur(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ur(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Ur(1,0,0);Ur.prototype},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(24);var i=n(20);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";t.exports=n(123)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));n(8);function r(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function o(t){return"Feature"===t.type?t.geometry:t}},function(t,e,n){t.exports=n(131)},function(t,e,n){},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(24);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";var r=n(23),i=n.n(r),o=n(15),s=n(8);e.a=function(t,e,n){void 0===n&&(n={});var r=Object(o.c)(t),a=Object(o.c)(e),u=i.a.union(r.coordinates,a.coordinates);return 0===u.length?null:1===u.length?Object(s.i)(u[0],n.properties):Object(s.g)(u,n.properties)}},,function(t,e,n){(function(e){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}var i=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function o(t,e){return t>e?1:t<e?-1:0}function s(t,e,n){for(var r=new i(null,null),o=r,s=r;;){var a=n(t,e.key);if(a<0){if(null===e.left)break;if(n(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;o.right=e,o=e,e=e.right}}return o.right=e.left,s.left=e.right,e.left=r.right,e.right=r.left,e}function a(t,e,n,r){var o=new i(t,e);if(null===n)return o.left=o.right=null,o;var a=r(t,(n=s(t,n,r)).key);return a<0?(o.left=n.left,o.right=n,n.left=null):a>=0&&(o.right=n.right,o.left=n,n.right=null),o}function u(t,e,n){var r=null,i=null;if(e){var o=n((e=s(t,e,n)).key,t);0===o?(r=e.left,i=e.right):o<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function l(t,e,n){return null===e?t:(null===t||((e=s(t.key,e,n)).left=t),e)}function h(t,e,n,r,i){if(t){r(e+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+i(t)+"\n");var o=e+(n?"    ":"\u2502   ");t.left&&h(t.left,o,!1,r,i),t.right&&h(t.right,o,!0,r,i)}}var c=function(){function t(t){void 0===t&&(t=o),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=a(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new i(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var r=this._comparator,o=s(t,this._root,r),a=r(t,o.key);return 0===a?this._root=o:(a<0?(n.left=o.left,n.right=o,o.left=null):a>0&&(n.right=o.right,n.left=o,o.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=s(t,e,n)).key)?(null===e.left?r=e.right:(r=s(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=s(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=s(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},t.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return d(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,i=this._comparator;if(n&&_(t,e,0,r-1,i),null===this._root)this._root=f(t,e,0,r),this._size=r;else{var o=y(this.toList(),p(t,e),i);r=this._size+r,this._root=g({head:o},0,r)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return h(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,n){var r=this._comparator,i=u(t,this._root,r),o=i.left,s=i.right;r(t,e)<0?s=a(e,n,s,r):o=a(e,n,o,r),this._root=l(o,s,r)},t.prototype.split=function(t){return u(t,this._root,this._comparator)},t}();function f(t,e,n,r){var o=r-n;if(o>0){var s=n+Math.floor(o/2),a=t[s],u=e[s],l=new i(a,u);return l.left=f(t,e,n,s),l.right=f(t,e,s+1,r),l}return null}function p(t,e){for(var n=new i(null,null),r=n,o=0;o<t.length;o++)r=r.next=new i(t[o],e[o]);return r.next=null,n.next}function d(t){for(var e=t,n=[],r=!1,o=new i(null,null),s=o;!r;)e?(n.push(e),e=e.left):n.length>0?e=(e=s=s.next=n.pop()).right:r=!0;return s.next=null,o.next}function g(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=g(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=g(t,i+1,n),s}return null}function y(t,e,n){for(var r=new i(null,null),o=r,s=t,a=e;null!==s&&null!==a;)n(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),r.next}function _(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}_(t,e,n,a,i),_(t,e,a+1,r,i)}}var m=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},v=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},b=Number.EPSILON;void 0===b&&(b=Math.pow(2,-52));var x=b*b,w=function(t,e){if(-b<t&&t<b&&-b<e&&e<b)return 0;var n=t-e;return n*n<x*t*e?0:t<e?-1:1},E=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new M,this.yRounder=new M}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),M=function(){function e(){t(this,e),this.tree=new c,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===w(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===w(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),e}(),L=new E,S=function(t,e){return t.x*e.y-t.y*e.x},P=function(t,e){return t.x*e.x+t.y*e.y},C=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=S(r,i);return w(o,0)},I=function(t){return Math.sqrt(P(t,t))},k=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return S(i,r)/I(i)/I(r)},T=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return P(i,r)/I(i)/I(r)},N=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},O=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},A=function(t,e,n,r){if(0===e.x)return O(n,r,t.x);if(0===r.x)return O(t,e,n.x);if(0===e.y)return N(n,r,t.y);if(0===r.y)return N(t,e,n.y);var i=S(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},s=S(o,e)/i,a=S(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}},R=function(){function e(n,r){t(this,e),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return r(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:z.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i=r.otherSE;n.set(r,{sine:k(e.point,t.point,i.point),cosine:T(e.point,t.point,i.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),u=a.sine,l=a.cosine;return o>=0&&u>=0?s<l?1:s>l?-1:0:o<0&&u<0?s<l?-1:s>l?1:0:u<o?-1:u>o?1:0}}}]),e}(),D=0,z=function(){function e(n,r,i,o){t(this,e),this.id=++D,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return r(e,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var h=t.comparePoint(e.leftSE.point);if(h<0)return 1;if(h>0)return-1;var c=e.comparePoint(t.rightSE.point);return 0!==c?c:-1}if(n>r){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(i!==o){var y=u-s,_=i-n,m=l-a,v=o-r;if(y>_&&m<v)return 1;if(y<_&&m>v)return-1}return i>o?1:i<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=v(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=m(e,s)&&0===this.comparePoint(s),l=m(n,i)&&0===t.comparePoint(i),h=m(e,a)&&0===this.comparePoint(a),c=m(n,o)&&0===t.comparePoint(o);if(l&&u)return c&&!h?o:!c&&h?a:null;if(l)return h&&i.x===a.x&&i.y===a.y?null:i;if(u)return c&&o.x===s.x&&o.y===s.y?null:s;if(c&&h)return null;if(c)return o;if(h)return a;var f=A(i,this.vector(),s,t.vector());return null===f?null:m(r,f)?L.round(f.x,f.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,i=new R(t,!0),o=new R(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new e(i,s,this.rings.slice(),this.windings.slice());return R.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),R.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],h=r.windings[a],c=n.rings.indexOf(l);-1===c?(n.rings.push(l),n.windings.push(h)):n.windings[c]+=h}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var l=[],h=[],c=0,f=e.length;c<f;c++)if(0!==n[c]){var p=e[c],d=p.poly;if(-1===h.indexOf(d))if(p.isExterior)l.push(d);else{-1===h.indexOf(d)&&h.push(d);var g=l.indexOf(p.poly);-1!==g&&l.splice(g,1)}}for(var y=0,_=l.length;y<_;y++){var m=l[y].multiPoly;-1===r.indexOf(m)&&r.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(Y.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===Y.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2===1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(Y.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,s,a=R.comparePoints(t,n);if(a<0)i=t,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=n,o=t,s=-1}return new e(new R(i,!0),new R(o,!1),[r],[s])}}]),e}(),F=function(){function e(n,r,i){if(t(this,e),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!==typeof n[0][0]||"number"!==typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=L.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var s=o,a=1,u=n.length;a<u;a++){if("number"!==typeof n[a][0]||"number"!==typeof n[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=L.round(n[a][0],n[a][1]);l.x===s.x&&l.y===s.y||(this.segments.push(z.fromRing(s,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),s=l)}o.x===s.x&&o.y===s.y||this.segments.push(z.fromRing(s,o,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),B=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new F(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var s=new F(n[i],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=r}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),j=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof n[0][0][0]&&(n=[n])}catch(a){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var s=new B(n[i],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=r}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),G=function(){function e(n){t(this,e),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],h=a.point,c=[];s=a,a=u,l.push(a),a.point!==h;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var p=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var g=null,y=0,_=c.length;y<_;y++)if(c[y].point===a.point){g=y;break}if(null===g){c.push({index:l.length,point:a.point});var m=a.getLeftmostComparator(s);u=f.sort(m)[0].otherSE;break}var v=c.splice(g)[0],b=l.splice(v.index);b.unshift(b[0].otherSE),n.push(new e(b.reverse()))}n.push(new e(l))}}return n}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==C(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===C(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,h=this.isExteriorRing()?e.length:-1,c=[],f=l;f!=h;f+=u)c.push([e[f].x,e[f].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];R.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),U=function(){function e(n){t(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),e}(),q=function(){function e(n){t(this,e),this.rings=n,this.polys=this._composePolys(n)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new U(i));else{var o=i.enclosingRing();o.poly||e.push(new U(o)),o.poly.addInterior(i)}}return e}}]),e}(),V=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.compare;t(this,e),this.queue=n,this.tree=new c(r),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var h=this._splitSafely(s,l),c=0,f=h.length;c<f;c++)n.push(h[c])}var p=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!a.isAnEndpoint(d)))for(var g=this._splitSafely(a,d),y=0,_=g.length;y<_;y++)n.push(g[y])}if(null!==u||null!==p){var m=null;m=null===u?p:null===p||R.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var v=e.split(m),b=0,x=v.length;b<x;b++)n.push(v[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var E=this._splitSafely(s,w),M=0,L=E.length;M<L;M++)n.push(E[M]);if(!a.isAnEndpoint(w))for(var S=this._splitSafely(a,w),P=0,C=S.length;P<C;P++)n.push(S[P])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),e}(),H="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/geovisto-map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Z="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/geovisto-map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Y=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,n){Y.type=t,L.reset();for(var r=[new j(e,!0)],i=0,o=n.length;i<o;i++)r.push(new j(n[i],!1));if(Y.numMultiPolys=r.length,"difference"===Y.type)for(var s=r[0],a=1;a<r.length;)null!==v(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===Y.type)for(var u=0,l=r.length;u<l;u++)for(var h=r[u],f=u+1,p=r.length;f<p;f++)if(null===v(h.bbox,r[f].bbox))return[];for(var d=new c(R.compare),g=0,y=r.length;g<y;g++)for(var _=r[g].getSweepEvents(),m=0,b=_.length;m<b;m++)if(d.insert(_[m]),d.size>H)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var x=new V(d),w=d.size,E=d.pop();E;){var M=E.key;if(d.size===w){var S=M.segment;throw new Error("Unable to pop() ".concat(M.isLeft?"left":"right"," SweepEvent ")+"[".concat(M.point.x,", ").concat(M.point.y,"] from segment #").concat(S.id," ")+"[".concat(S.leftSE.point.x,", ").concat(S.leftSE.point.y,"] -> ")+"[".concat(S.rightSE.point.x,", ").concat(S.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>H)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(x.segments.length>Z)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var P=x.process(M),C=0,I=P.length;C<I;C++){var k=P[C];void 0===k.consumedBy&&d.insert(k)}w=d.size,E=d.pop()}L.reset();var T=G.factory(x.segments);return new q(T).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("difference",t,n)}}}()}).call(this,n(54))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var s=t.apply(e,n);function a(t){r(s,i,o,a,u,"next",t)}function u(t){r(s,i,o,a,u,"throw",t)}a(void 0)}))}}n.d(e,"a",(function(){return i}))},,,function(t,e){var n,r;n=window,r=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(r,!1)}},addVertex:function(t){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);!this.options.allowIntersection&&e||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,r=e.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,r=e.clientY;this._endPoint.call(this,n,r,t),this._clickHandled=null},_endPoint:function(t,e,r){if(this._mouseDownOrigin){var i=L.point(t,e).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(r.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(r.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(i)<9*(n.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,r=t.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),i=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(i.getLatLng());e=r.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,r,i,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,u=o>a?o-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));u<o;u+=this.options.guidelineDistance)n=u/o,r={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},(i=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(i,r)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,r,i=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=i-(e?2:1),r=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=r*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),r.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(r,"mouseup",this._onMouseUp,this),L.DomEvent.off(r,"touchend",this._onMouseUp,this),r.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(r,"mouseup",this._onMouseUp,this).on(r,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),i=this._shape,o=this.options.showArea;return i&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,r=this.options.showRadius,i=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var o="";r&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,i,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,r=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=r+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(t){t.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(t){t.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(t){t.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,r,i,o,s=this._defaultShape();for(t=0,n=s.length;t<n;t++)(r=this._createMarker(s[t],t)).on("click",this._onMarkerClick,this),r.on("contextmenu",this._onContextMenu,this),this._markers.push(r);for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(i=this._markers[e],o=this._markers[t],this._createMiddleMarker(i,o),this._updatePrevNext(i,o))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly,r=L.LatLngUtil.cloneLatLng(e._origLatLng);if(L.extend(e._origLatLng,e._latlng),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(e._origLatLng,r),e.setLatLng(r);var o=n.options.color;n.setStyle({color:this.options.drawError.color}),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:o}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var s=this._poly.getLatLngs();this._poly._convertLatLngs(s,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(t){var e=t.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:e,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),r=t.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer((function(n){n._index>t&&(n._index+=e)}))},_createMiddleMarker:function(t,e){var n,r,i,o=this._getMiddleLatLng(t,e),s=this._createMarker(o);s.setOpacity(.6),t._middleRight=e._middleLeft=s,r=function(){s.off("touchmove",r,this);var i=e._index;s._index=i,s.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=s.getLatLng().lat,o.lng=s.getLatLng().lng,this._spliceLatLngs(i,0,o),this._markers.splice(i,0,s),s.setOpacity(1),this._updateIndexes(i,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},i=function(){s.off("dragstart",r,this),s.off("dragend",i,this),s.off("touchmove",r,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){r.call(this),i.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",r,this).on("dragend",i,this).on("touchmove",r,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,r=n.project(t.getLatLng()),i=n.project(e.getLatLng());return n.unproject(r._add(i)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target._cornerIndex;this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(t){var e,n=t.target;n===this._moveMarker&&(e=this._shape.getBounds().getCenter(),n.setLatLng(e)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds().getCenter(),i=[],o=0,s=n.length;o<s;o++)e=[n[o].lat-r.lat,n[o].lng-r.lng],i.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(i),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var r=this._map.mouseEventToContainerPoint(n),i=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(i);this._map.fire(e,{latlng:o,layerPoint:i,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=n.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,r=t.length;n<r;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,r=t.length,i=0,o=Math.PI/180;if(r>2){for(var s=0;s<r;s++)e=t[s],i+=((n=t[(s+1)%r]).lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(n.lat*o));i=6378137*i*6378137/2}return Math.abs(i)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),r=L.drawLocal.format&&L.drawLocal.format.numeric,i=r&&r.delimiters,o=i&&i.thousands,s=i&&i.decimal;if(o||s){var a=n.split(".");n=o?a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):a[0],s=s||".",a.length>1&&(n=n+s+a[1])}return n},readableArea:function(e,n,r){var i,o;return r=L.Util.extend({},t,r),n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),i=e>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,r.km)+" km\xb2":e>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,r.ha)+" ha":L.GeometryUtil.formattedNumber(e,r.m)+" m\xb2"):i=(e/=.836127)>=3097600?L.GeometryUtil.formattedNumber(e/3097600,r.mi)+" mi\xb2":e>=4840?L.GeometryUtil.formattedNumber(e/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(e,r.yd)+" yd\xb2",i},readableDistance:function(e,n,r,i,o){var s;switch(o=L.Util.extend({},t,o),n?"string"==typeof n?n:"metric":r?"feet":i?"nauticalMile":"yards"){case"metric":s=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(e,o.m)+" m";break;case"feet":e*=3.28083,s=L.GeometryUtil.formattedNumber(e,o.ft)+" ft";break;case"nauticalMile":e*=.53996,s=L.GeometryUtil.formattedNumber(e/1e3,o.nm)+" nm";break;case"yards":default:s=(e*=1.09361)>1760?L.GeometryUtil.formattedNumber(e/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(e,o.yd)+" yd"}return s},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,r){return this._checkCounterclockwise(t,n,r)!==this._checkCounterclockwise(e,n,r)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,r)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,r=this._getProjectedPoints(),i=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=i-1;t>=3;t--)if(e=r[t-1],n=r[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),r=n?n.length:0,i=n?n[r-1]:null,o=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(i,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return!e||(n+=t||0)<=3},_lineSegmentsIntersectsRange:function(t,e,n,r){var i,o,s=this._getProjectedPoints();r=r||0;for(var a=n;a>r;a--)if(i=s[a-1],o=s[a],L.LineUtil.segmentsIntersect(t,e,i,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,r,i=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=i.length,e=i[0],n=i[t-1],r=t-2,this._lineSegmentsIntersectsRange(n,e,r,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var e;L.Control.prototype.initialize.call(this,t),this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),r=!1;for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&(e=this._toolbars[i].addToolbar(t))&&(r||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),r=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,i=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,r++,i,o[e].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,r,i){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:i,className:r+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var r=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,r,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,r,i,o=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var u=0;u<a;u++)"enabled"in s[u]&&!s[u].enabled||(e=L.DomUtil.create("li","",o),i=this._createButton({title:s[u].title,text:s[u].text,container:e,callback:s[u].callback,context:s[u].context}),this._actionButtons.push({button:i,callback:s[u].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){for(var e in L.setOptions(this,t),this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(t){this._revertLayer(t)}),this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer((function(e){e.edited&&(t.addLayer(e),e.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,r=t.layer||t.target||t;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&((e=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(e.color=r.options.color,e.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=e),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),r=this._map.layerPointToLatLng(n);t.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(t){this._removeLayer({layer:t})}),this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},function(t,e,n){"use strict";(function(e){function n(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){return(t=t||{}).circles?function(t){var e=[],r=[];return t.proto?function t(o){if("object"!==typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,t);if(o instanceof Map)return new Map(i(Array.from(o),t));if(o instanceof Set)return new Set(i(Array.from(o),t));var s={};for(var a in e.push(o),r.push(s),o){var u=o[a];if("object"!==typeof u||null===u)s[a]=u;else if(u instanceof Date)s[a]=new Date(u);else if(u instanceof Map)s[a]=new Map(i(Array.from(u),t));else if(u instanceof Set)s[a]=new Set(i(Array.from(u),t));else if(ArrayBuffer.isView(u))s[a]=n(u);else{var l=e.indexOf(u);s[a]=-1!==l?r[l]:t(u)}}return e.pop(),r.pop(),s}:function t(o){if("object"!==typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return i(o,t);if(o instanceof Map)return new Map(i(Array.from(o),t));if(o instanceof Set)return new Set(i(Array.from(o),t));var s={};for(var a in e.push(o),r.push(s),o)if(!1!==Object.hasOwnProperty.call(o,a)){var u=o[a];if("object"!==typeof u||null===u)s[a]=u;else if(u instanceof Date)s[a]=new Date(u);else if(u instanceof Map)s[a]=new Map(i(Array.from(u),t));else if(u instanceof Set)s[a]=new Set(i(Array.from(u),t));else if(ArrayBuffer.isView(u))s[a]=n(u);else{var l=e.indexOf(u);s[a]=-1!==l?r[l]:t(u)}}return e.pop(),r.pop(),s};function i(t,i){for(var o=Object.keys(t),s=new Array(o.length),a=0;a<o.length;a++){var u=o[a],l=t[u];if("object"!==typeof l||null===l)s[u]=l;else if(l instanceof Date)s[u]=new Date(l);else if(ArrayBuffer.isView(l))s[u]=n(l);else{var h=e.indexOf(l);s[u]=-1!==h?r[h]:i(l)}}return s}}(t):t.proto?function t(r){if("object"!==typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var i={};for(var o in r){var s=r[o];"object"!==typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(e(Array.from(s),t)):s instanceof Set?i[o]=new Set(e(Array.from(s),t)):ArrayBuffer.isView(s)?i[o]=n(s):i[o]=t(s)}return i}:function t(r){if("object"!==typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var i={};for(var o in r)if(!1!==Object.hasOwnProperty.call(r,o)){var s=r[o];"object"!==typeof s||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):s instanceof Map?i[o]=new Map(e(Array.from(s),t)):s instanceof Set?i[o]=new Set(e(Array.from(s),t)):ArrayBuffer.isView(s)?i[o]=n(s):i[o]=t(s)}return i};function e(t,e){for(var r=Object.keys(t),i=new Array(r.length),o=0;o<r.length;o++){var s=r[o],a=t[s];"object"!==typeof a||null===a?i[s]=a:a instanceof Date?i[s]=new Date(a):ArrayBuffer.isView(a)?i[s]=n(a):i[s]=e(a)}return i}}}).call(this,n(137).Buffer)},,,,,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){n(148),n(149),n(150),n(151),n(152),t.exports=L.Path.Drag},function(t,e,n){"use strict";var r=n(23),i=n.n(r),o=n(8),s=n(15);e.a=function(t,e){var n=Object(s.c)(t),r=Object(s.c)(e),a=t.properties||{},u=i.a.difference(n.coordinates,r.coordinates);return 0===u.length?null:1===u.length?Object(o.i)(u[0],a):Object(o.g)(u,a)}},function(t,e,n){var r=n(157),i=n(159),o={};function s(t,e){return(t.version||e.version)&&t.version!==e.version?(+t.version||0)>(+e.version||0)?t:e:r.merge(t,e)}n(162).forEach((function(t){if("all"===t.polygon)o[t.key]=!0;else{var e="whitelist"===t.polygon?"included_values":"excluded_values",n={};t.values.forEach((function(t){n[t]=!0})),o[t.key]={},o[t.key][e]=n}}));var a;function u(t){for(var e,n,r,i,o,s,a=function(t){return t[0]},u=function(t){return t[t.length-1]},l=function(t,e){return void 0!==t&&void 0!==e&&t.id===e.id},h=[];t.length;)for(e=t.pop().nodes.slice(),h.push(e);t.length&&!l(a(e),u(e));){for(n=a(e),r=u(e),i=0;i<t.length;i++){if(l(r,a(s=t[i].nodes))){o=e.push,s=s.slice(1);break}if(l(r,u(s))){o=e.push,s=s.slice(0,-1).reverse();break}if(l(n,u(s))){o=e.unshift,s=s.slice(0,-1);break}if(l(n,a(s))){o=e.unshift,s=s.slice(1).reverse();break}s=o=null}if(!s)break;t.splice(i,1),o.apply(e,s)}return h}(a=function(t,e,n){return e=r.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:o,deduplicator:s},e),"undefined"!==typeof XMLDocument&&t instanceof XMLDocument||"undefined"===typeof XMLDocument&&t.childNodes?function(t){var e,n,i=new Array,o=new Array,s=new Array;function u(t,e,n){t.hasAttribute(n)&&(e[n]=t.getAttribute(n))}function l(t,e){var n=r.clone(t);u(e,n,"lat"),u(e,n,"lon"),n.__is_center_placeholder=!0,i.push(n)}function h(t,e){var n=r.clone(t);function s(t,e,r){var o={type:"node",id:"_"+n.type+"/"+n.id+"bounds"+r,lat:t,lon:e};n.nodes.push(o.id),i.push(o)}n.nodes=[],s(e.getAttribute("minlat"),e.getAttribute("minlon"),1),s(e.getAttribute("maxlat"),e.getAttribute("minlon"),2),s(e.getAttribute("maxlat"),e.getAttribute("maxlon"),3),s(e.getAttribute("minlat"),e.getAttribute("maxlon"),4),n.nodes.push(n.nodes[0]),n.__is_bounds_placeholder=!0,o.push(n)}return r.each(t.getElementsByTagName("node"),(function(t,e){var n={};r.each(t.getElementsByTagName("tag"),(function(t){n[t.getAttribute("k")]=t.getAttribute("v")}));var o={type:"node"};u(t,o,"id"),u(t,o,"lat"),u(t,o,"lon"),u(t,o,"version"),u(t,o,"timestamp"),u(t,o,"changeset"),u(t,o,"uid"),u(t,o,"user"),r.isEmpty(n)||(o.tags=n),i.push(o)})),r.each(t.getElementsByTagName("way"),(function(t,s){var a={},c=[];r.each(t.getElementsByTagName("tag"),(function(t){a[t.getAttribute("k")]=t.getAttribute("v")}));var f=!1;r.each(t.getElementsByTagName("nd"),(function(t,e){var n;(n=t.getAttribute("ref"))&&(c[e]=n),!f&&t.getAttribute("lat")&&(f=!0)}));var p={type:"way"};u(t,p,"id"),u(t,p,"version"),u(t,p,"timestamp"),u(t,p,"changeset"),u(t,p,"uid"),u(t,p,"user"),c.length>0&&(p.nodes=c),r.isEmpty(a)||(p.tags=a),(e=t.getElementsByTagName("center")[0])&&l(p,e),f?function(t,e){function n(t,e,n){var r={type:"node",id:n,lat:t,lon:e};return i.push(r),r.id}r.isArray(t.nodes)||(t.nodes=[],r.each(e,(function(e,n){t.nodes.push("_anonymous@"+e.getAttribute("lat")+"/"+e.getAttribute("lon"))})));r.each(e,(function(e,r){e.getAttribute("lat")&&n(e.getAttribute("lat"),e.getAttribute("lon"),t.nodes[r])}))}(p,t.getElementsByTagName("nd")):(n=t.getElementsByTagName("bounds")[0])&&h(p,n),o.push(p)})),r.each(t.getElementsByTagName("relation"),(function(t,a){var c={},f=[];r.each(t.getElementsByTagName("tag"),(function(t){c[t.getAttribute("k")]=t.getAttribute("v")}));var p=!1;r.each(t.getElementsByTagName("member"),(function(t,e){f[e]={},u(t,f[e],"ref"),u(t,f[e],"role"),u(t,f[e],"type"),(!p&&"node"==f[e].type&&t.getAttribute("lat")||"way"==f[e].type&&t.getElementsByTagName("nd").length>0)&&(p=!0)}));var d={type:"relation"};u(t,d,"id"),u(t,d,"version"),u(t,d,"timestamp"),u(t,d,"changeset"),u(t,d,"uid"),u(t,d,"user"),f.length>0&&(d.members=f),r.isEmpty(c)||(d.tags=c),(e=t.getElementsByTagName("center")[0])&&l(d,e),p?function(t,e){function n(t,e,n){var r={type:"node",id:n,lat:t,lon:e};i.push(r)}function s(t,e){if(!o.some((function(t){return"way"==t.type&&t.id==e}))){var n={type:"way",id:e,nodes:[]};r.each(t,(function(t){t.getAttribute("lat")?s(t.getAttribute("lat"),t.getAttribute("lon")):n.nodes.push(void 0)})),o.push(n)}function s(t,e){var r={type:"node",id:"_anonymous@"+t+"/"+e,lat:t,lon:e};n.nodes.push(r.id),i.push(r)}}r.each(e,(function(e,r){"node"==t.members[r].type?e.getAttribute("lat")&&n(e.getAttribute("lat"),e.getAttribute("lon"),t.members[r].ref):"way"==t.members[r].type&&e.getElementsByTagName("nd").length>0&&(t.members[r].ref="_fullGeom"+t.members[r].ref,s(e.getElementsByTagName("nd"),t.members[r].ref))}))}(d,t.getElementsByTagName("member")):(n=t.getElementsByTagName("bounds")[0])&&h(d,n),s.push(d)})),a(i,o,s)}(t):function(t){var e=new Array,n=new Array,i=new Array;function o(t){var n=r.clone(t);n.lat=t.center.lat,n.lon=t.center.lon,n.__is_center_placeholder=!0,e.push(n)}function s(t){var i=r.clone(t);function o(t,n,r){var o={type:"node",id:"_"+i.type+"/"+i.id+"bounds"+r,lat:t,lon:n};i.nodes.push(o.id),e.push(o)}i.nodes=[],o(i.bounds.minlat,i.bounds.minlon,1),o(i.bounds.maxlat,i.bounds.minlon,2),o(i.bounds.maxlat,i.bounds.maxlon,3),o(i.bounds.minlat,i.bounds.maxlon,4),i.nodes.push(i.nodes[0]),i.__is_bounds_placeholder=!0,n.push(i)}function u(t){r.isArray(t.nodes)||(t.nodes=t.geometry.map((function(t){return null!==t?"_anonymous@"+t.lat+"/"+t.lon:"_anonymous@unknown_location"}))),t.geometry.forEach((function(n,r){n&&function(t,n,r){var i={type:"node",id:r,lat:t,lon:n};e.push(i)}(n.lat,n.lon,t.nodes[r])}))}function l(t){function r(t,r){if(!n.some((function(t){return"way"==t.type&&t.id==r}))){var i={type:"way",id:r,nodes:[]};t.forEach((function(t){t?function(t,n){var r={type:"node",id:"_anonymous@"+t+"/"+n,lat:t,lon:n};i.nodes.push(r.id),e.push(r)}(t.lat,t.lon):i.nodes.push(void 0)})),n.push(i)}}t.members.forEach((function(t,n){"node"==t.type?t.lat&&function(t,n,r){var i={type:"node",id:r,lat:t,lon:n};e.push(i)}(t.lat,t.lon,t.ref):"way"==t.type&&t.geometry&&(t.ref="_fullGeom"+t.ref,r(t.geometry,t.ref))}))}for(var h=0;h<t.elements.length;h++)switch(t.elements[h].type){case"node":var c=t.elements[h];e.push(c);break;case"way":var f=r.clone(t.elements[h]);f.nodes=r.clone(f.nodes),n.push(f),f.center&&o(f),f.geometry?u(f):f.bounds&&s(f);break;case"relation":var p=r.clone(t.elements[h]);p.members=r.clone(p.members),i.push(p);var d=p.members&&p.members.some((function(t){return"node"==t.type&&t.lat||"way"==t.type&&t.geometry&&t.geometry.length>0}));p.center&&o(p),d?l(p):p.bounds&&s(p)}return a(e,n,i)}(t);function a(t,o,s){function a(t,n){if("object"!==typeof n&&(n={}),"function"===typeof e.uninterestingTags)return!e.uninterestingTags(t,n);for(var r in t)if(!0!==e.uninterestingTags[r]&&!0!==n[r]&&n[r]!==t[r])return!0;return!1}function h(t){var e={timestamp:t.timestamp,version:t.version,changeset:t.changeset,user:t.user,uid:t.uid};for(var n in e)void 0===e[n]&&delete e[n];return e}for(var c=new Object,f=new Object,p=0;p<t.length;p++){void 0!==c[(b=t[p]).id]&&(b=e.deduplicator(b,c[b.id])),c[b.id]=b,"undefined"!=typeof b.tags&&a(b.tags)&&(f[b.id]=!0)}for(p=0;p<s.length;p++)if(r.isArray(s[p].members))for(var d=0;d<s[p].members.length;d++)"node"==s[p].members[d].type&&(f[s[p].members[d].ref]=!0);var g=new Object,y=new Object;for(p=0;p<o.length;p++){var _=o[p];if(g[_.id]&&(_=e.deduplicator(_,g[_.id])),g[_.id]=_,r.isArray(_.nodes))for(d=0;d<_.nodes.length;d++)"object"!==typeof _.nodes[d]&&(y[_.nodes[d]]=!0,_.nodes[d]=c[_.nodes[d]])}var m=new Array;for(var v in c){var b=c[v];y[v]&&!f[v]||m.push(b)}var x=new Array;for(p=0;p<s.length;p++){x[(M=s[p]).id]&&(M=e.deduplicator(M,x[M.id])),x[M.id]=M}var w,E={node:{},way:{},relation:{}};for(var v in x){var M=x[v];if(r.isArray(M.members))for(d=0;d<M.members.length;d++){var L=M.members[d].type,S=M.members[d].ref;"number"!==typeof S&&(S=S.replace("_fullGeom","")),E[L]?("undefined"===typeof E[L][S]&&(E[L][S]=[]),E[L][S].push({role:M.members[d].role,rel:M.id,reltags:M.tags})):e.verbose&&console.warn("Relation",M.type+"/"+M.id,"member",L+"/"+S,"ignored because it has an invalid type")}else e.verbose&&console.warn("Relation",M.type+"/"+M.id,"ignored because it has no members")}var P=[];for(p=0;p<m.length;p++)if("undefined"!=typeof m[p].lon&&"undefined"!=typeof m[p].lat){var C={type:"Feature",id:m[p].type+"/"+m[p].id,properties:{type:m[p].type,id:m[p].id,tags:m[p].tags||{},relations:E.node[m[p].id]||[],meta:h(m[p])},geometry:{type:"Point",coordinates:[+m[p].lon,+m[p].lat]}};m[p].__is_center_placeholder&&(C.properties.geometry="center"),n?n(C):P.push(C)}else e.verbose&&console.warn("POI",m[p].type+"/"+m[p].id,"ignored because it lacks coordinates");var I=[],k=[];for(p=0;p<s.length;p++)if(x[s[p].id]===s[p]){if("undefined"!=typeof s[p].tags&&("route"==s[p].tags.type||"waterway"==s[p].tags.type)){if(!r.isArray(s[p].members)){e.verbose&&console.warn("Route",s[p].type+"/"+s[p].id,"ignored because it has no members");continue}if(s[p].members.forEach((function(t){g[t.ref]&&!a(g[t.ref].tags)&&(g[t.ref].is_skippablerelationmember=!0)})),!1===(C=function(t){var n,i,o=!1;n=(n=t.members.filter((function(t){return"way"===t.type}))).map((function(n){var r=g[n.ref];return void 0===r||void 0===r.nodes?(e.verbose&&console.warn("Route "+t.type+"/"+t.id,"tainted by a missing or incomplete  way",n.type+"/"+n.ref),void(o=!0)):{id:n.ref,role:n.role,way:r,nodes:r.nodes.filter((function(r){return void 0!==r||(o=!0,e.verbose&&console.warn("Route",t.type+"/"+t.id,"tainted by a way",n.type+"/"+n.ref,"with a missing node"),!1)}))}})),i=u(n=r.compact(n));var s;if(0==(s=r.compact(i.map((function(t){return r.compact(t.map((function(t){return[+t.lon,+t.lat]})))})))).length)return e.verbose&&console.warn("Route",t.type+"/"+t.id,"contains no coordinates"),!1;var a={type:"Feature",id:t.type+"/"+t.id,properties:{type:t.type,id:t.id,tags:t.tags||{},relations:E[t.type][t.id]||[],meta:h(t)},geometry:{type:1===s.length?"LineString":"MultiLineString",coordinates:1===s.length?s[0]:s}};return o&&(e.verbose&&console.warn("Route",t.type+"/"+t.id,"is tainted"),a.properties.tainted=!0),a}(s[p]))){e.verbose&&console.warn("Route relation",s[p].type+"/"+s[p].id,"ignored because it has invalid geometry");continue}n?n(i(C)):k.push(C)}if("undefined"!=typeof s[p].tags&&("multipolygon"==s[p].tags.type||"boundary"==s[p].tags.type)){var T=function(t,n){var i,o,s,a,l=!1,c=O?"way":"relation",f="number"===typeof t.id?t.id:+t.id.replace("_fullGeom","");function p(t){var e,n=function(t,e){for(var n=0;n<e.length;n++)if(i(e[n],t))return!0;return!1},r=function(t){return t.map((function(t){return[+t.lat,+t.lon]}))},i=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],h=e[s][1];u>r!=h>r&&n<(l-a)*(r-u)/(h-u)+a&&(i=!i)}return i};for(t=r(t),e=0;e<o.length;e++)if(n(r(o[e]),t))return e}i=(i=n.members.filter((function(t){return"way"===t.type}))).map((function(t){var n=g[t.ref];return void 0===n||void 0===n.nodes?(e.verbose&&console.warn("Multipolygon",c+"/"+f,"tainted by a missing or incomplete way",t.type+"/"+t.ref),void(l=!0)):{id:t.ref,role:t.role||"outer",way:n,nodes:n.nodes.filter((function(n){return void 0!==n||(l=!0,e.verbose&&console.warn("Multipolygon",c+"/"+f,"tainted by a way",t.type+"/"+t.ref,"with a missing node"),!1)}))}})),i=r.compact(i),o=u(i.filter((function(t){return"outer"===t.role}))),s=u(i.filter((function(t){return"inner"===t.role}))),a=o.map((function(t){return[t]}));for(var d=0;d<s.length;d++){var y=p(s[d]);void 0!==y?a[y].push(s[d]):e.verbose&&console.warn("Multipolygon",c+"/"+f,"contains an inner ring with no containing outer")}var _=[];if(0==(_=r.compact(a.map((function(t){var n=r.compact(t.map((function(t){if(!(t.length<4))return r.compact(t.map((function(t){return[+t.lon,+t.lat]})));e.verbose&&console.warn("Multipolygon",c+"/"+f,"contains a ring with less than four nodes")})));if(0!=n.length)return n;e.verbose&&console.warn("Multipolygon",c+"/"+f,"contains an empty ring cluster")})))).length)return e.verbose&&console.warn("Multipolygon",c+"/"+f,"contains no coordinates"),!1;var m="MultiPolygon";1===_.length&&(m="Polygon",_=_[0]);var v={type:"Feature",id:t.type+"/"+f,properties:{type:t.type,id:f,tags:t.tags||{},relations:E[t.type][t.id]||[],meta:h(t)},geometry:{type:m,coordinates:_}};return l&&(e.verbose&&console.warn("Multipolygon",c+"/"+f,"is tainted"),v.properties.tainted=!0),v};if(!r.isArray(s[p].members)){e.verbose&&console.warn("Multipolygon",s[p].type+"/"+s[p].id,"ignored because it has no members");continue}var N=0;for(d=0;d<s[p].members.length;d++)"outer"==s[p].members[d].role?N++:e.verbose&&"inner"!=s[p].members[d].role&&console.warn("Multipolygon",s[p].type+"/"+s[p].id,"member",s[p].members[d].type+"/"+s[p].members[d].ref,'ignored because it has an invalid role: "'+s[p].members[d].role+'"');if(s[p].members.forEach((function(t){g[t.ref]&&("outer"!==t.role||a(g[t.ref].tags,s[p].tags)||(g[t.ref].is_skippablerelationmember=!0),"inner"!==t.role||a(g[t.ref].tags)||(g[t.ref].is_skippablerelationmember=!0))})),0==N){e.verbose&&console.warn("Multipolygon relation",s[p].type+"/"+s[p].id,"ignored because it has no outer ways");continue}var O=!1;1!=N||a(s[p].tags,{type:!0})||(O=!0);C=null;if(O){var A=s[p].members.filter((function(t){return"outer"===t.role}))[0];if(void 0===(A=g[A.ref])){e.verbose&&console.warn("Multipolygon relation",s[p].type+"/"+s[p].id,"ignored because outer way",A.type+"/"+A.ref,"is missing");continue}A.is_skippablerelationmember=!0,C=T(A,s[p])}else C=T(s[p],s[p]);if(!1===C){e.verbose&&console.warn("Multipolygon relation",s[p].type+"/"+s[p].id,"ignored because it has invalid geometry");continue}n?n(i(C)):k.push(C)}}for(p=0;p<o.length;p++)if(g[o[p].id]===o[p])if(r.isArray(o[p].nodes)){if(!o[p].is_skippablerelationmember){"number"!==typeof o[p].id&&(o[p].id=+o[p].id.replace("_fullGeom","")),o[p].tainted=!1,o[p].hidden=!1;var R=new Array;for(d=0;d<o[p].nodes.length;d++)"object"==typeof o[p].nodes[d]?R.push([+o[p].nodes[d].lon,+o[p].nodes[d].lat]):(e.verbose&&console.warn("Way",o[p].type+"/"+o[p].id,"is tainted by an invalid node"),o[p].tainted=!0);if(R.length<=1)e.verbose&&console.warn("Way",o[p].type+"/"+o[p].id,"ignored because it contains too few nodes");else{var D="LineString";"undefined"!=typeof o[p].nodes[0]&&"undefined"!=typeof o[p].nodes[o[p].nodes.length-1]&&o[p].nodes[0].id===o[p].nodes[o[p].nodes.length-1].id&&("undefined"!=typeof o[p].tags&&l(o[p].tags)||o[p].__is_bounds_placeholder)&&(D="Polygon",R=[R]);C={type:"Feature",id:o[p].type+"/"+o[p].id,properties:{type:o[p].type,id:o[p].id,tags:o[p].tags||{},relations:E.way[o[p].id]||[],meta:h(o[p])},geometry:{type:D,coordinates:R}};o[p].tainted&&(e.verbose&&console.warn("Way",o[p].type+"/"+o[p].id,"is tainted"),C.properties.tainted=!0),o[p].__is_bounds_placeholder&&(C.properties.geometry="bounds"),n?n(i(C)):"LineString"==D?I.push(C):k.push(C)}}}else e.verbose&&console.warn("Way",o[p].type+"/"+o[p].id,"ignored because it has no nodes");return!!n||((w={type:"FeatureCollection",features:[]}).features=w.features.concat(k),w.features=w.features.concat(I),w.features=w.features.concat(P),e.flatProperties&&w.features.forEach((function(t){t.properties=r.merge(t.properties.meta,t.properties.tags,{id:t.properties.type+"/"+t.properties.id})})),w=i(w))}function l(t){var n=e.polygonFeatures;if("function"===typeof n)return n(t);if("no"===t.area)return!1;for(var r in t){var i=t[r],o=n[r];if("undefined"!==typeof o&&"no"!==i){if(!0===o)return!0;if(o.included_values&&!0===o.included_values[i])return!0;if(o.excluded_values&&!0!==o.excluded_values[i])return!0}}return!1}}).toGeojson=a,t.exports=a},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(20);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},,,,,,,,,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),l=1;l<arguments.length;l++){for(var h in n=Object(arguments[l]))i.call(n,h)&&(u[h]=n[h]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},,function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!h){var t=a(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,function(t,e,n){"use strict";n.r(e);var r=6378137,i=.0066943799901413165,o=484813681109536e-20,s=Math.PI/2,a=1e-10,u=.017453292519943295,l=57.29577951308232,h=Math.PI/4,c=2*Math.PI,f=3.14159265359,p={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},d={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},g=/[\s_\-\/\(\)]/g;function y(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(g,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(g,"")===i)return t[n]}var _=function(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*u},lat_1:function(t){i.lat1=t*u},lat_2:function(t){i.lat2=t*u},lat_ts:function(t){i.lat_ts=t*u},lon_0:function(t){i.long0=t*u},lon_1:function(t){i.long1=t*u},lon_2:function(t){i.long2=t*u},alpha:function(t){i.alpha=parseFloat(t)*u},gamma:function(t){i.rectified_grid_angle=parseFloat(t)},lonc:function(t){i.longc=t*u},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=y(d,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*u},pm:function(t){var e=y(p,t);i.from_greenwich=(e||parseFloat(t))*u},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)},approx:function(){i.approx=!0}};for(e in o)n=o[e],e in s?"function"===typeof(r=s[e])?r(n):i[r]=n:i[e]=n;return"string"===typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},m=function(t){return new M(t).output()},v=/\s/,b=/[A-Za-z]/,x=/[A-Za-z84]/,w=/[,\]]/,E=/[\d\.E\-\+]/;function M(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function L(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return S(e,t),t}),r);e&&(t[e]=i)}function S(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void S(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&S(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&S(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void L(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return S(t,e[n]);return L(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}M.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;v.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},M.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(w.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},M.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},M.prototype.number=function(t){if(!E.test(t)){if(w.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},M.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},M.prototype.keyword=function(t){if(x.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!w.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},M.prototype.neutral=function(t){if(b.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(E.test(t))return this.word=t,void(this.state=3);if(!w.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},M.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function P(t){return.017453292519943295*t}var C=function(t){var e=m(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return S(e,i),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=t.AXIS[n][0].toLowerCase();-1!==i.indexOf("north")?e+="n":-1!==i.indexOf("south")?e+="s":-1!==i.indexOf("east")?e+="e":-1!==i.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",P],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",P],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",P],["lat0","latitude_of_origin",P],["lat0","standard_parallel_1",P],["lat1","standard_parallel_1",P],["lat2","standard_parallel_2",P],["azimuth","Azimuth"],["alpha","azimuth",P],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=P(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i};function I(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?I[t]=_(arguments[1]):I[t]=C(arguments[1]):I[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?I.apply(e,t):I(t)}));if("string"===typeof t){if(t in I)return I[t]}else"EPSG"in t?I["EPSG:"+t.EPSG]=t:"ESRI"in t?I["ESRI:"+t.ESRI]=t:"IAU2000"in t?I["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(I);var k=I;var T=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var N=["3857","900913","3785","102113"];var O=function(t){if(!function(t){return"string"===typeof t}(t))return t;if(function(t){return t in k}(t))return k[t];if(function(t){return T.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=C(t);if(function(t){var e=y(t,"authority");if(e){var n=y(e,"epsg");return n&&N.indexOf(n)>-1}}(e))return k["EPSG:3857"];var n=function(t){var e=y(t,"extension");if(e)return y(e,"proj4")}(e);return n?_(n):e}return function(t){return"+"===t[0]}(t)?_(t):void 0},A=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},R=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},D=function(t){return t<0?-1:1},z=function(t){return Math.abs(t)<=f?t:t-D(t)*c},F=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(s-e))/r},B=function(t,e){for(var n,r,i=.5*t,o=s-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=r=s-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999};function j(t){return t}var G=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*l>90&&i*l<-90&&r*l>180&&r*l<-180)return null;if(Math.abs(Math.abs(i)-s)<=a)return null;if(this.sphere)e=this.x0+this.a*this.k0*z(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var o=Math.sin(i),u=F(this.e,i,o);e=this.x0+this.a*this.k0*z(r-this.long0),n=this.y0-this.a*this.k0*Math.log(u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=s-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=B(this.e,o)))return null}return e=z(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:j,inverse:j,names:["longlat","identity"]}],U={},q=[];function V(t,e){var n=q.length;return t.names?(q[n]=t,t.names.forEach((function(t){U[t.toLowerCase()]=n})),this):(console.log(e),!0)}var H={start:function(){G.forEach(V)},add:V,get:function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof U[e]&&q[U[e]]?q[U[e]]:void 0}},Z={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Y=Z.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Z.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var X={};X.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},X.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},X.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},X.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},X.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},X.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},X.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},X.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},X.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},X.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},X.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},X.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},X.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},X.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},X.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},X.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},X.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var W=function(t,e,n,r,i,s,a){var u={};return u.datum_type=void 0===t||"none"===t?5:4,e&&(u.datum_params=e.map(parseFloat),0===u.datum_params[0]&&0===u.datum_params[1]&&0===u.datum_params[2]||(u.datum_type=1),u.datum_params.length>3&&(0===u.datum_params[3]&&0===u.datum_params[4]&&0===u.datum_params[5]&&0===u.datum_params[6]||(u.datum_type=2,u.datum_params[3]*=o,u.datum_params[4]*=o,u.datum_params[5]*=o,u.datum_params[6]=u.datum_params[6]/1e6+1))),a&&(u.datum_type=3,u.grids=a),u.a=n,u.b=r,u.es=i,u.ep2=s,u},Q={};function K(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Q[t]||null,isNull:!1}}function J(t){return t/3600*Math.PI/180}function $(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function tt(t){return t.map((function(t){return[J(t.longitudeShift),J(t.latitudeShift)]}))}function et(t,e,n){return{name:$(t,e+8,e+16).trim(),parent:$(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function nt(t,e,n,r){for(var i=e+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(i+16*s,r),longitudeShift:t.getFloat32(i+16*s+4,r),latitudeAccuracy:t.getFloat32(i+16*s+8,r),longitudeAccuracy:t.getFloat32(i+16*s+12,r)};o.push(a)}return o}function rt(t,e){if(!(this instanceof rt))return new rt(t);e=e||function(t){if(t)throw t};var n=O(t);if("object"===typeof n){var r=rt.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=y(X,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=function(t,e,n,r,i){if(!t){var o=y(Z,r);o||(o=Y),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<a)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,a=0;return r?(i=(t*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(i-o)/o}}(o.a,o.b,o.rf,n.R_A),u=function(t){return void 0===t?null:t.split(",").map(K)}(n.nadgrids),l=n.datum||W(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,u);A(this,n),A(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),e(null,this)}else e(t)}else e(t)}rt.projections=H,rt.projections.start();var it=rt;function ot(t,e,n){var r,i,o,a,u=t.x,l=t.y,h=t.z?t.z:0;if(l<-s&&l>-1.001*s)l=-s;else if(l>s&&l<1.001*s)l=s;else{if(l<-s)return{x:-1/0,y:-1/0,z:t.z};if(l>s)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),i=Math.sin(l),a=Math.cos(l),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+h)*a*Math.cos(u),y:(r+h)*a*Math.sin(u),z:(r*(1-e)+h)*i}}function st(t,e,n,r){var i,o,a,u,l,h,c,f,p,d,g,y,_,m,v,b=1e-12,x=t.x,w=t.y,E=t.z?t.z:0;if(i=Math.sqrt(x*x+w*w),o=Math.sqrt(x*x+w*w+E*E),i/n<b){if(m=0,o/n<b)return s,v=-r,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(w,x);a=E/o,f=(u=i/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*u*u)),p=a*l,_=0;do{_++,h=e*(c=n/Math.sqrt(1-e*p*p))/(c+(v=i*f+E*p-c*(1-e*p*p))),y=(g=a*(l=1/Math.sqrt(1-h*(2-h)*u*u)))*f-(d=u*(1-h)*l)*p,f=d,p=g}while(y*y>1e-24&&_<30);return{x:m,y:Math.atan(g/Math.abs(d)),z:v}}function at(t){return 1===t||2===t}var ut=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var o=t.a,s=t.es;if(3===t.datum_type){if(0!==lt(t,!1,n))return;o=r,s=i}var a=e.a,u=e.b,l=e.es;if(3===e.datum_type&&(a=r,u=6356752.314,l=i),s===l&&o===a&&!at(t.datum_type)&&!at(e.datum_type))return n;if((n=ot(n,s,o),at(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6];return{x:l*(t.x-u*t.y+a*t.z)+r,y:l*(u*t.x+t.y-s*t.z)+i,z:l*(-a*t.x+s*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),at(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],h=(t.x-r)/l,c=(t.y-i)/l,f=(t.z-o)/l;return{x:h+u*c-a*f,y:-u*h+c+s*f,z:a*h-s*c+f}}}(n,e.datum_type,e.datum_params)),n=st(n,l,a,u),3===e.datum_type)&&0!==lt(e,!0,n))return;return n};function lt(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},o=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){i=r;break}if(a.mandatory,null!==a.grid){var u=a.grid.subgrids[0],h=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,c=u.ll[0]-h,f=u.ll[1]-h,p=u.ll[0]+(u.lim[0]-1)*u.del[0]+h,d=u.ll[1]+(u.lim[1]-1)*u.del[1]+h;if(!(f>r.y||c>r.x||d<r.y||p<r.x)&&(i=ht(r,e,u),!isNaN(i.x)))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*l+" "+r.y*l+" tried: '"+o+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function ht(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=z(i.x-Math.PI)+Math.PI;var o=ct(i,n);if(e){if(isNaN(o.x))return r;o.x=i.x-o.x,o.y=i.y-o.y;var s,a,u=9;do{if(a=ct(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(a.x+o.x),y:i.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(u--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=z(o.x+n.ll[0]),r.y=o.y+n.ll[1]}else isNaN(o.x)||(r.x=t.x+o.x,r.y=t.y+o.y);return r}function ct(t,e){var n,r={x:t.x/e.del[0],y:t.y/e.del[1]},i=Math.floor(r.x),o=Math.floor(r.y),s=r.x-1*i,a=r.y-1*o,u={x:Number.NaN,y:Number.NaN};if(i<0||i>=e.lim[0])return u;if(o<0||o>=e.lim[1])return u;n=o*e.lim[0]+i;var l=e.cvs[n][0],h=e.cvs[n][1];n++;var c=e.cvs[n][0],f=e.cvs[n][1];n+=e.lim[0];var p=e.cvs[n][0],d=e.cvs[n][1];n--;var g=e.cvs[n][0],y=e.cvs[n][1],_=s*a,m=s*(1-a),v=(1-s)*(1-a),b=(1-s)*a;return u.x=v*l+m*c+b*g+_*p,u.y=v*h+m*f+b*y+_*d,u}var ft=function(t,e,n){var r,i,o,s=n.x,a=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=s,i=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(r=a,i=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},pt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function dt(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function gt(t,e,n){var r;if(Array.isArray(n)&&(n=pt(n)),function(t){dt(t.x),dt(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=gt(t,r=new it("WGS84"),n),t=r),"enu"!==t.axis&&(n=ft(t,!1,n)),"longlat"===t.projName)n={x:n.x*u,y:n.y*u,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=ut(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*l,y:n.y*l,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?ft(e,!0,n):n}var yt=it("WGS84");function _t(t,e,n){var r,i,o;return Array.isArray(n)?(r=gt(t,e,n)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=gt(t,e,n),2===(o=Object.keys(n)).length||o.forEach((function(r){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function mt(t){return t instanceof it?t:t.oProj?t.oProj:it(t)}var vt=function(t,e,n){t=mt(t);var r,i=!1;return"undefined"===typeof e?(e=t,t=yt,i=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=yt,i=!0),e=mt(e),n?_t(t,e,n):(r={forward:function(n){return _t(t,e,n)},inverse:function(n){return _t(e,t,n)}},i&&(r.oProj=e),r)},bt="AJSAJS",xt="AFAFAF",wt=65,Et=73,Mt=79,Lt=86,St=90,Pt={forward:Ct,inverse:function(t){var e=Nt(Rt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:It};function Ct(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var r=At(n),i=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return function(t,e,n){var r=n-1,i=bt.charCodeAt(r),o=xt.charCodeAt(r),s=i+t-1,a=o+e,u=!1;s>St&&(s=s-St+wt-1,u=!0);(s===Et||i<Et&&s>Et||(s>Et||i<Et)&&u)&&s++;(s===Mt||i<Mt&&s>Mt||(s>Mt||i<Mt)&&u)&&++s===Et&&s++;s>St&&(s=s-St+wt-1);a>Lt?(a=a-Lt+wt-1,u=!0):u=!1;(a===Et||o<Et&&a>Et||(a>Et||o<Et)&&u)&&a++;(a===Mt||o<Mt&&a>Mt||(a>Mt||o<Mt)&&u)&&++a===Et&&a++;a>Lt&&(a=a-Lt+wt-1);return String.fromCharCode(s)+String.fromCharCode(a)}(i,o,r)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}(function(t){var e,n,r,i,o,s,a,u,l=t.lat,h=t.lon,c=6378137,f=.00669438,p=.9996,d=kt(l),g=kt(h);u=Math.floor((h+180)/6)+1,180===h&&(u=60);l>=56&&l<64&&h>=3&&h<12&&(u=32);l>=72&&l<84&&(h>=0&&h<9?u=31:h>=9&&h<21?u=33:h>=21&&h<33?u=35:h>=33&&h<42&&(u=37));a=kt(6*(u-1)-180+3),e=f/(1-f),n=c/Math.sqrt(1-f*Math.sin(d)*Math.sin(d)),r=Math.tan(d)*Math.tan(d),i=e*Math.cos(d)*Math.cos(d),o=Math.cos(d)*(g-a),s=c*((1-f/4-3*f*f/64-5*f*f*f/256)*d-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*d)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*d)-35*f*f*f/3072*Math.sin(6*d));var y=p*n*(o+(1-r+i)*o*o*o/6+(5-18*r+r*r+72*i-58*e)*o*o*o*o*o/120)+5e5,_=p*(s+n*Math.tan(d)*(o*o/2+(5-r+9*i+4*i*i)*o*o*o*o/24+(61-58*r+r*r+600*i-330*e)*o*o*o*o*o*o/720));l<0&&(_+=1e7);return{northing:Math.round(_),easting:Math.round(y),zoneNumber:u,zoneLetter:Ot(l)}}({lat:t[1],lon:t[0]}),e)}function It(t){var e=Nt(Rt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function kt(t){return t*(Math.PI/180)}function Tt(t){return t/Math.PI*180}function Nt(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,u,l,h,c,f,p,d=.9996,g=6378137,y=.00669438,_=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,v=e;r<"N"&&(v-=1e7),c=6*(i-1)-180+3,o=.006739496752268451,p=(f=v/d/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*f)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*f)+151*_*_*_/96*Math.sin(6*f),s=g/Math.sqrt(1-y*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),u=o*Math.cos(p)*Math.cos(p),l=.99330562*g/Math.pow(1-y*Math.sin(p)*Math.sin(p),1.5),h=m/(s*d);var b=p-s*Math.tan(p)/l*(h*h/2-(5+3*a+10*u-4*u*u-9*o)*h*h*h*h/24+(61+90*a+298*u+45*a*a-1.6983531815716497-3*u*u)*h*h*h*h*h*h/720);b=Tt(b);var x,w=(h-(1+2*a+u)*h*h*h/6+(5-2*u+28*a-3*u*u+8*o+24*a*a)*h*h*h*h*h/120)/Math.cos(p);if(w=c+Tt(w),t.accuracy){var E=Nt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:E.lat,right:E.lon,bottom:b,left:w}}else x={lat:b,lon:w};return x}function Ot(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function At(t){var e=t%6;return 0===e&&(e=6),e}function Rt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(o,o+=2);for(var u=At(s),l=function(t,e){var n=bt.charCodeAt(e-1),r=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===Et&&n++,n===Mt&&n++,n>St){if(i)throw"Bad character: "+t;n=wt,i=!0}r+=1e5}return r}(r.charAt(0),u),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=xt.charCodeAt(e-1),r=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===Et&&n++,n===Mt&&n++,n>Lt){if(i)throw"Bad character: "+t;n=wt,i=!0}r+=1e5}return r}(r.charAt(1),u);h<Dt(a);)h+=2e6;var c=n-o;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=c/2,y=0,_=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),y=parseFloat(p)*f,d=t.substring(o+g),_=parseFloat(d)*f),{easting:y+l,northing:_+h,zoneLetter:a,zoneNumber:s,accuracy:f}}function Dt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function zt(t,e,n){if(!(this instanceof zt))return new zt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}zt.fromMGRS=function(t){return new zt(It(t))},zt.prototype.toMGRS=function(t){return Ct([this.x,this.y],t)};var Ft=zt,Bt=.046875,jt=.01953125,Gt=.01068115234375,Ut=function(t){var e=[];e[0]=1-t*(.25+t*(Bt+t*(jt+t*Gt))),e[1]=t*(.75-t*(Bt+t*(jt+t*Gt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},qt=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Vt=function(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var s=Math.sin(i),u=1-e*s*s;if(i-=u=(qt(i,s,Math.cos(i),n)-t)*(u*Math.sqrt(u))*r,Math.abs(u)<a)return i}return i};var Ht={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ut(this.es),this.ml0=qt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,s=z(i-this.long0),u=Math.sin(o),l=Math.cos(o);if(this.es){var h=l*s,c=Math.pow(h,2),f=this.ep2*Math.pow(l,2),p=Math.pow(f,2),d=Math.abs(l)>a?Math.tan(o):0,g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(u,2),h/=Math.sqrt(e);var _=qt(o,u,l,this.en);n=this.a*(this.k0*h*(1+c/6*(1-g+f+c/20*(5-18*g+y+14*f-58*g*f+c/42*(61+179*y-y*g-479*g)))))+this.x0,r=this.a*(this.k0*(_-this.ml0+u*s*h/2*(1+c/12*(5-g+9*f+4*p+c/30*(61+y-58*g+270*f-330*g*f+c/56*(1385+543*y-y*g-3111*g))))))+this.y0}else{var m=l*Math.sin(s);if(Math.abs(Math.abs(m)-1)<a)return 93;if(n=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,r=l*Math.cos(s)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(r))>=1){if(m-1>a)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),u=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+u/this.k0,n=Vt(e,this.es,this.en),Math.abs(n)<s){var l=Math.sin(n),h=Math.cos(n),c=Math.abs(h)>a?Math.tan(n):0,f=this.ep2*Math.pow(h,2),p=Math.pow(f,2),d=Math.pow(c,2),g=Math.pow(d,2);e=1-this.es*Math.pow(l,2);var y=o*Math.sqrt(e)/this.k0,_=Math.pow(y,2);r=n-(e*=c)*_/(1-this.es)*.5*(1-_/12*(5+3*d-9*f*d+f-4*p-_/30*(61+90*d-252*f*d+45*g+46*f-_/56*(1385+3633*d+4095*g+1574*g*d)))),i=z(this.long0+y*(1-_/6*(1+2*d+f-_/20*(5+28*d+24*g+8*f*d+6*f-_/42*(61+662*d+1320*g+720*g*d))))/h)}else r=s*D(u),i=0;else{var m=Math.exp(o/this.k0),v=.5*(m-1/m),b=this.lat0+u/this.k0,x=Math.cos(b);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(v,2))),r=Math.asin(e),u<0&&(r=-r),i=0===v&&0===x?0:z(Math.atan2(v,x)+this.long0)}return t.x=i,t.y=r,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Zt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Yt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Xt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Yt(1,e)+1))),t<0?-e:e},Wt=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return e+n*Math.sin(2*e)},Qt=function(t,e,n){for(var r,i,o=Math.sin(e),s=Math.cos(e),a=Zt(n),u=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),l=2*s*u,h=-2*o*a,c=t.length-1,f=t[c],p=0,d=0,g=0;--c>=0;)r=d,i=p,f=l*(d=f)-r-h*(p=g)+t[c],g=h*d-i+l*p;return[(l=o*u)*f-(h=s*a)*g,l*g+h*f]};var Kt={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ht.init.apply(this),this.forward=Ht.forward,this.inverse=Ht.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=Wt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],s=0;--i>=0;)n=r*o-s+t[i],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=z(t.x-this.long0),n=t.y;n=Wt(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,Yt(r,i*s)),e=Xt(Math.tan(e));var a,u,l=Qt(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Qt(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Zt(r));var s=Math.sin(i),a=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(s*l,Yt(u,l*a)),r=Math.atan2(u,l*a),e=z(r+this.long0),n=Wt(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};var Jt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(z(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*u,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Kt.init.apply(this),this.forward=Kt.forward,this.inverse=Kt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},$t=function(t,e){return Math.pow((1-t)/(1+t),e)};var te={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+h)/(Math.pow(Math.tan(.5*this.lat0+h),this.C)*$t(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+h),this.C)*$t(this.e*Math.sin(n),this.ratexp))-s,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+h)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*$t(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]};var ee={init:function(){te.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=z(t.x-this.long0),te.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,te.inverse.apply(this,[t]),t.x=z(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var ne={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*(1+D(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=a&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*this.cons*R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/F(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=R(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,u,l=t.x,h=t.y,c=Math.sin(h),f=Math.cos(h),p=z(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=a&&Math.abs(h+this.lat0)<=a?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*f*Math.cos(p)),t.x=this.a*e*f*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*f*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,c,this.e))-s,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=a?(o=F(this.e,h*this.con,this.con*c),u=2*this.a*this.k0*o/this.cons,t.x=this.x0+u*Math.sin(l-this.long0),t.y=this.y0-this.con*u*Math.cos(l-this.long0),t):(Math.abs(this.sinlat0)<a?(e=2*this.a*this.k0/(1+i*Math.cos(p)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(p))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(p))+this.y0),t.x=e*i*Math.sin(p)+this.x0,t))},inverse:function(t){var e,n,r,i,o;t.x-=this.x0,t.y-=this.y0;var u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var l=2*Math.atan(u/(2*this.a*this.k0));return e=this.long0,n=this.lat0,u<=a?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(l)*this.sinlat0+t.y*Math.sin(l)*this.coslat0/u),e=Math.abs(this.coslat0)<a?this.lat0>0?z(this.long0+Math.atan2(t.x,-1*t.y)):z(this.long0+Math.atan2(t.x,t.y)):z(this.long0+Math.atan2(t.x*Math.sin(l),u*this.coslat0*Math.cos(l)-t.y*this.sinlat0*Math.sin(l))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=a){if(u<=a)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*B(this.e,r),e=this.con*z(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=a?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/u),e=z(this.long0+Math.atan2(t.x*Math.sin(i),u*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*B(this.e,Math.tan(.5*(s+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*n)}};var re={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,u=0,l=o,h=-1e3,c=0;Math.abs(l-h)>1e-7;){if(++c>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),h=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=l,t},names:["somerc"]},ie=1e-7;var oe={init:function(){var t,e,n,r,i,o,l,f,p,d,g,y=0,_=0,m=0,v=0,b=0,x=0,w=0;this.no_off=function(t){var e="object"===typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(e)}(this),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var M=!1;if("rectified_grid_angle"in this&&(M=!0),E&&(w=this.alpha),M&&(y=this.rectified_grid_angle*u),E||M)_=this.longc;else if(m=this.long1,b=this.lat1,v=this.long2,x=this.lat2,Math.abs(b-x)<=ie||(t=Math.abs(b))<=ie||Math.abs(t-s)<=ie||Math.abs(Math.abs(this.lat0)-s)<=ie||Math.abs(Math.abs(x)-s)<=ie)throw new Error;var L=1-this.es;e=Math.sqrt(L),Math.abs(this.lat0)>a?(f=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*f*f,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/L),this.A=this.B*this.k0*e/t,(i=(r=this.B*e/(n*Math.sqrt(t)))*r-1)<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(F(this.e,this.lat0,f),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),E||M?(E?(g=Math.asin(Math.sin(w)/r),M||(y=w)):(g=y,w=Math.asin(r*Math.sin(g))),this.lam0=_-Math.asin(.5*(i-1/i)*Math.tan(g))/this.B):(o=Math.pow(F(this.e,b,Math.sin(b)),this.B),l=Math.pow(F(this.e,x,Math.sin(x)),this.B),i=this.E/o,p=(l-o)/(l+o),d=((d=this.E*this.E)-l*o)/(d+l*o),(t=m-v)<-Math.pi?v-=c:t>Math.pi&&(v+=c),this.lam0=z(.5*(m+v)-Math.atan(d*Math.tan(.5*this.B*(m-v))/p)/this.B),g=Math.atan(2*Math.sin(this.B*z(m-this.lam0))/(i-1/i)),y=w=Math.asin(r*Math.sin(g))),this.singam=Math.sin(g),this.cosgam=Math.cos(g),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*g,this.v_pole_n=this.ArB*Math.log(Math.tan(h-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(h+i))},forward:function(t){var e,n,r,i,o,u,l,h,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-s)>a){if(e=.5*((o=this.E/Math.pow(F(this.e,t.y,Math.sin(t.y)),this.B))-(u=1/o)),n=.5*(o+u),i=Math.sin(this.B*t.x),r=(e*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(r)-1)<a)throw new Error;h=.5*this.ArB*Math.log((1-r)/(1+r)),u=Math.cos(this.B*t.x),l=Math.abs(u)<ie?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+i*this.singam,u)}else h=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(c.x=l,c.y=h):(l-=this.u_0,c.x=h*this.cosrot+l*this.sinrot,c.y=l*this.cosrot-h*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var e,n,r,i,o,u,l,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=.5*((r=Math.exp(-this.BrA*n))-1/r),o=.5*(r+1/r),l=((u=Math.sin(this.BrA*e))*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(l)-1)<a)h.x=0,h.y=l<0?-s:s;else{if(h.y=this.E/Math.sqrt((1+l)/(1-l)),h.y=B(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(i*this.cosgam-u*this.singam,Math.cos(this.BrA*e))}return h.x+=this.lam0,h},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var se={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<a)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=R(this.e,e,n),i=F(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),u=R(this.e,o,s),l=F(this.e,this.lat2,o),h=F(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>a?this.ns=Math.log(r/u)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=a&&(n=D(n)*(s-2e-10));var r,i,o=Math.abs(Math.abs(n)-s);if(o>a)r=F(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var u=this.ns*z(e-this.long0);return t.x=this.k0*(i*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(u))+this.y0,t},inverse:function(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=B(this.e,r)))return null}else i=-s;return o=z(l/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]};var ae={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,s,a,u=t.x,l=t.y,h=z(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},ue=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},le=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},he=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ce=function(t){return.05859375*t*t*(1+.75*t)},fe=function(t){return t*t*t*(35/3072)},pe=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},de=function(t){return Math.abs(t)<s?t:t-D(t)*Math.PI},ge=function(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var ye={init:function(){this.sphere||(this.e0=le(this.es),this.e1=he(this.es),this.e2=ce(this.es),this.e3=fe(this.es),this.ml0=this.a*ue(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=z(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=pe(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),h=l*l,c=this.es*s*s/(1-this.es);e=a*l*(1-h*u*(1/6-(8-u+8*c)*h/120)),n=this.a*ue(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*o/s*h*(.5+(5-u+6*c)*h/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var u=this.ml0/this.a+i,l=ge(u,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-s)<=a)return t.x=this.long0,t.y=s,i<0&&(t.y*=-1),t;var h=pe(this.a,this.e,Math.sin(l)),c=h*h*h/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(l),2),p=r*this.a/h,d=p*p;e=l-h*Math.tan(l)/c*p*p*(.5-(1+3*f)*p*p/24),n=p*(1-d*(f/3+(1+3*f)*f*d/15))/Math.cos(l)}return t.x=z(n+this.long0),t.y=de(e),t},names:["Cassini","Cassini_Soldner","cass"]},_e=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var me=.3333333333333333,ve=.17222222222222222,be=.10257936507936508,xe=.06388888888888888,we=.0664021164021164,Ee=.016415012942191543;var Me={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<a?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<a?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=_e(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*me,e=t*t,n[0]+=e*ve,n[1]=e*xe,e*=t,n[0]+=e*be,n[1]+=e*we,n[2]=e*Ee,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=_e(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,u,l,c,f,p,d=t.x,g=t.y;if(d=z(d-this.long0),this.sphere){if(o=Math.sin(g),p=Math.cos(g),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+p*r:1+this.sinph0*o+this.cosph0*p*r)<=a)return null;e=(n=Math.sqrt(2/n))*p*Math.sin(d),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*p*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(g+this.lat0)<a)return null;n=h-.5*g,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=r}}else{switch(l=0,c=0,f=0,r=Math.cos(d),i=Math.sin(d),o=Math.sin(g),u=_e(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(l=u/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:f=1+this.sinb1*l+this.cosb1*c*r;break;case this.EQUIT:f=1+c*r;break;case this.N_POLE:f=s+g,u=this.qp-u;break;case this.S_POLE:f=g-s,u=this.qp+u}if(Math.abs(f)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),n=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*l-this.sinb1*c*r):(f=Math.sqrt(2/(1+c*r)))*l*this.ymf,e=this.xmf*f*c*i;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(f=Math.sqrt(u))*i,n=r*(this.mode===this.S_POLE?f:-f)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,u,l,h=t.x/this.a,c=t.y/this.a;if(this.sphere){var f,p=0,d=0;if((n=.5*(f=Math.sqrt(h*h+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=a?0:Math.asin(c*d/f),h*=d,c=p*f;break;case this.OBLIQ:n=Math.abs(f)<=a?this.lat0:Math.asin(p*this.sinph0+c*d*this.cosph0/f),h*=d*this.cosph0,c=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:c=-c,n=s-n;break;case this.S_POLE:n-=s}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,c):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,c*=this.dd,(u=Math.sqrt(h*h+c*c))<a)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*u/this.rq),r=Math.cos(i),h*=i=Math.sin(i),this.mode===this.OBLIQ?(l=r*this.sinb1+c*i*this.cosb1/u,o=this.qp*l,c=u*this.cosb1*r-c*this.sinb1*i):(l=c*i/u,o=this.qp*l,c=u*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(o=h*h+c*c))return t.x=this.long0,t.y=this.lat0,t;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(h,c),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(l),this.apa)}return t.x=z(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Le=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Se={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=R(this.e3,this.sin_po,this.cos_po),this.qs1=_e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=R(this.e3,this.sin_po,this.cos_po),this.qs2=_e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_e(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>a?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=_e(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*z(e-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=z(i/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,s=Le(.5*e);if(t<a)return s;for(var u=t*t,l=1;l<=25;l++)if(s+=o=.5*(i=1-(r=t*(n=Math.sin(s)))*r)*i/Math.cos(s)*(e/(1-u)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return s;return null}};var Pe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,s,u,l=t.x,h=t.y;return r=z(l-this.long0),e=Math.sin(h),n=Math.cos(h),i=Math.cos(r),1,(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=a?(s=this.x0+1*this.a*n*Math.sin(r)/o,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(s=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=u,t},inverse:function(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),s=Le(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=z(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]};var Ce={init:function(){this.sphere||(this.k0=R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=z(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=_e(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=z(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*s:s;for(var r,i,o,a,u=Math.asin(.5*e),l=0;l<30;l++)if(i=Math.sin(u),o=Math.cos(u),a=t*i,u+=r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return u;return NaN}(this.e,2*t.y*this.k0/this.a),e=z(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var Ie={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=z(e-this.long0),i=de(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=z(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=de(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ke={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=le(this.es),this.e1=he(this.es),this.e2=ce(this.es),this.e3=fe(this.es),this.ml0=this.a*ue(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,s=z(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=a?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(de(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=a)e=this.a*s,n=-1*this.ml0;else{var u=pe(this.a,this.e,Math.sin(o))/Math.tan(o);e=u*Math.sin(r),n=this.a*ue(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+u*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,s,u,l,h;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=a)e=z(r/this.a+this.long0),n=0;else{var c;for(s=this.lat0+i/this.a,u=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(l+=h=-1*(s*(l*(c=Math.tan(l))+1)-l-.5*(l*l+u)*c)/((l-s)/c-1),Math.abs(h)<=a){n=l;break}e=z(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=a)n=0,e=z(this.long0+r/this.a);else{var f,p,d,g,y;for(s=(this.ml0+i)/this.a,u=r*r/this.a/this.a+s*s,l=s,o=20;o;--o)if(y=this.e*Math.sin(l),f=Math.sqrt(1-y*y)*Math.tan(l),p=this.a*ue(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=h=(s*(f*(g=p/this.a)+1)-g-.5*f*(g*g+u))/(this.es*Math.sin(2*l)*(g*g+u-2*s*g)/(4*f)+(s-g)*(f*d-2/Math.sin(2*l))-d),Math.abs(h)<=a){n=l;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=z(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var Te={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,s=r/o*1e-5,a=i,u=1,l=0;for(e=1;e<=10;e++)u*=s,l+=this.A[e]*u;var h,c=l,f=a,p=1,d=0,g=0,y=0;for(e=1;e<=6;e++)h=d*c+p*f,p=p*c-d*f,d=h,g=g+this.B_re[e]*p-this.B_im[e]*d,y=y+this.B_im[e]*p+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,s=r-this.x0,a=(i-this.y0)/this.a,u=s/this.a,l=1,h=0,c=0,f=0;for(e=1;e<=6;e++)n=h*a+l*u,l=l*a-h*u,h=n,c=c+this.C_re[e]*l-this.C_im[e]*h,f=f+this.C_im[e]*l+this.C_re[e]*h;for(var p=0;p<this.iterations;p++){var d,g=c,y=f,_=a,m=u;for(e=2;e<=6;e++)d=y*c+g*f,g=g*c-y*f,y=d,_+=(e-1)*(this.B_re[e]*g-this.B_im[e]*y),m+=(e-1)*(this.B_im[e]*g+this.B_re[e]*y);g=1,y=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)d=y*c+g*f,g=g*c-y*f,y=d,v+=e*(this.B_re[e]*g-this.B_im[e]*y),b+=e*(this.B_im[e]*g+this.B_re[e]*y);var x=v*v+b*b;c=(_*v+m*b)/x,f=(m*v-_*b)/x}var w=c,E=f,M=1,L=0;for(e=1;e<=9;e++)M*=w,L+=this.D[e]*M;var S=this.lat0+L*o*1e5,P=this.long0+E;return t.x=P,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]};var Ne={init:function(){},forward:function(t){var e=t.x,n=t.y,r=z(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=z(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]};var Oe={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ut(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=z(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=20;s;--s){var u=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=u,Math.abs(u)<a)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),h=Math.cos(i);n=this.a*qt(i,l,h,this.en),e=this.a*r*h/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=Le((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Le(Math.sin(e)/this.n)),r=z(r+this.long0),e=de(e)):(e=Vt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<s?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=z(n)):i-a<s&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]};var Ae={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=z(e-this.long0),i=n,o=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<a)break}i/=2,Math.PI/2-Math.abs(n)<a&&(r=0);var u=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=u,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=z(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]};var Re={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=le(this.es),this.e1=he(this.es),this.e2=ce(this.es),this.e3=fe(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=R(this.e,this.sinphi,this.cosphi),this.ml1=ue(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<a?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=R(this.e,this.sinphi,this.cosphi),this.ml2=ue(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ue(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=ue(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*z(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=z(this.long0+o/this.ns),r=de(this.g-n/this.a),t.x=i,t.y=r,t;var s=this.g-n/this.a;return r=ge(s,this.e0,this.e1,this.e2,this.e3),i=z(this.long0+o/this.ns),t.x=i,t.y=r,t},names:["Equidistant_Conic","eqdc"]};var De={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=z(r-this.long0);Math.abs(i)<=a&&(e=this.x0+this.R*o,n=this.y0);var u=Le(2*Math.abs(i/Math.PI));(Math.abs(o)<=a||Math.abs(Math.abs(i)-s)<=a)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var l=.5*Math.abs(Math.PI/o-o/Math.PI),h=l*l,c=Math.sin(u),f=Math.cos(u),p=f/(c+f-1),d=p*p,g=p*(2/c-1),y=g*g,_=Math.PI*this.R*(l*(p-y)+Math.sqrt(h*(p-y)*(p-y)-(y+h)*(d-y)))/(y+h);o<0&&(_=-_),e=this.x0+_;var m=h+p;return _=Math.PI*this.R*(g*m-l*Math.sqrt((y+h)*(h+1)-m*m))/(y+h),n=i>=0?this.y0+_:this.y0-_,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,s,u,l,h,c,f,p;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,o=(r=t.x/f)*r+(i=t.y/f)*i,f=3*(i*i/(l=-2*(s=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(u=s-2*i*i+r*r)*u*u/l/l/l-9*s*u/l/l)/27)/(h=(s-u*u/3/l)/l)/(c=2*Math.sqrt(-h/3)),Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,n=t.y>=0?(-c*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI,e=Math.abs(r)<a?this.long0:z(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var ze={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,u,l,h,c,f,p,d,g,y,_,m,v,b,x,w,E,M,L=t.x,S=t.y,P=Math.sin(t.y),C=Math.cos(t.y),I=z(L-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(s-S)*Math.sin(I),t.y=this.y0-this.a*(s-S)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(s+S)*Math.sin(I),t.y=this.y0+this.a*(s+S)*Math.cos(I),t):(b=this.sin_p12*P+this.cos_p12*C*Math.cos(I),v=(m=Math.acos(b))?m/Math.sin(m):1,t.x=this.x0+this.a*v*C*Math.sin(I),t.y=this.y0+this.a*v*(this.cos_p12*P-this.sin_p12*C*Math.cos(I)),t):(e=le(this.es),n=he(this.es),r=ce(this.es),i=fe(this.es),Math.abs(this.sin_p12-1)<=a?(o=this.a*ue(e,n,r,i,s),u=this.a*ue(e,n,r,i,S),t.x=this.x0+(o-u)*Math.sin(I),t.y=this.y0-(o-u)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=a?(o=this.a*ue(e,n,r,i,s),u=this.a*ue(e,n,r,i,S),t.x=this.x0+(o+u)*Math.sin(I),t.y=this.y0+(o+u)*Math.cos(I),t):(l=P/C,h=pe(this.a,this.e,this.sin_p12),c=pe(this.a,this.e,P),f=Math.atan((1-this.es)*l+this.es*h*this.sin_p12/(c*C)),x=0===(p=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(f)-this.sin_p12*Math.cos(I)))?Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.abs(Math.abs(p)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.asin(Math.sin(I)*Math.cos(f)/Math.sin(p)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),m=h*x*(1-(w=x*x)*(_=(g=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*g)*(1-_)/6+(E=w*x)/8*(y=d*g)*(1-2*_)+(M=E*x)/120*(_*(4-7*_)-3*d*d*(1-7*_))-M*x/48*y),t.x=this.x0+m*Math.sin(p),t.y=this.y0+m*Math.cos(p),t))},inverse:function(t){var e,n,r,i,o,u,l,h,c,f,p,d,g,y,_,m,v,b,x,w,E,M,L;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=a?u=this.lat0:(u=Le(i*this.sin_p12+t.y*r*this.cos_p12/e),l=Math.abs(this.lat0)-s,o=Math.abs(l)<=a?this.lat0>=0?z(this.long0+Math.atan2(t.x,-t.y)):z(this.long0-Math.atan2(-t.x,t.y)):z(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=u,t}return h=le(this.es),c=he(this.es),f=ce(this.es),p=fe(this.es),Math.abs(this.sin_p12-1)<=a?(d=this.a*ue(h,c,f,p,s),e=Math.sqrt(t.x*t.x+t.y*t.y),u=ge((d-e)/this.a,h,c,f,p),o=z(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=u,t):Math.abs(this.sin_p12+1)<=a?(d=this.a*ue(h,c,f,p,s),e=Math.sqrt(t.x*t.x+t.y*t.y),u=ge((e-d)/this.a,h,c,f,p),o=z(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=u,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),_=Math.atan2(t.x,t.y),g=pe(this.a,this.e,this.sin_p12),m=Math.cos(_),b=-(v=this.e*this.cos_p12*m)*v/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*m/(1-this.es),M=1-b*(E=(w=e/g)-b*(1+b)*Math.pow(w,3)/6-x*(1+3*b)*Math.pow(w,4)/24)*E/2-w*E*E*E/6,y=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*m),o=z(this.long0+Math.asin(Math.sin(_)*Math.sin(E)/Math.cos(y))),L=Math.sin(y),u=Math.atan2((L-this.es*M*this.sin_p12)*Math.tan(y),L*(1-this.es)),t.x=o,t.y=u,t)},names:["Azimuthal_Equidistant","aeqd"]};var Fe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,s,u,l=t.x,h=t.y;return r=z(l-this.long0),e=Math.sin(h),n=Math.cos(h),i=Math.cos(r),1,((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=a)&&(s=1*this.a*n*Math.sin(r),u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=s,t.y=u,t},inverse:function(t){var e,n,r,i,o,u,l;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Le(e/this.a),r=Math.sin(n),i=Math.cos(n),u=this.long0,Math.abs(e)<=a?(l=this.lat0,t.x=u,t.y=l,t):(l=Le(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-s,Math.abs(o)<=a?(u=this.lat0>=0?z(this.long0+Math.atan2(t.x,-t.y)):z(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=l,t):(u=z(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=u,t.y=l,t))},names:["ortho"]},Be=1,je=2,Ge=3,Ue=4,qe=5,Ve=6,He=1,Ze=2,Ye=3,Xe=4;function We(t,e,n,r){var i;return t<a?(r.value=He,i=0):(i=Math.atan2(e,n),Math.abs(i)<=h?r.value=He:i>h&&i<=s+h?(r.value=Ze,i-=s):i>s+h||i<=-(s+h)?(r.value=Ye,i=i>=0?i-f:i+f):(r.value=Xe,i+=s)),i}function Qe(t,e){var n=t+e;return n<-f?n+=c:n>+f&&(n-=c),n}var Ke={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-h/2?this.face=qe:this.lat0<=-(s-h/2)?this.face=Ve:Math.abs(this.long0)<=h?this.face=Be:Math.abs(this.long0)<=s+h?this.face=this.long0>0?je:Ue:this.face=Ge,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,a,u={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===qe)i=s-e,n>=h&&n<=s+h?(l.value=He,r=n-s):n>s+h||n<=-(s+h)?(l.value=Ze,r=n>0?n-f:n+f):n>-(s+h)&&n<=-h?(l.value=Ye,r=n+s):(l.value=Xe,r=n);else if(this.face===Ve)i=s+e,n>=h&&n<=s+h?(l.value=He,r=-n+s):n<h&&n>=-h?(l.value=Ze,r=-n):n<-h&&n>=-(s+h)?(l.value=Ye,r=-n-s):(l.value=Xe,r=n>0?-n+f:-n-f);else{var c,p,d,g,y,_;this.face===je?n=Qe(n,+s):this.face===Ge?n=Qe(n,+f):this.face===Ue&&(n=Qe(n,-s)),g=Math.sin(e),y=Math.cos(e),_=Math.sin(n),c=y*Math.cos(n),p=y*_,d=g,this.face===Be?r=We(i=Math.acos(c),d,p,l):this.face===je?r=We(i=Math.acos(p),d,-c,l):this.face===Ge?r=We(i=Math.acos(-c),d,-p,l):this.face===Ue?r=We(i=Math.acos(-p),d,c,l):(i=r=0,l.value=He)}return a=Math.atan(12/f*(r+Math.acos(Math.sin(r)*Math.cos(h))-s)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ze?a+=s:l.value===Ye?a+=f:l.value===Xe&&(a+=1.5*f),u.x=o*Math.cos(a),u.y=o*Math.sin(a),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t},inverse:function(t){var e,n,r,i,o,a,u,l,h,c,p,d,g={lam:0,phi:0},y={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?y.value=He:t.y>=0&&t.y>=Math.abs(t.x)?(y.value=Ze,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(y.value=Ye,e=e<0?e+f:e-f):(y.value=Xe,e+=s),h=f/12*Math.tan(e),o=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),a=Math.atan(o),(u=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?u=-1:u>1&&(u=1),this.face===qe)l=Math.acos(u),g.phi=s-l,y.value===He?g.lam=a+s:y.value===Ze?g.lam=a<0?a+f:a-f:y.value===Ye?g.lam=a-s:g.lam=a;else if(this.face===Ve)l=Math.acos(u),g.phi=l-s,y.value===He?g.lam=-a+s:y.value===Ze?g.lam=-a:y.value===Ye?g.lam=-a-s:g.lam=a<0?-a-f:-a+f;else{var _,m,v;h=(_=u)*_,m=(h+=(v=h>=1?0:Math.sqrt(1-h)*Math.sin(a))*v)>=1?0:Math.sqrt(1-h),y.value===Ze?(h=m,m=-v,v=h):y.value===Ye?(m=-m,v=-v):y.value===Xe&&(h=m,m=v,v=-h),this.face===je?(h=_,_=-m,m=h):this.face===Ge?(_=-_,m=-m):this.face===Ue&&(h=_,_=m,m=-h),g.phi=Math.acos(-v)-s,g.lam=Math.atan2(m,_),this.face===je?g.lam=Qe(g.lam,-s):this.face===Ge?g.lam=Qe(g.lam,-f):this.face===Ue&&(g.lam=Qe(g.lam,+s))}return 0!==this.es&&(c=g.phi<0?1:0,p=Math.tan(g.phi),d=this.b/Math.sqrt(p*p+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),c&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Je=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],$e=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],tn=.8487,en=1.3523,nn=l/5,rn=18,on=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};var sn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=z(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*nn);r<0?r=0:r>=rn&&(r=17);var i={x:on(Je[r],n=l*(n-.08726646259971647*r))*e,y:on($e[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*tn+this.x0,i.y=i.y*this.a*en+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*tn),y:Math.abs(t.y-this.y0)/(this.a*en)};if(e.y>=1)e.x/=Je[18][0],e.y=t.y<0?-s:s;else{var n=Math.floor(e.y*rn);for(n<0?n=0:n>=rn&&(n=17);;)if($e[n][0]>e.y)--n;else{if(!($e[n+1][0]<=e.y))break;++n}var r=$e[n],i=5*(e.y-r[0])/($e[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}((function(t){return(on(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)}),i,a,100),e.x/=on(Je[n],i),e.y=(5*n+i)*u,t.y<0&&(e.y=-e.y)}return e.x=z(e.x+this.long0),e},names:["Robinson","robin"]};var an={init:function(){this.name="geocent"},forward:function(t){return ot(t,this.es,this.a)},inverse:function(t){return st(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},un=0,ln=1,hn=2,cn=3,fn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var pn,dn={init:function(){if(Object.keys(fn).forEach(function(t){if("undefined"===typeof this[t])this[t]=fn[t].def;else{if(fn[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);fn[t].num&&(this[t]=parseFloat(this[t]))}fn[t].degrees&&(this[t]=this[t]*u)}.bind(this)),Math.abs(Math.abs(this.lat0)-s)<a?this.mode=this.lat0<0?ln:un:Math.abs(this.lat0)<a?this.mode=hn:(this.mode=cn,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,r,i,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case cn:n=this.sinph0*o+this.cosph0*s*a;break;case hn:n=s*a;break;case ln:n=-o;break;case un:n=o}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case cn:n*=this.cosph0*o-this.sinph0*s*a;break;case hn:n*=o;break;case un:n*=-s*a;break;case ln:n*=s*a}return i=1/((r=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*i,n=r*i,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,r,i={x:t.x,y:t.y};r=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*r,n=this.pn1*t.y*this.cw*r,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var o=Yt(t.x,t.y);if(Math.abs(o)<a)i.x=0,i.y=t.y;else{var s,u;switch(u=1-o*o*this.pfact,u=(this.p-Math.sqrt(u))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-u*u),this.mode){case cn:i.y=Math.asin(s*this.sinph0+t.y*u*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(i.y))*o,t.x*=u*this.cosph0;break;case hn:i.y=Math.asin(t.y*u/o),t.y=s*o,t.x*=u;break;case un:i.y=Math.asin(s),t.y=-t.y;break;case ln:i.y=-Math.asin(s)}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t},names:["Tilted_Perspective","tpers"]};vt.defaultDatum="WGS84",vt.Proj=it,vt.WGS84=new vt.Proj("WGS84"),vt.Point=Ft,vt.toPoint=pt,vt.defs=k,vt.nadgrid=function(t,e){var n=new DataView(e),r=function(t){var e=t.getInt32(8,!1);if(11===e)return!1;11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),i=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:$(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,r);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o={header:i,subgrids:function(t,e,n){for(var r=176,i=[],o=0;o<e.nSubgrids;o++){var s=et(t,r,n),a=nt(t,r,s,n),u=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),l=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[J(s.lowerLongitude),J(s.lowerLatitude)],del:[J(s.longitudeInterval),J(s.latitudeInterval)],lim:[u,l],count:s.gridNodeCount,cvs:tt(a)})}return i}(n,i,r)};return Q[t]=o,o},vt.transform=gt,vt.mgrs=Pt,vt.version="__VERSION__",(pn=vt).Proj.projections.add(Ht),pn.Proj.projections.add(Kt),pn.Proj.projections.add(Jt),pn.Proj.projections.add(ee),pn.Proj.projections.add(ne),pn.Proj.projections.add(re),pn.Proj.projections.add(oe),pn.Proj.projections.add(se),pn.Proj.projections.add(ae),pn.Proj.projections.add(ye),pn.Proj.projections.add(Me),pn.Proj.projections.add(Se),pn.Proj.projections.add(Pe),pn.Proj.projections.add(Ce),pn.Proj.projections.add(Ie),pn.Proj.projections.add(ke),pn.Proj.projections.add(Te),pn.Proj.projections.add(Ne),pn.Proj.projections.add(Oe),pn.Proj.projections.add(Ae),pn.Proj.projections.add(Re),pn.Proj.projections.add(De),pn.Proj.projections.add(ze),pn.Proj.projections.add(Fe),pn.Proj.projections.add(Ke),pn.Proj.projections.add(sn),pn.Proj.projections.add(an),pn.Proj.projections.add(dn);e.default=vt},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(124)},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n(4),i=n.n(r);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function a(t,e,n,r){void 0===e&&(e=""),void 0===r&&(r={});var i=document.createElement(t);return e&&(i.className=e),Object.keys(r).forEach((function(t){if("function"==typeof r[t]){var e=0===t.indexOf("on")?t.substr(2).toLowerCase():t;i.addEventListener(e,r[t])}else"html"===t?i.innerHTML=r[t]:"text"===t?i.innerText=r[t]:i.setAttribute(t,r[t])})),n&&n.appendChild(i),i}function u(t){t.preventDefault(),t.stopPropagation()}var l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ").trim()};function h(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)||t.classList.add(e)}))}function c(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)&&t.classList.remove(e)}))}var f,p,d=13,g=40,y=38,_=[d,27,g,y,37,39],m=function(){function t(t){var e=this,n=t.handleSubmit,r=t.searchLabel,i=t.classNames,o=void 0===i?{}:i;this.hasError=!1,this.container=a("div",l("geosearch",o.container)),this.form=a("form",["",o.form].join(" "),this.container,{autocomplete:"none",onClick:u,onDblClick:u,touchStart:u,touchEnd:u}),this.input=a("input",["glass",o.input].join(" "),this.form,{type:"text",placeholder:r||"search",onInput:this.onInput,onKeyUp:function(t){return e.onKeyUp(t)},onKeyPress:function(t){return e.onKeyPress(t)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){e.input.focus(),e.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=n}var e=t.prototype;return e.onFocus=function(){h(this.form,"active")},e.onBlur=function(){c(this.form,"active")},e.onSubmit=function(t){try{var e=this;return u(t),c(n=e.container,"error"),h(n,"pending"),Promise.resolve(e.handleSubmit({query:e.input.value})).then((function(){c(e.container,"pending")}))}catch(t){return Promise.reject(t)}var n},e.onInput=function(){this.hasError&&(c(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(t){27===t.keyCode&&(c(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(t){t.keyCode===d&&this.onSubmit(t)},e.setQuery=function(t){this.input.value=t},t}(),v=function(){function t(t){var e=this,n=t.handleClick,r=t.classNames,i=void 0===r?{}:r;this.selected=-1,this.results=[],this.onClick=function(t){if("function"==typeof e.handleClick){var n=t.target;if(n&&e.container.contains(n)&&n.hasAttribute("data-key")){var r=Number(n.getAttribute("data-key"));e.clear(),e.handleClick({result:e.results[r]})}}},this.handleClick=n,this.container=a("div",l("results",i.container)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=a("div",l(i.item))}var e=t.prototype;return e.render=function(t,e){var n=this;void 0===t&&(t=[]),this.clear(),t.forEach((function(t,r){var i=n.resultItem.cloneNode(!0);i.setAttribute("data-key",""+r),i.innerHTML=e({result:t}),n.container.appendChild(i)})),t.length>0&&(h(this.container.parentElement,"open"),h(this.container,"active")),this.results=t},e.select=function(t){return Array.from(this.container.children).forEach((function(e,n){return n===t?h(e,"active"):c(e,"active")})),this.selected=t,this.results[t]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);c(this.container.parentElement,"open"),c(this.container,"active")},t}(),b={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:i.a&&i.a.Icon?new i.a.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},x="Leaflet must be loaded before instantiating the GeoSearch control";o({},b),o({},b.classNames);(p=f||(f={}))[p.SEARCH=0]="SEARCH",p[p.REVERSE=1]="REVERSE";var w=function(){function t(t){void 0===t&&(t={}),this.options=t}var e=t.prototype;return e.getParamString=function(t){void 0===t&&(t={});var e=o({},this.options.params,{},t);return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e.getUrl=function(t,e){return t+"?"+this.getParamString(e)},e.search=function(t){try{var e=this,n=e.endpoint({query:t.query,type:f.SEARCH});return Promise.resolve(fetch(n)).then((function(t){return Promise.resolve(t.json()).then((function(t){return e.parse({data:t})}))}))}catch(t){return Promise.reject(t)}},t}(),E=(function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;n.endpoint=function(){return"https://places-dsn.algolia.net/1/places/query"},n.findBestMatchLevelIndex=function(t){var e=t.find((function(t){return"full"===t.matchLevel}))||t.find((function(t){return"partial"===t.matchLevel}));return e?t.indexOf(e):0},n.getLabel=function(t){var e,n,r,i;return[null==(e=t.locale_names)?void 0:e.default[this.findBestMatchLevelIndex(t._highlightResult.locale_names.default)],null==(n=t.city)?void 0:n.default[this.findBestMatchLevelIndex(t._highlightResult.city.default)],t.administrative[this.findBestMatchLevelIndex(t._highlightResult.administrative)],null==(r=t.postcode)?void 0:r[this.findBestMatchLevelIndex(t._highlightResult.postcode)],null==(i=t.country)?void 0:i.default].filter(Boolean).join(", ")},n.parse=function(t){var e=this;return t.data.hits.map((function(t){return{x:t._geoloc.lng,y:t._geoloc.lat,label:e.getLabel(t),bounds:null,raw:t}}))},n.search=function(t){var e=t.query;try{var n=this,r="string"==typeof e?{query:e}:e;return Promise.resolve(fetch(n.endpoint(),{method:"POST",body:JSON.stringify(o({},n.options.params,{},r))})).then((function(t){return Promise.resolve(t.json()).then((function(t){return n.parse({data:t})}))}))}catch(t){return Promise.reject(t)}}}(w),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://dev.virtualearth.net/REST/v1/Locations",e}s(e,t);var n=e.prototype;n.endpoint=function(t){var e=t.query,n="string"==typeof e?{q:e}:e;return n.jsonp=t.jsonp,this.getUrl(this.searchUrl,n)},n.parse=function(t){return 0===t.data.resourceSets.length?[]:t.data.resourceSets[0].resources.map((function(t){return{x:t.point.coordinates[1],y:t.point.coordinates[0],label:t.address.formattedAddress,bounds:[[t.bbox[0],t.bbox[1]],[t.bbox[2],t.bbox[3]]],raw:t}}))},n.search=function(t){var e,n,r,i=t.query;try{var o=this,s="BING_JSONP_CB_"+Date.now();return Promise.resolve((e=o.endpoint({query:i,jsonp:s}),n=s,r=a("script",null,document.body),r.setAttribute("type","text/javascript"),new Promise((function(t){window[n]=function(e){r.remove(),delete window[n],t(e)},r.setAttribute("src",e)})))).then((function(t){return o.parse({data:t})}))}catch(t){return Promise.reject(t)}}}(w),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",e}s(e,t);var n=e.prototype;n.endpoint=function(t){var e=t.query,n="string"==typeof e?{text:e}:e;return n.f="json",this.getUrl(this.searchUrl,n)},n.parse=function(t){return t.data.locations.map((function(t){return{x:t.feature.geometry.x,y:t.feature.geometry.y,label:t.name,bounds:[[t.extent.ymin,t.extent.xmin],[t.extent.ymax,t.extent.xmax]],raw:t}}))}}(w),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://maps.googleapis.com/maps/api/geocode/json",e}s(e,t);var n=e.prototype;n.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{address:e}:e)},n.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.location.lng,y:t.geometry.location.lat,label:t.formatted_address,bounds:[[t.geometry.viewport.southwest.lat,t.geometry.viewport.southwest.lng],[t.geometry.viewport.northeast.lat,t.geometry.viewport.northeast.lng]],raw:t}}))}}(w),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://geocode.search.hereapi.com/v1/geocode",e}s(e,t);var n=e.prototype;n.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{q:e}:e)},n.parse=function(t){return t.data.items.map((function(t){return{x:t.position.lng,y:t.position.lat,label:t.address.label,bounds:null,raw:t}}))}}(w),function(t){function e(e){var n;void 0===e&&(e={});var r="https://nominatim.openstreetmap.org";return(n=t.call(this,e)||this).searchUrl=e.searchUrl||r+"/search",n.reverseUrl=e.reverseUrl||r+"/reverse",n}s(e,t);var n=e.prototype;return n.endpoint=function(t){var e=t.query,n=t.type,r="string"==typeof e?{q:e}:e;switch(r.format="json",n){case f.REVERSE:return this.getUrl(this.reverseUrl,r);default:return this.getUrl(this.searchUrl,r)}},n.parse=function(t){return(Array.isArray(t.data)?t.data:[t.data]).map((function(t){return{x:Number(t.lon),y:Number(t.lat),label:t.display_name,bounds:[[parseFloat(t.boundingbox[0]),parseFloat(t.boundingbox[2])],[parseFloat(t.boundingbox[1]),parseFloat(t.boundingbox[3])]],raw:t}}))},e}(w));(function(t){function e(e){return t.call(this,o({},e,{searchUrl:"https://locationiq.org/v1/search.php",reverseUrl:"https://locationiq.org/v1/reverse.php"}))||this}s(e,t)})(E),function(t){function e(){var e;return(e=t.apply(this,arguments)||this).searchUrl="https://api.opencagedata.com/geocode/v1/json",e}s(e,t);var n=e.prototype;n.endpoint=function(t){var e=t.query,n="string"==typeof e?{q:e}:e;return n.format="json",this.getUrl(this.searchUrl,n)},n.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.lng,y:t.geometry.lat,label:t.formatted,bounds:[[t.bounds.southwest.lat,t.bounds.southwest.lng],[t.bounds.northeast.lat,t.bounds.northeast.lng]],raw:t}}))},n.search=function(e){try{return Promise.resolve(e.query.length<2?[]:t.prototype.search.call(this,e))}catch(t){return Promise.reject(t)}}}(w),function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).searchUrl=e.searchUrl||"https://a.tiles.mapbox.com/v4/geocode/mapbox.places/",n}s(e,t);var n=e.prototype;n.endpoint=function(t){return this.getUrl(""+this.searchUrl+t.query+".json")},n.parse=function(t){return(Array.isArray(t.data.features)?t.data.features:[]).map((function(t){var e=null;return t.bbox&&(e=[[parseFloat(t.bbox[1]),parseFloat(t.bbox[0])],[parseFloat(t.bbox[3]),parseFloat(t.bbox[2])]]),{x:Number(t.center[0]),y:Number(t.center[1]),label:t.place_name?t.place_name:t.text,bounds:e,raw:t}}))}}(w)},function(t,e,n){t.exports=n(170)},,,,,function(t,e,n){"use strict";var r=n(8),i=n(15);function o(t,e,n,o){void 0===o&&(o={});var s=Object(i.a)(t),a=Object(r.a)(s[0]),u=Object(r.a)(s[1]),l=Object(r.a)(n),h=Object(r.e)(e,o.units),c=Math.asin(Math.sin(u)*Math.cos(h)+Math.cos(u)*Math.sin(h)*Math.cos(l)),f=a+Math.atan2(Math.sin(l)*Math.sin(h)*Math.cos(u),Math.cos(h)-Math.sin(u)*Math.sin(c)),p=Object(r.j)(f),d=Object(r.j)(c);return Object(r.h)([p,d],o.properties)}e.a=function(t,e,n){void 0===n&&(n={});for(var i=n.steps||64,s=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},a=[],u=0;u<i;u++)a.push(o(t,e,-360*u/i,n).geometry.coordinates);return a.push(a[0]),Object(r.i)([a],s)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(52),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,h=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}function x(){}function w(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(_(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var E=w.prototype=new x;E.constructor=w,r(E,b.prototype),E.isPureReactComponent=!0;var M={current:null},L=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function P(t,e,n){var r,i={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)L.call(e,r)&&!S.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:s,ref:a,props:i,_owner:M.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var I=/\/+/g,k=[];function T(t,e,n,r){if(k.length){var i=k.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>k.length&&k.push(t)}function O(t,e,n,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var a=!1;if(null===t)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o:case s:a=!0}}if(a)return n(r,t,""===e?"."+R(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=e+R(i=t[u],u);a+=O(i,l,n,r)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),u=0;!(i=t.next()).done;)a+=O(i=i.value,l=e+R(i,u++),n,r);else if("object"===i)throw n=""+t,Error(_(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function A(t,e,n){return null==t?0:O(t,"",e,n)}function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function z(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(C(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),A(t,z,e=T(e,o,r,i)),N(e)}var B={current:null};function j(){var t=B.current;if(null===t)throw Error(_(321));return t}var G={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;A(t,D,e=T(null,null,e,n)),N(e)},count:function(t){return A(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!C(t))throw Error(_(143));return t}},e.Component=b,e.Fragment=a,e.Profiler=l,e.PureComponent=w,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(_(267,t));var i=r({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=M.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)L.call(e,h)&&!S.hasOwnProperty(h)&&(i[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)i.children=n;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:o,type:t.type,key:s,ref:a,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:t},t.Consumer=t},e.createElement=P,e.createFactory=function(t){var e=P.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return j().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,n){return j().useReducer(t,e,n)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="16.14.0"},function(t,e,n){"use strict";var r=n(13),i=n(52),o=n(125);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(h){this.onError(h)}}var u=!1,l=null,h=!1,c=null,f={onError:function(t){u=!0,l=t}};function p(t,e,n,r,i,o,s,h,c){u=!1,l=null,a.apply(f,arguments)}var d=null,g=null,y=null;function _(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,i,o,a,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(s(198));var g=l;u=!1,l=null,h||(h=!0,c=g)}}(r,e,void 0,t),t.currentTarget=null}var m=null,v={};function b(){if(m)for(var t in v){var e=v[t],n=m.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!w[n]){if(!e.extractEvents)throw Error(s(97,t));for(var r in w[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,u=r;if(E.hasOwnProperty(u))throw Error(s(99,u));E[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&x(l[i],a,u);i=!0}else o.registrationName?(x(o.registrationName,a,u),i=!0):i=!1;if(!i)throw Error(s(98,r,t))}}}}function x(t,e,n){if(M[t])throw Error(s(100,t));M[t]=e,L[t]=e.eventTypes[n].dependencies}var w=[],E={},M={},L={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!v.hasOwnProperty(e)||v[e]!==r){if(v[e])throw Error(s(102,e));v[e]=r,n=!0}}n&&b()}var P=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,I=null,k=null;function T(t){if(t=g(t)){if("function"!==typeof C)throw Error(s(280));var e=t.stateNode;e&&(e=d(e),C(t.stateNode,t.type,e))}}function N(t){I?k?k.push(t):k=[t]:I=t}function O(){if(I){var t=I,e=k;if(k=I=null,T(t),e)for(t=0;t<e.length;t++)T(e[t])}}function A(t,e){return t(e)}function R(t,e,n,r,i){return t(e,n,r,i)}function D(){}var z=A,F=!1,B=!1;function j(){null===I&&null===k||(D(),O())}function G(t,e,n){if(B)return t(e,n);B=!0;try{return z(t,e,n)}finally{B=!1,j()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,V={},H={};function Z(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Y[t]=new Z(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Y[e]=new Z(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Y[t]=new Z(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Y[t]=new Z(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Y[t]=new Z(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Y[t]=new Z(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Y[t]=new Z(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Y[t]=new Z(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Y[t]=new Z(t,5,!1,t.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function W(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(X,W);Y[e]=new Z(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(X,W);Y[e]=new Z(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(X,W);Y[e]=new Z(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Y[t]=new Z(t,1,!1,t.toLowerCase(),null,!1)})),Y.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Y[t]=new Z(t,1,!1,t.toLowerCase(),null,!0)}));var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(t,e,n,r){var i=Y.hasOwnProperty(e)?Y[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!q.call(H,t)||!q.call(V,t)&&(U.test(t)?H[t]=!0:(V[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,tt=$?Symbol.for("react.element"):60103,et=$?Symbol.for("react.portal"):60106,nt=$?Symbol.for("react.fragment"):60107,rt=$?Symbol.for("react.strict_mode"):60108,it=$?Symbol.for("react.profiler"):60114,ot=$?Symbol.for("react.provider"):60109,st=$?Symbol.for("react.context"):60110,at=$?Symbol.for("react.concurrent_mode"):60111,ut=$?Symbol.for("react.forward_ref"):60112,lt=$?Symbol.for("react.suspense"):60113,ht=$?Symbol.for("react.suspense_list"):60120,ct=$?Symbol.for("react.memo"):60115,ft=$?Symbol.for("react.lazy"):60116,pt=$?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case lt:return"Suspense";case ht:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case ot:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return yt(t.type);case pt:return yt(t.render);case ft:if(t=1===t._status?t._result:null)return yt(t)}return null}function _t(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=yt(t.type);n=null,r&&(n=yt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function wt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Et(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Mt(t,e){null!=(e=e.checked)&&K(t,"checked",e,!1)}function Lt(t,e){Mt(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Pt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pt(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Pt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ct(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function It(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function kt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Nt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var At="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ft,Bt,jt=(Bt=function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((Ft=Ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return Bt(t,e)}))}:Bt);function Gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Vt={},Ht={};function Zt(t){if(Vt[t])return Vt[t];if(!qt[t])return t;var e,n=qt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return Vt[t]=n[e];return t}P&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete qt.animationend.animation,delete qt.animationiteration.animation,delete qt.animationstart.animation),"TransitionEvent"in window||delete qt.transitionend.transition);var Yt=Zt("animationend"),Xt=Zt("animationiteration"),Wt=Zt("animationstart"),Qt=Zt("transitionend"),Kt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"===typeof WeakMap?WeakMap:Map);function $t(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(s(188))}function re(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ne(i),t;if(o===r)return ne(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var se=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)_(t,e[r],n[r]);else e&&_(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ue(t){if(null!==t&&(se=ie(se,t)),t=se,se=null,t){if(oe(t,ae),se)throw Error(s(95));if(h)throw t=c,h=!1,c=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function he(t){if(!P)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function pe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=le(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<w.length;u++){var l=w[u];l&&(l=l.extractEvents(r,e,o,i,s))&&(a=ie(a,l))}ue(a)}}function ge(t,e,n){if(!n.has(t)){switch(t){case"scroll":We(e,"scroll",!0);break;case"focus":case"blur":We(e,"focus",!0),We(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":he(t)&&We(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Kt.indexOf(t)&&Xe(t,e)}n.set(t,null)}}var ye,_e,me,ve=!1,be=[],xe=null,we=null,Ee=null,Me=new Map,Le=new Map,Se=[],Pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ie(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function ke(t,e){switch(t){case"focus":case"blur":xe=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Le.delete(e.pointerId)}}function Te(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ie(e,n,r,i,o),null!==e&&(null!==(e=Nn(e))&&_e(e)),t):(t.eventSystemFlags|=r,t)}function Ne(t){var e=Tn(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){me(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Oe(t){if(null!==t.blockedOn)return!1;var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Nn(e);return null!==n&&_e(n),t.blockedOn=e,!1}return!0}function Ae(t,e,n){Oe(t)&&n.delete(e)}function Re(){for(ve=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Nn(t.blockedOn))&&ye(t);break}var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==xe&&Oe(xe)&&(xe=null),null!==we&&Oe(we)&&(we=null),null!==Ee&&Oe(Ee)&&(Ee=null),Me.forEach(Ae),Le.forEach(Ae)}function De(t,e){t.blockedOn===e&&(t.blockedOn=null,ve||(ve=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Re)))}function ze(t){function e(e){return De(e,t)}if(0<be.length){De(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==xe&&De(xe,t),null!==we&&De(we,t),null!==Ee&&De(Ee,t),Me.forEach(e),Le.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Ne(n),null===n.blockedOn&&Se.shift()}var Fe={},Be=new Map,je=new Map,Ge=["abort","abort",Yt,"animationEnd",Xt,"animationIteration",Wt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},je.set(r,e),Be.set(r,o),Fe[i]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ge,2);for(var qe="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ve=0;Ve<qe.length;Ve++)je.set(qe[Ve],0);var He=o.unstable_UserBlockingPriority,Ze=o.unstable_runWithPriority,Ye=!0;function Xe(t,e){We(e,t,!1)}function We(t,e,n){var r=je.get(e);switch(void 0===r?2:r){case 0:r=Qe.bind(null,e,1,t);break;case 1:r=Ke.bind(null,e,1,t);break;default:r=Je.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Qe(t,e,n,r){F||D();var i=Je,o=F;F=!0;try{R(i,t,e,n,r)}finally{(F=o)||j()}}function Ke(t,e,n,r){Ze(He,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){if(Ye)if(0<be.length&&-1<Pe.indexOf(t))t=Ie(null,t,e,n,r),be.push(t);else{var i=$e(t,e,n,r);if(null===i)ke(t,r);else if(-1<Pe.indexOf(t))t=Ie(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return xe=Te(xe,t,e,n,r,i),!0;case"dragenter":return we=Te(we,t,e,n,r,i),!0;case"mouseover":return Ee=Te(Ee,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Me.set(o,Te(Me.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Le.set(o,Te(Le.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){ke(t,r),t=pe(t,r,null,e);try{G(de,t)}finally{fe(t)}}}}function $e(t,e,n,r){if(null!==(n=Tn(n=le(r)))){var i=te(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ee(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=pe(t,r,n,e);try{G(de,t)}finally{fe(t)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function nn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||tn.hasOwnProperty(t)&&tn[t]?(""+e).trim():e+"px"}function rn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(tn).forEach((function(t){en.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tn[e]=tn[t]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(t,e){if(e){if(on[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=At;function ln(t,e){var n=$t(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=L[e];for(var r=0;r<e.length;r++)ge(e[r],t,n)}function hn(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function fn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pn(t,e){var n,r=fn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fn(r)}}function dn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function yn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var _n="$?",mn="$!",vn=null,bn=null;function xn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function wn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,Mn="function"===typeof clearTimeout?clearTimeout:void 0;function Ln(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Sn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||n===mn||n===_n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Pn,In="__reactEventHandlers$"+Pn,kn="__reactContainere$"+Pn;function Tn(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[Cn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Sn(t);null!==t;){if(n=t[Cn])return n;t=Sn(t)}return e}n=(t=n).parentNode}return null}function Nn(t){return!(t=t[Cn]||t[kn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function On(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function An(t){return t[In]||null}function Rn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Dn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function zn(t,e,n){(e=Dn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Fn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Rn(e);for(e=n.length;0<e--;)zn(n[e],"captured",t);for(e=0;e<n.length;e++)zn(n[e],"bubbled",t)}}function Bn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Dn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function jn(t){t&&t.dispatchConfig.registrationName&&Bn(t._targetInst,null,t)}function Gn(t){oe(t,Fn)}var Un=null,qn=null,Vn=null;function Hn(){if(Vn)return Vn;var t,e,n=qn,r=n.length,i="value"in Un?Un.value:Un.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return Vn=i.slice(t,1<e?1-e:void 0)}function Zn(){return!0}function Yn(){return!1}function Xn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Zn:Yn,this.isPropagationStopped=Yn,this}function Wn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Qn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kn(t){t.eventPool=[],t.getPooled=Wn,t.release=Qn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){this.isPersistent=Zn},isPersistent:Yn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Kn(n),n},Kn(Xn);var Jn=Xn.extend({data:null}),$n=Xn.extend({data:null}),tr=[9,13,27,32],er=P&&"CompositionEvent"in window,nr=null;P&&"documentMode"in document&&(nr=document.documentMode);var rr=P&&"TextEvent"in window&&!nr,ir=P&&(!er||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ar=!1;function ur(t,e){switch(t){case"keyup":return-1!==tr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function lr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var hr=!1;var cr={eventTypes:sr,extractEvents:function(t,e,n,r){var i;if(er)t:{switch(t){case"compositionstart":var o=sr.compositionStart;break t;case"compositionend":o=sr.compositionEnd;break t;case"compositionupdate":o=sr.compositionUpdate;break t}o=void 0}else hr?ur(t,n)&&(o=sr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=sr.compositionStart);return o?(ir&&"ko"!==n.locale&&(hr||o!==sr.compositionStart?o===sr.compositionEnd&&hr&&(i=Hn()):(qn="value"in(Un=r)?Un.value:Un.textContent,hr=!0)),o=Jn.getPooled(o,e,n,r),i?o.data=i:null!==(i=lr(n))&&(o.data=i),Gn(o),i=o):i=null,(t=rr?function(t,e){switch(t){case"compositionend":return lr(e);case"keypress":return 32!==e.which?null:(ar=!0,or);case"textInput":return(t=e.data)===or&&ar?null:t;default:return null}}(t,n):function(t,e){if(hr)return"compositionend"===t||!er&&ur(t,e)?(t=Hn(),Vn=qn=Un=null,hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ir&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=$n.getPooled(sr.beforeInput,e,n,r)).data=t,Gn(e)):e=null,null===i?e:null===e?i:[i,e]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!fr[t.type]:"textarea"===e}var dr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(t,e,n){return(t=Xn.getPooled(dr.change,t,e,n)).type="change",N(n),Gn(t),t}var yr=null,_r=null;function mr(t){ue(t)}function vr(t){if(xt(On(t)))return t}function br(t,e){if("change"===t)return e}var xr=!1;function wr(){yr&&(yr.detachEvent("onpropertychange",Er),_r=yr=null)}function Er(t){if("value"===t.propertyName&&vr(_r))if(t=gr(_r,t,le(t)),F)ue(t);else{F=!0;try{A(mr,t)}finally{F=!1,j()}}}function Mr(t,e,n){"focus"===t?(wr(),_r=n,(yr=e).attachEvent("onpropertychange",Er)):"blur"===t&&wr()}function Lr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vr(_r)}function Sr(t,e){if("click"===t)return vr(e)}function Pr(t,e){if("input"===t||"change"===t)return vr(e)}P&&(xr=he("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:dr,_isInputEventSupported:xr,extractEvents:function(t,e,n,r){var i=e?On(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=br;else if(pr(i))if(xr)s=Pr;else{s=Lr;var a=Mr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Sr);if(s&&(s=s(t,e)))return gr(s,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Pt(i,"number",i.value)}},Ir=Xn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kr[t])&&!!e[t]}function Nr(){return Tr}var Or=0,Ar=0,Rr=!1,Dr=!1,zr=Ir.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Or;return Or=t.screenX,Rr?"mousemove"===t.type?t.screenX-e:0:(Rr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ar;return Ar=t.screenY,Dr?"mousemove"===t.type?t.screenY-e:0:(Dr=!0,0)}}),Fr=zr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jr={eventTypes:Br,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?Tn(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=zr,u=Br.mouseLeave,l=Br.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Fr,u=Br.pointerLeave,l=Br.pointerEnter,h="pointer");if(t=null==s?o:On(s),o=null==e?o:On(e),(u=a.getPooled(u,s,n,r)).type=h+"leave",u.target=t,u.relatedTarget=o,(n=a.getPooled(l,e,n,r)).type=h+"enter",n.target=o,n.relatedTarget=t,h=e,(r=s)&&h)t:{for(l=h,s=0,t=a=r;t;t=Rn(t))s++;for(t=0,e=l;e;e=Rn(e))t++;for(;0<s-t;)a=Rn(a),s--;for(;0<t-s;)l=Rn(l),t--;for(;s--;){if(a===l||a===l.alternate)break t;a=Rn(a),l=Rn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Rn(r);for(r=[];h&&h!==l&&(null===(s=h.alternate)||s!==l);)r.push(h),h=Rn(h);for(h=0;h<a.length;h++)Bn(a[h],"bubbled",u);for(h=r.length;0<h--;)Bn(r[h],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Gr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ur=Object.prototype.hasOwnProperty;function qr(t,e){if(Gr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(e,n[r])||!Gr(t[n[r]],e[n[r]]))return!1;return!0}var Vr=P&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Zr=null,Yr=null,Xr=null,Wr=!1;function Qr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Wr||null==Zr||Zr!==cn(n)?null:("selectionStart"in(n=Zr)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&qr(Xr,n)?null:(Xr=n,(t=Xn.getPooled(Hr.select,Yr,t,e)).type="select",t.target=Zr,Gn(t),t))}var Kr={eventTypes:Hr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=$t(i),o=L.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?On(e):window,t){case"focus":(pr(i)||"true"===i.contentEditable)&&(Zr=i,Yr=e,Xr=null);break;case"blur":Xr=Yr=Zr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Qr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Jr=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Xn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ti=Ir.extend({relatedTarget:null});function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Ir.extend({key:function(t){if(t.key){var e=ni[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ri[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),oi=zr.extend({dataTransfer:null}),si=Ir.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ai=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=zr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),li={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=Be.get(t);if(!i)return null;switch(t){case"keypress":if(0===ei(n))return null;case"keydown":case"keyup":t=ii;break;case"blur":case"focus":t=ti;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=si;break;case Yt:case Xt:case Wt:t=Jr;break;case Qt:t=ai;break;case"scroll":t=Ir;break;case"wheel":t=ui;break;case"copy":case"cut":case"paste":t=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Fr;break;default:t=Xn}return Gn(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(s(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=An,g=Nn,y=On,S({SimpleEventPlugin:li,EnterLeaveEventPlugin:jr,ChangeEventPlugin:Cr,SelectEventPlugin:Kr,BeforeInputEventPlugin:cr});var hi=[],ci=-1;function fi(t){0>ci||(t.current=hi[ci],hi[ci]=null,ci--)}function pi(t,e){ci++,hi[ci]=t.current,t.current=e}var di={},gi={current:di},yi={current:!1},_i=di;function mi(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function bi(){fi(yi),fi(gi)}function xi(t,e,n){if(gi.current!==di)throw Error(s(168));pi(gi,e),pi(yi,n)}function wi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,yt(e)||"Unknown",o));return i({},n,{},r)}function Ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,_i=gi.current,pi(gi,t),pi(yi,yi.current),!0}function Mi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=wi(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,fi(yi),fi(gi),pi(gi,t)):fi(yi),pi(yi,n)}var Li=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Ci=o.unstable_requestPaint,Ii=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},zi=o.unstable_shouldYield,Fi=void 0!==Ci?Ci:function(){},Bi=null,ji=null,Gi=!1,Ui=Ii(),qi=1e4>Ui?Ii:function(){return Ii()-Ui};function Vi(){switch(ki()){case Ti:return 99;case Ni:return 98;case Oi:return 97;case Ai:return 96;case Ri:return 95;default:throw Error(s(332))}}function Hi(t){switch(t){case 99:return Ti;case 98:return Ni;case 97:return Oi;case 96:return Ai;case 95:return Ri;default:throw Error(s(332))}}function Zi(t,e){return t=Hi(t),Li(t,e)}function Yi(t,e,n){return t=Hi(t),Si(t,e,n)}function Xi(t){return null===Bi?(Bi=[t],ji=Si(Ti,Qi)):Bi.push(t),Di}function Wi(){if(null!==ji){var t=ji;ji=null,Pi(t)}Qi()}function Qi(){if(!Gi&&null!==Bi){Gi=!0;var t=0;try{var e=Bi;Zi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(t+1)),Si(Ti,Wi),n}finally{Gi=!1}}}function Ki(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ji(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var $i={current:null},to=null,eo=null,no=null;function ro(){no=eo=to=null}function io(t){var e=$i.current;fi($i),t.type._context._currentValue=e}function oo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function so(t,e){to=t,no=eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(As=!0),t.firstContext=null)}function ao(t,e){if(no!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(no=t,e=1073741823),e={context:t,observedBits:e,next:null},null===eo){if(null===to)throw Error(s(308));eo=e,to.dependencies={expirationTime:0,firstContext:e,responders:null}}else eo=eo.next=e;return t._currentValue}var uo=!1;function lo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ho(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function co(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function fo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function po(t,e){var n=t.alternate;null!==n&&ho(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function go(t,e,n,r){var o=t.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var l=o.baseState,h=0,c=null,f=null,p=null;if(null!==u)for(var d=u;;){if((a=d.expirationTime)<r){var g={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=g,c=l):p=p.next=g,a>h&&(h=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),pu(a,d.suspenseConfig);t:{var y=t,_=d;switch(a=e,g=n,_.tag){case 1:if("function"===typeof(y=_.payload)){l=y.call(g,l,a);break t}l=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(a="function"===typeof(y=_.payload)?y.call(g,l,a):y)||void 0===a)break t;l=i({},l,a);break t;case 2:uo=!0}}null!==d.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[d]:a.push(d))}if(null===(d=d.next)||d===u){if(null===(a=o.shared.pending))break;d=s.next=a.next,a.next=u,o.baseQueue=s=a,o.shared.pending=null}}null===p?c=l:p.next=f,o.baseState=c,o.baseQueue=p,du(h),t.expirationTime=h,t.memoizedState=l}}function yo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var _o=Q.ReactCurrentBatchConfig,mo=(new r.Component).refs;function vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var bo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=tu(),i=_o.suspense;(i=co(r=eu(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),fo(t,i),nu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=tu(),i=_o.suspense;(i=co(r=eu(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),fo(t,i),nu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=tu(),r=_o.suspense;(r=co(n=eu(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),fo(t,r),nu(t,n)}};function xo(t,e,n,r,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,o))}function wo(t,e,n){var r=!1,i=di,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(e)?_i:gi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?mi(t,i):di),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=bo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Eo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bo.enqueueReplaceState(e,e.state,null)}function Mo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mo,lo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(e)?_i:gi.current,i.context=mi(t,o)),go(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&bo.enqueueReplaceState(i,i.state,null),go(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Lo=Array.isArray;function So(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===mo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Po(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Au(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=zu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=So(t,e,n),r.return=t,r):((r=Ru(n.type,n.key,n.props,null,t.mode,r)).ref=So(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function c(t,e,n,r,o){return null===e||7!==e.tag?((e=Du(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=zu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Ru(e.type,e.key,e.props,null,t.mode,n)).ref=So(t,null,e),n.return=t,n;case et:return(e=Fu(e,t.mode,n)).return=t,e}if(Lo(e)||gt(e))return(e=Du(e,t.mode,n,null)).return=t,e;Po(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?c(t,e,n.props.children,r,i):l(t,e,n,r):null;case et:return n.key===i?h(t,e,n,r):null}if(Lo(n)||gt(n))return null!==i?null:c(t,e,n,r,null);Po(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?c(e,t,r.props.children,i,r.key):l(e,t,r,i);case et:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Lo(r)||gt(r))return c(e,t=t.get(n)||null,r,i,null);Po(e,r)}return null}function g(i,s,a,u){for(var l=null,h=null,c=s,g=s=0,y=null;null!==c&&g<a.length;g++){c.index>g?(y=c,c=null):y=c.sibling;var _=p(i,c,a[g],u);if(null===_){null===c&&(c=y);break}t&&c&&null===_.alternate&&e(i,c),s=o(_,s,g),null===h?l=_:h.sibling=_,h=_,c=y}if(g===a.length)return n(i,c),l;if(null===c){for(;g<a.length;g++)null!==(c=f(i,a[g],u))&&(s=o(c,s,g),null===h?l=c:h.sibling=c,h=c);return l}for(c=r(i,c);g<a.length;g++)null!==(y=d(c,i,g,a[g],u))&&(t&&null!==y.alternate&&c.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return t&&c.forEach((function(t){return e(i,t)})),l}function y(i,a,u,l){var h=gt(u);if("function"!==typeof h)throw Error(s(150));if(null==(u=h.call(u)))throw Error(s(151));for(var c=h=null,g=a,y=a=0,_=null,m=u.next();null!==g&&!m.done;y++,m=u.next()){g.index>y?(_=g,g=null):_=g.sibling;var v=p(i,g,m.value,l);if(null===v){null===g&&(g=_);break}t&&g&&null===v.alternate&&e(i,g),a=o(v,a,y),null===c?h=v:c.sibling=v,c=v,g=_}if(m.done)return n(i,g),h;if(null===g){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,l))&&(a=o(m,a,y),null===c?h=m:c.sibling=m,c=m);return h}for(g=r(i,g);!m.done;y++,m=u.next())null!==(m=d(g,i,y,m.value,l))&&(t&&null!==m.alternate&&g.delete(null===m.key?y:m.key),a=o(m,a,y),null===c?h=m:c.sibling=m,c=m);return t&&g.forEach((function(t){return e(i,t)})),h}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;l&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case tt:t:{for(h=o.key,l=r;null!==l;){if(l.key===h){switch(l.tag){case 7:if(o.type===nt){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=So(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===nt?((r=Du(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Ru(o.type,o.key,o.props,null,t.mode,u)).ref=So(t,r,o),u.return=t,t=u)}return a(t);case et:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Fu(o,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=zu(o,t.mode,u)).return=t,t=r),a(t);if(Lo(o))return g(t,r,o,u);if(gt(o))return y(t,r,o,u);if(h&&Po(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Io=Co(!0),ko=Co(!1),To={},No={current:To},Oo={current:To},Ao={current:To};function Ro(t){if(t===To)throw Error(s(174));return t}function Do(t,e){switch(pi(Ao,e),pi(Oo,t),pi(No,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zt(null,"");break;default:e=zt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}fi(No),pi(No,e)}function zo(){fi(No),fi(Oo),fi(Ao)}function Fo(t){Ro(Ao.current);var e=Ro(No.current),n=zt(e,t.type);e!==n&&(pi(Oo,t),pi(No,n))}function Bo(t){Oo.current===t&&(fi(No),fi(Oo))}var jo={current:0};function Go(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===_n||n.data===mn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Uo(t,e){return{responder:t,props:e}}var qo=Q.ReactCurrentDispatcher,Vo=Q.ReactCurrentBatchConfig,Ho=0,Zo=null,Yo=null,Xo=null,Wo=!1;function Qo(){throw Error(s(321))}function Ko(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function Jo(t,e,n,r,i,o){if(Ho=o,Zo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,qo.current=null===t||null===t.memoizedState?xs:ws,t=n(r,i),e.expirationTime===Ho){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Xo=Yo=null,e.updateQueue=null,qo.current=Es,t=n(r,i)}while(e.expirationTime===Ho)}if(qo.current=bs,e=null!==Yo&&null!==Yo.next,Ho=0,Xo=Yo=Zo=null,Wo=!1,e)throw Error(s(300));return t}function $o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?Zo.memoizedState=Xo=t:Xo=Xo.next=t,Xo}function ts(){if(null===Yo){var t=Zo.alternate;t=null!==t?t.memoizedState:null}else t=Yo.next;var e=null===Xo?Zo.memoizedState:Xo.next;if(null!==e)Xo=e,Yo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Yo=t).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Xo?Zo.memoizedState=Xo=t:Xo=Xo.next=t}return Xo}function es(t,e){return"function"===typeof e?e(t):e}function ns(t){var e=ts(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,l=i;do{var h=l.expirationTime;if(h<Ho){var c={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=c,o=r):u=u.next=c,h>Zo.expirationTime&&(Zo.expirationTime=h,du(h))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),pu(h,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=a,Gr(r,e.memoizedState)||(As=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function rs(t){var e=ts(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Gr(o,e.memoizedState)||(As=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function is(t){var e=$o();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:es,lastRenderedState:t}).dispatch=vs.bind(null,Zo,t),[e.memoizedState,t]}function os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Zo.updateQueue)?(e={lastEffect:null},Zo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ss(){return ts().memoizedState}function as(t,e,n,r){var i=$o();Zo.effectTag|=t,i.memoizedState=os(1|e,n,void 0,void 0===r?null:r)}function us(t,e,n,r){var i=ts();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var s=Yo.memoizedState;if(o=s.destroy,null!==r&&Ko(r,s.deps))return void os(e,n,o,r)}Zo.effectTag|=t,i.memoizedState=os(1|e,n,o,r)}function ls(t,e){return as(516,4,t,e)}function hs(t,e){return us(516,4,t,e)}function cs(t,e){return us(4,2,t,e)}function fs(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ps(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,us(4,2,fs.bind(null,e,t),n)}function ds(){}function gs(t,e){return $o().memoizedState=[t,void 0===e?null:e],t}function ys(t,e){var n=ts();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _s(t,e){var n=ts();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ms(t,e,n){var r=Vi();Zi(98>r?98:r,(function(){t(!0)})),Zi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=r}}))}function vs(t,e,n){var r=tu(),i=_o.suspense;i={expirationTime:r=eu(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Zo||null!==o&&o===Zo)Wo=!0,i.expirationTime=Ho,Zo.expirationTime=Ho;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,Gr(a,s))return}catch(u){}nu(t,r)}}var bs={readContext:ao,useCallback:Qo,useContext:Qo,useEffect:Qo,useImperativeHandle:Qo,useLayoutEffect:Qo,useMemo:Qo,useReducer:Qo,useRef:Qo,useState:Qo,useDebugValue:Qo,useResponder:Qo,useDeferredValue:Qo,useTransition:Qo},xs={readContext:ao,useCallback:gs,useContext:ao,useEffect:ls,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,as(4,2,fs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return as(4,2,t,e)},useMemo:function(t,e){var n=$o();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$o();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=vs.bind(null,Zo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},$o().memoizedState=t},useState:is,useDebugValue:ds,useResponder:Uo,useDeferredValue:function(t,e){var n=is(t),r=n[0],i=n[1];return ls((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=is(!1),n=e[0];return e=e[1],[gs(ms.bind(null,e,t),[e,t]),n]}},ws={readContext:ao,useCallback:ys,useContext:ao,useEffect:hs,useImperativeHandle:ps,useLayoutEffect:cs,useMemo:_s,useReducer:ns,useRef:ss,useState:function(){return ns(es)},useDebugValue:ds,useResponder:Uo,useDeferredValue:function(t,e){var n=ns(es),r=n[0],i=n[1];return hs((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ns(es),n=e[0];return e=e[1],[ys(ms.bind(null,e,t),[e,t]),n]}},Es={readContext:ao,useCallback:ys,useContext:ao,useEffect:hs,useImperativeHandle:ps,useLayoutEffect:cs,useMemo:_s,useReducer:rs,useRef:ss,useState:function(){return rs(es)},useDebugValue:ds,useResponder:Uo,useDeferredValue:function(t,e){var n=rs(es),r=n[0],i=n[1];return hs((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=rs(es),n=e[0];return e=e[1],[ys(ms.bind(null,e,t),[e,t]),n]}},Ms=null,Ls=null,Ss=!1;function Ps(t,e){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Cs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Is(t){if(Ss){var e=Ls;if(e){var n=e;if(!Cs(t,e)){if(!(e=Ln(n.nextSibling))||!Cs(t,e))return t.effectTag=-1025&t.effectTag|2,Ss=!1,void(Ms=t);Ps(Ms,n)}Ms=t,Ls=Ln(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ss=!1,Ms=t}}function ks(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ms=t}function Ts(t){if(t!==Ms)return!1;if(!Ss)return ks(t),Ss=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!wn(e,t.memoizedProps))for(e=Ls;e;)Ps(t,e),e=Ln(e.nextSibling);if(ks(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ls=Ln(t.nextSibling);break t}e--}else"$"!==n&&n!==mn&&n!==_n||e++}t=t.nextSibling}Ls=null}}else Ls=Ms?Ln(t.stateNode.nextSibling):null;return!0}function Ns(){Ls=Ms=null,Ss=!1}var Os=Q.ReactCurrentOwner,As=!1;function Rs(t,e,n,r){e.child=null===t?ko(e,null,n,r):Io(e,t.child,n,r)}function Ds(t,e,n,r,i){n=n.render;var o=e.ref;return so(e,i),r=Jo(t,e,n,r,o,i),null===t||As?(e.effectTag|=1,Rs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Js(t,e,i))}function zs(t,e,n,r,i,o){if(null===t){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ru(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Fs(t,e,s,r,i,o))}return s=t.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&t.ref===e.ref)?Js(t,e,o):(e.effectTag|=1,(t=Au(s,r)).ref=e.ref,t.return=e,e.child=t)}function Fs(t,e,n,r,i,o){return null!==t&&qr(t.memoizedProps,r)&&t.ref===e.ref&&(As=!1,i<o)?(e.expirationTime=t.expirationTime,Js(t,e,o)):js(t,e,n,r,o)}function Bs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function js(t,e,n,r,i){var o=vi(n)?_i:gi.current;return o=mi(e,o),so(e,i),n=Jo(t,e,n,r,o,i),null===t||As?(e.effectTag|=1,Rs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Js(t,e,i))}function Gs(t,e,n,r,i){if(vi(n)){var o=!0;Ei(e)}else o=!1;if(so(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),wo(e,n,r),Mo(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=mi(e,l=vi(n)?_i:gi.current);var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&Eo(e,s,r,l),uo=!1;var f=e.memoizedState;s.state=f,go(e,r,s,i),u=e.memoizedState,a!==r||f!==u||yi.current||uo?("function"===typeof h&&(vo(e,n,h,r),u=e.memoizedState),(a=uo||xo(e,n,a,r,f,u,l))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),r=!1)}else s=e.stateNode,ho(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:Ji(e.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=mi(e,l=vi(n)?_i:gi.current),(c="function"===typeof(h=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&Eo(e,s,r,l),uo=!1,u=e.memoizedState,s.state=u,go(e,r,s,i),f=e.memoizedState,a!==r||u!==f||yi.current||uo?("function"===typeof h&&(vo(e,n,h,r),f=e.memoizedState),(h=uo||xo(e,n,a,r,u,f,l))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),s.props=r,s.state=f,s.context=l,r=h):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Us(t,e,n,r,o,i)}function Us(t,e,n,r,i,o){Bs(t,e);var s=0!==(64&e.effectTag);if(!r&&!s)return i&&Mi(e,n,!1),Js(t,e,o);r=e.stateNode,Os.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&s?(e.child=Io(e,t.child,null,o),e.child=Io(e,null,a,o)):Rs(t,e,a,o),e.memoizedState=r.state,i&&Mi(e,n,!0),e.child}function qs(t){var e=t.stateNode;e.pendingContext?xi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&xi(0,e.context,!1),Do(t,e.containerInfo)}var Vs,Hs,Zs,Ys={dehydrated:null,retryTime:0};function Xs(t,e,n){var r,i=e.mode,o=e.pendingProps,s=jo.current,a=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&s)&&(null===t||null!==t.memoizedState)),r?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),pi(jo,1&s),null===t){if(void 0!==o.fallback&&Is(e),a){if(a=o.fallback,(o=Du(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Du(a,i,n,null)).return=e,o.sibling=n,e.memoizedState=Ys,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=ko(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,a){if(o=o.fallback,(n=Au(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Au(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Ys,e.child=n,i}return n=Io(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=Du(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Du(a,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ys,e.child=o,n}return e.memoizedState=null,e.child=Io(e,t,o.children,n)}function Ws(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),oo(t.return,e)}function Qs(t,e,n,r,i,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function Ks(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rs(t,e,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ws(t,n);else if(19===t.tag)Ws(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pi(jo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Go(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Go(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qs(e,!0,n,null,o,e.lastEffect);break;case"together":Qs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Js(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&du(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Au(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Au(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $s(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ta(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(e.type)&&bi(),null;case 3:return zo(),fi(yi),fi(gi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ts(e)||(e.effectTag|=4),null;case 5:Bo(e),n=Ro(Ao.current);var o=e.type;if(null!==t&&null!=e.stateNode)Hs(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=Ro(No.current),Ts(e)){r=e.stateNode,o=e.type;var a=e.memoizedProps;switch(r[Cn]=e,r[In]=a,o){case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(t=0;t<Kt.length;t++)Xe(Kt[t],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"form":Xe("reset",r),Xe("submit",r);break;case"details":Xe("toggle",r);break;case"input":Et(r,a),Xe("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Xe("invalid",r),ln(n,"onChange");break;case"textarea":Tt(r,a),Xe("invalid",r),ln(n,"onChange")}for(var u in sn(o,a),t=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):M.hasOwnProperty(u)&&null!=l&&ln(n,u)}switch(o){case"input":bt(r),St(r,a,!0);break;case"textarea":bt(r),Ot(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=hn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===un&&(t=Dt(o)),t===un?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[Cn]=e,t[In]=r,Vs(t,e),e.stateNode=t,u=an(o,r),o){case"iframe":case"object":case"embed":Xe("load",t),l=r;break;case"video":case"audio":for(l=0;l<Kt.length;l++)Xe(Kt[l],t);l=r;break;case"source":Xe("error",t),l=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),l=r;break;case"form":Xe("reset",t),Xe("submit",t),l=r;break;case"details":Xe("toggle",t),l=r;break;case"input":Et(t,r),l=wt(t,r),Xe("invalid",t),ln(n,"onChange");break;case"option":l=Ct(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Xe("invalid",t),ln(n,"onChange");break;case"textarea":Tt(t,r),l=kt(t,r),Xe("invalid",t),ln(n,"onChange");break;default:l=r}sn(o,l);var h=l;for(a in h)if(h.hasOwnProperty(a)){var c=h[a];"style"===a?rn(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&jt(t,c):"children"===a?"string"===typeof c?("textarea"!==o||""!==c)&&Gt(t,c):"number"===typeof c&&Gt(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(M.hasOwnProperty(a)?null!=c&&ln(n,a):null!=c&&K(t,a,c,u))}switch(o){case"input":bt(t),St(t,r,!1);break;case"textarea":bt(t),Ot(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?It(t,!!r.multiple,n,!1):null!=r.defaultValue&&It(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=hn)}xn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Zs(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));n=Ro(Ao.current),Ro(No.current),Ts(e)?(n=e.stateNode,r=e.memoizedProps,n[Cn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=e,e.stateNode=n)}return null;case 13:return fi(jo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ts(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?Ra===Ca&&(Ra=Ia):(Ra!==Ca&&Ra!==Ia||(Ra=ka),0!==ja&&null!==Na&&(Gu(Na,Aa),Uu(Na,ja)))),(n||r)&&(e.effectTag|=4),null);case 4:return zo(),null;case 10:return io(e),null;case 17:return vi(e.type)&&bi(),null;case 19:if(fi(jo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=r.rendering)){if(o)$s(r,!1);else if(Ra!==Ca||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Go(a))){for(e.effectTag|=64,$s(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return pi(jo,1&jo.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Go(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),$s(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,$s(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=r.last)?n.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=qi(),n.sibling=null,e=jo.current,pi(jo,o?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function ea(t){switch(t.tag){case 1:vi(t.type)&&bi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(zo(),fi(yi),fi(gi),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Bo(t),null;case 13:return fi(jo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fi(jo),null;case 4:return zo(),null;case 10:return io(t),null;default:return null}}function na(t,e){return{value:t,source:e,stack:_t(e)}}Vs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Hs=function(t,e,n,r,o){var s=t.memoizedProps;if(s!==r){var a,u,l=e.stateNode;switch(Ro(No.current),t=null,n){case"input":s=wt(l,s),r=wt(l,r),t=[];break;case"option":s=Ct(l,s),r=Ct(l,r),t=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":s=kt(l,s),r=kt(l,r),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=hn)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in l=s[a])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(M.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var h=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&h!==l&&(null!=h||null!=l))if("style"===a)if(l){for(u in l)!l.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&l[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(t||(t=[]),t.push(a,n)),n=h;else"dangerouslySetInnerHTML"===a?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(t=t||[]).push(a,h)):"children"===a?l===h||"string"!==typeof h&&"number"!==typeof h||(t=t||[]).push(a,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(M.hasOwnProperty(a)?(null!=h&&ln(o,a),t||l===h||(t=[])):(t=t||[]).push(a,h))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Zs=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var ra="function"===typeof WeakSet?WeakSet:Set;function ia(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=_t(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function oa(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Su(t,n)}else e.current=null}function sa(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function aa(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function ua(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function la(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ua(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Ji(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&yo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}yo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ze(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function ha(t,e,n){switch("function"===typeof ku&&ku(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Zi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){Su(i,o)}}t=t.next}while(t!==r)}))}break;case 1:oa(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Su(t,n)}}(e,n);break;case 5:oa(e);break;case 4:ya(t,e,n)}}function ca(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ca(e)}function fa(t){return 5===t.tag||3===t.tag||4===t.tag}function pa(t){t:{for(var e=t.return;null!==e;){if(fa(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Gt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||fa(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?da(t,n,e):ga(t,n,e)}function da(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=hn));else if(4!==r&&null!==(t=t.child))for(da(t,e,n),t=t.sibling;null!==t;)da(t,e,n),t=t.sibling}function ga(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ga(t,e,n),t=t.sibling;null!==t;)ga(t,e,n),t=t.sibling}function ya(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,h=n,c=l;;)if(ha(u,c,h),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ha(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function _a(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void aa(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[In]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Mt(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?rn(n,u):"dangerouslySetInnerHTML"===a?jt(n,u):"children"===a?Gt(n,u):K(n,a,u,e)}switch(t){case"input":Lt(n,r);break;case"textarea":Nt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?It(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?It(n,!!r.multiple,r.defaultValue,!0):It(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,ze(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ua=qi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ma(e);case 19:return void ma(e);case 17:return}throw Error(s(163))}function ma(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ra),e.forEach((function(e){var r=Cu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var va="function"===typeof WeakMap?WeakMap:Map;function ba(t,e,n){(n=co(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Va||(Va=!0,Ha=r),ia(t,e)},n}function xa(t,e,n){(n=co(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ia(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Za?Za=new Set([this]):Za.add(this),ia(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var wa,Ea=Math.ceil,Ma=Q.ReactCurrentDispatcher,La=Q.ReactCurrentOwner,Sa=16,Pa=32,Ca=0,Ia=3,ka=4,Ta=0,Na=null,Oa=null,Aa=0,Ra=Ca,Da=null,za=1073741823,Fa=1073741823,Ba=null,ja=0,Ga=!1,Ua=0,qa=null,Va=!1,Ha=null,Za=null,Ya=!1,Xa=null,Wa=90,Qa=null,Ka=0,Ja=null,$a=0;function tu(){return 0!==(48&Ta)?1073741821-(qi()/10|0):0!==$a?$a:$a=1073741821-(qi()/10|0)}function eu(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Vi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(Ta&Sa))return Aa;if(null!==n)t=Ki(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ki(t,150,100);break;case 97:case 96:t=Ki(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Na&&t===Aa&&--t,t}function nu(t,e){if(50<Ka)throw Ka=0,Ja=null,Error(s(185));if(null!==(t=ru(t,e))){var n=Vi();1073741823===e?0!==(8&Ta)&&0===(48&Ta)?au(t):(ou(t),0===Ta&&Wi()):ou(t),0===(4&Ta)||98!==n&&99!==n||(null===Qa?Qa=new Map([[t,e]]):(void 0===(n=Qa.get(t))||n>e)&&Qa.set(t,e))}}function ru(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Na===i&&(du(e),Ra===ka&&Gu(i,Aa)),Uu(i,e)),i}function iu(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!ju(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function ou(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Xi(au.bind(null,t));else{var e=iu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=tu();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Di&&Pi(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Xi(au.bind(null,t)):Yi(r,su.bind(null,t),{timeout:10*(1073741821-e)-qi()}),t.callbackNode=e}}}function su(t,e){if($a=0,e)return qu(t,e=tu()),ou(t),null;var n=iu(t);if(0!==n){if(e=t.callbackNode,0!==(48&Ta))throw Error(s(327));if(Eu(),t===Na&&n===Aa||hu(t,n),null!==Oa){var r=Ta;Ta|=Sa;for(var i=fu();;)try{yu();break}catch(u){cu(t,u)}if(ro(),Ta=r,Ma.current=i,1===Ra)throw e=Da,hu(t,n),Gu(t,n),ou(t),e;if(null===Oa)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ra,Na=null,r){case Ca:case 1:throw Error(s(345));case 2:qu(t,2<n?2:n);break;case Ia:if(Gu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=vu(i)),1073741823===za&&10<(i=Ua+500-qi())){if(Ga){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,hu(t,n);break}}if(0!==(o=iu(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=En(bu.bind(null,t),i);break}bu(t);break;case ka:if(Gu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=vu(i)),Ga&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,hu(t,n);break}if(0!==(i=iu(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Fa?r=10*(1073741821-Fa)-qi():1073741823===za?r=0:(r=10*(1073741821-za)-5e3,0>(r=(i=qi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ea(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=En(bu.bind(null,t),r);break}bu(t);break;case 5:if(1073741823!==za&&null!==Ba){o=za;var a=Ba;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=qi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Gu(t,n),t.timeoutHandle=En(bu.bind(null,t),r);break}}bu(t);break;default:throw Error(s(329))}if(ou(t),t.callbackNode===e)return su.bind(null,t)}}return null}function au(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Ta))throw Error(s(327));if(Eu(),t===Na&&e===Aa||hu(t,e),null!==Oa){var n=Ta;Ta|=Sa;for(var r=fu();;)try{gu();break}catch(i){cu(t,i)}if(ro(),Ta=n,Ma.current=r,1===Ra)throw n=Da,hu(t,e),Gu(t,e),ou(t),n;if(null!==Oa)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Na=null,bu(t),ou(t)}return null}function uu(t,e){var n=Ta;Ta|=1;try{return t(e)}finally{0===(Ta=n)&&Wi()}}function lu(t,e){var n=Ta;Ta&=-2,Ta|=8;try{return t(e)}finally{0===(Ta=n)&&Wi()}}function hu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Mn(n)),null!==Oa)for(n=Oa.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bi();break;case 3:zo(),fi(yi),fi(gi);break;case 5:Bo(r);break;case 4:zo();break;case 13:case 19:fi(jo);break;case 10:io(r)}n=n.return}Na=t,Oa=Au(t.current,null),Aa=e,Ra=Ca,Da=null,Fa=za=1073741823,Ba=null,ja=0,Ga=!1}function cu(t,e){for(;;){try{if(ro(),qo.current=bs,Wo)for(var n=Zo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,Xo=Yo=Zo=null,Wo=!1,null===Oa||null===Oa.return)return Ra=1,Da=e,Oa=null;t:{var i=t,o=Oa.return,s=Oa,a=e;if(e=Aa,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&jo.current),c=o;do{var f;if(f=13===c.tag){var p=c.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=c.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!h)}}if(f){var g=c.updateQueue;if(null===g){var y=new Set;y.add(u),c.updateQueue=y}else g.add(u);if(0===(2&c.mode)){if(c.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var _=co(1073741823,null);_.tag=2,fo(s,_)}s.expirationTime=1073741823;break t}a=void 0,s=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new va,a=new Set,m.set(u,a)):void 0===(a=m.get(u))&&(a=new Set,m.set(u,a)),!a.has(s)){a.add(s);var v=Pu.bind(null,i,u,s);u.then(v,v)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);a=Error((yt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_t(s))}5!==Ra&&(Ra=2),a=na(a,s),c=o;do{switch(c.tag){case 3:u=a,c.effectTag|=4096,c.expirationTime=e,po(c,ba(c,u,e));break t;case 1:u=a;var b=c.type,x=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Za||!Za.has(x)))){c.effectTag|=4096,c.expirationTime=e,po(c,xa(c,u,e));break t}}c=c.return}while(null!==c)}Oa=mu(Oa)}catch(w){e=w;continue}break}}function fu(){var t=Ma.current;return Ma.current=bs,null===t?bs:t}function pu(t,e){t<za&&2<t&&(za=t),null!==e&&t<Fa&&2<t&&(Fa=t,Ba=e)}function du(t){t>ja&&(ja=t)}function gu(){for(;null!==Oa;)Oa=_u(Oa)}function yu(){for(;null!==Oa&&!zi();)Oa=_u(Oa)}function _u(t){var e=wa(t.alternate,t,Aa);return t.memoizedProps=t.pendingProps,null===e&&(e=mu(t)),La.current=null,e}function mu(t){Oa=t;do{var e=Oa.alternate;if(t=Oa.return,0===(2048&Oa.effectTag)){if(e=ta(e,Oa,Aa),1===Aa||1!==Oa.childExpirationTime){for(var n=0,r=Oa.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Oa.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Oa.firstEffect),null!==Oa.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Oa.firstEffect),t.lastEffect=Oa.lastEffect),1<Oa.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Oa:t.firstEffect=Oa,t.lastEffect=Oa))}else{if(null!==(e=ea(Oa)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Oa.sibling))return e;Oa=t}while(null!==Oa);return Ra===Ca&&(Ra=5),null}function vu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function bu(t){var e=Vi();return Zi(99,xu.bind(null,t,e)),null}function xu(t,e){do{Eu()}while(null!==Xa);if(0!==(48&Ta))throw Error(s(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=vu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Na&&(Oa=Na=null,Aa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ta;Ta|=Pa,La.current=null,vn=Ye;var a=gn();if(yn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var h=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break t}var f=0,p=-1,d=-1,g=0,y=0,_=a,m=null;e:for(;;){for(var v;_!==u||0!==h&&3!==_.nodeType||(p=f+h),_!==c||0!==l&&3!==_.nodeType||(d=f+l),3===_.nodeType&&(f+=_.nodeValue.length),null!==(v=_.firstChild);)m=_,_=v;for(;;){if(_===a)break e;if(m===u&&++g===h&&(p=f),m===c&&++y===l&&(d=f),null!==(v=_.nextSibling))break;m=(_=m).parentNode}_=v}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;bn={activeElementDetached:null,focusedElem:a,selectionRange:u},Ye=!1,qa=i;do{try{wu()}catch(S){if(null===qa)throw Error(s(330));Su(qa,S),qa=qa.nextEffect}}while(null!==qa);qa=i;do{try{for(a=t,u=e;null!==qa;){var b=qa.effectTag;if(16&b&&Gt(qa.stateNode,""),128&b){var x=qa.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:pa(qa),qa.effectTag&=-3;break;case 6:pa(qa),qa.effectTag&=-3,_a(qa.alternate,qa);break;case 1024:qa.effectTag&=-1025;break;case 1028:qa.effectTag&=-1025,_a(qa.alternate,qa);break;case 4:_a(qa.alternate,qa);break;case 8:ya(a,h=qa,u),ca(h)}qa=qa.nextEffect}}catch(S){if(null===qa)throw Error(s(330));Su(qa,S),qa=qa.nextEffect}}while(null!==qa);if(w=bn,x=gn(),b=w.focusedElem,u=w.selectionRange,x!==b&&b&&b.ownerDocument&&dn(b.ownerDocument.documentElement,b)){null!==u&&yn(b)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),h=b.textContent.length,a=Math.min(u.start,h),u=void 0===u.end?a:Math.min(u.end,h),!w.extend&&a>u&&(h=u,u=a,a=h),h=pn(b,a),c=pn(b,u),h&&c&&(1!==w.rangeCount||w.anchorNode!==h.node||w.anchorOffset!==h.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((x=x.createRange()).setStart(h.node,h.offset),w.removeAllRanges(),a>u?(w.addRange(x),w.extend(c.node,c.offset)):(x.setEnd(c.node,c.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ye=!!vn,bn=vn=null,t.current=n,qa=i;do{try{for(b=t;null!==qa;){var E=qa.effectTag;if(36&E&&la(b,qa.alternate,qa),128&E){x=void 0;var M=qa.ref;if(null!==M){var L=qa.stateNode;switch(qa.tag){case 5:x=L;break;default:x=L}"function"===typeof M?M(x):M.current=x}}qa=qa.nextEffect}}catch(S){if(null===qa)throw Error(s(330));Su(qa,S),qa=qa.nextEffect}}while(null!==qa);qa=null,Fi(),Ta=o}else t.current=n;if(Ya)Ya=!1,Xa=t,Wa=e;else for(qa=i;null!==qa;)e=qa.nextEffect,qa.nextEffect=null,qa=e;if(0===(e=t.firstPendingTime)&&(Za=null),1073741823===e?t===Ja?Ka++:(Ka=0,Ja=t):Ka=0,"function"===typeof Iu&&Iu(n.stateNode,r),ou(t),Va)throw Va=!1,t=Ha,Ha=null,t;return 0!==(8&Ta)||Wi(),null}function wu(){for(;null!==qa;){var t=qa.effectTag;0!==(256&t)&&sa(qa.alternate,qa),0===(512&t)||Ya||(Ya=!0,Yi(97,(function(){return Eu(),null}))),qa=qa.nextEffect}}function Eu(){if(90!==Wa){var t=97<Wa?97:Wa;return Wa=90,Zi(t,Mu)}}function Mu(){if(null===Xa)return!1;var t=Xa;if(Xa=null,0!==(48&Ta))throw Error(s(331));var e=Ta;for(Ta|=Pa,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:aa(5,n),ua(5,n)}}catch(r){if(null===t)throw Error(s(330));Su(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ta=e,Wi(),!0}function Lu(t,e,n){fo(t,e=ba(t,e=na(n,e),1073741823)),null!==(t=ru(t,1073741823))&&ou(t)}function Su(t,e){if(3===t.tag)Lu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Lu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Za||!Za.has(r))){fo(n,t=xa(n,t=na(e,t),1073741823)),null!==(n=ru(n,1073741823))&&ou(n);break}}n=n.return}}function Pu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Na===t&&Aa===n?Ra===ka||Ra===Ia&&1073741823===za&&qi()-Ua<500?hu(t,Aa):Ga=!0:ju(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,ou(t)))}function Cu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=eu(e=tu(),t,null)),null!==(t=ru(t,e))&&ou(t)}wa=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||yi.current)As=!0;else{if(r<n){switch(As=!1,e.tag){case 3:qs(e),Ns();break;case 5:if(Fo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vi(e.type)&&Ei(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,pi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Xs(t,e,n):(pi(jo,1&jo.current),null!==(e=Js(t,e,n))?e.sibling:null);pi(jo,1&jo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ks(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),pi(jo,jo.current),!r)return null}return Js(t,e,n)}As=!1}}else As=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=mi(e,gi.current),so(e,n),i=Jo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;Ei(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(e);var a=r.getDerivedStateFromProps;"function"===typeof a&&vo(e,r,a,t),i.updater=bo,e.stateNode=i,i._reactInternalFiber=e,Mo(e,r,t,n),e=Us(null,e,r,!0,o,n)}else e.tag=0,Rs(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Ou(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===ct)return 14}return 2}(i),t=Ji(i,t),o){case 0:e=js(null,e,i,t,n);break t;case 1:e=Gs(null,e,i,t,n);break t;case 11:e=Ds(null,e,i,t,n);break t;case 14:e=zs(null,e,i,Ji(i.type,t),r,n);break t}throw Error(s(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,js(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 1:return r=e.type,i=e.pendingProps,Gs(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 3:if(qs(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ho(t,e),go(e,r,null,n),(r=e.memoizedState.element)===i)Ns(),e=Js(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ls=Ln(e.stateNode.containerInfo.firstChild),Ms=e,i=Ss=!0),i)for(n=ko(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Rs(t,e,r,n),Ns();e=e.child}return e;case 5:return Fo(e),null===t&&Is(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,wn(r,i)?a=null:null!==o&&wn(r,o)&&(e.effectTag|=16),Bs(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Rs(t,e,a,n),e=e.child),e;case 6:return null===t&&Is(e),null;case 13:return Xs(t,e,n);case 4:return Do(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Io(e,null,r,n):Rs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ds(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 7:return Rs(t,e,e.pendingProps,n),e.child;case 8:case 12:return Rs(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var u=e.type._context;if(pi($i,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=Gr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!yi.current){e=Js(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var h=l.firstContext;null!==h;){if(h.context===r&&0!==(h.observedBits&o)){1===u.tag&&((h=co(n,null)).tag=2,fo(u,h)),u.expirationTime<n&&(u.expirationTime=n),null!==(h=u.alternate)&&h.expirationTime<n&&(h.expirationTime=n),oo(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}h=h.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Rs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,so(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.effectTag|=1,Rs(t,e,r,n),e.child;case 14:return o=Ji(i=e.type,e.pendingProps),zs(t,e,i,o=Ji(i.type,o),r,n);case 15:return Fs(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vi(r)?(t=!0,Ei(e)):t=!1,so(e,n),wo(e,r,i),Mo(e,r,i,n),Us(null,e,r,!0,t,n);case 19:return Ks(t,e,n)}throw Error(s(156,e.tag))};var Iu=null,ku=null;function Tu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nu(t,e,n,r){return new Tu(t,e,n,r)}function Ou(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Au(t,e){var n=t.alternate;return null===n?((n=Nu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Ou(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return Du(n.children,i,o,e);case at:a=8,i|=7;break;case rt:a=8,i|=1;break;case it:return(t=Nu(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case lt:return(t=Nu(13,n,e,i)).type=lt,t.elementType=lt,t.expirationTime=o,t;case ht:return(t=Nu(19,n,e,i)).elementType=ht,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case st:a=9;break t;case ut:a=11;break t;case ct:a=14;break t;case ft:a=16,r=null;break t;case pt:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Nu(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Du(t,e,n,r){return(t=Nu(7,t,r,e)).expirationTime=n,t}function zu(t,e,n){return(t=Nu(6,t,null,e)).expirationTime=n,t}function Fu(t,e,n){return(e=Nu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ju(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Gu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Uu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function qu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Vu(t,e,n,r){var i=e.current,o=tu(),a=_o.suspense;o=eu(o,i,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=wi(n,l,u);break t}}n=u}else n=di;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),nu(i,o),o}function Hu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Yu(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}function Xu(t,e,n){var r=new Bu(t,e,n=null!=n&&!0===n.hydrate),i=Nu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,lo(i),t[kn]=r.current,n&&0!==e&&function(t,e){var n=$t(e);Pe.forEach((function(t){ge(t,e,n)})),Ce.forEach((function(t){ge(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Wu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var t=Hu(s);a.call(t)}}Vu(e,s,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Xu(t,0,e?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Hu(s);u.call(t)}}lu((function(){Vu(e,s,t,i)}))}return Hu(s)}function Ku(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ju(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wu(e))throw Error(s(200));return Ku(t,e,null,n)}Xu.prototype.render=function(t){Vu(t,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vu(null,t,null,(function(){e[kn]=null}))},ye=function(t){if(13===t.tag){var e=Ki(tu(),150,100);nu(t,e),Yu(t,e)}},_e=function(t){13===t.tag&&(nu(t,3),Yu(t,3))},me=function(t){if(13===t.tag){var e=tu();nu(t,e=eu(e,t,null)),Yu(t,e)}},C=function(t,e,n){switch(e){case"input":if(Lt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=An(r);if(!i)throw Error(s(90));xt(r),Lt(r,i)}}}break;case"textarea":Nt(t,n);break;case"select":null!=(e=n.value)&&It(t,!!n.multiple,e,!1)}},A=uu,R=function(t,e,n,r,i){var o=Ta;Ta|=4;try{return Zi(98,t.bind(null,e,n,r,i))}finally{0===(Ta=o)&&Wi()}},D=function(){0===(49&Ta)&&(function(){if(null!==Qa){var t=Qa;Qa=null,t.forEach((function(t,e){qu(e,t),ou(e)})),Wi()}}(),Eu())},z=function(t,e){var n=Ta;Ta|=2;try{return t(e)}finally{0===(Ta=n)&&Wi()}};var $u={Events:[Nn,On,An,S,E,Gn,function(t){oe(t,jn)},N,O,Je,ue,Eu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Iu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},ku=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=re(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,e.createPortal=Ju,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=re(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Ta))throw Error(s(187));var n=Ta;Ta|=1;try{return Zi(99,t.bind(null,e))}finally{Ta=n,Wi()}},e.hydrate=function(t,e,n){if(!Wu(e))throw Error(s(200));return Qu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Wu(e))throw Error(s(200));return Qu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Wu(t))throw Error(s(40));return!!t._reactRootContainer&&(lu((function(){Qu(null,null,t,!1,(function(){t._reactRootContainer=null,t[kn]=null}))})),!0)},e.unstable_batchedUpdates=uu,e.unstable_createPortal=function(t,e){return Ju(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wu(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return Qu(t,e,n,!1,r)},e.version="16.14.0"},function(t,e,n){"use strict";t.exports=n(126)},function(t,e,n){"use strict";var r,i,o,s,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,h=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},c=Date.now();e.unstable_now=function(){return Date.now()-c},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(h,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},s=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var _=p.now();e.unstable_now=function(){return p.now()-_}}var m=!1,v=null,b=-1,x=5,w=0;s=function(){return e.unstable_now()>=w},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,M=E.port2;E.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();w=t+x;try{v(!0,t)?M.postMessage(null):(m=!1,v=null)}catch(n){throw M.postMessage(null),n}}else m=!1},r=function(t){v=t,m||(m=!0,M.postMessage(null))},i=function(t,n){b=d((function(){t(e.unstable_now())}),n)},o=function(){g(b),b=-1}}function L(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function P(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,s=t[o],a=o+1,u=t[a];if(void 0!==s&&0>C(s,n))void 0!==u&&0>C(u,s)?(t[r]=u,t[a]=n,r=a):(t[r]=s,t[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break t;t[r]=u,t[a]=n,r=a}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var I=[],k=[],T=1,N=null,O=3,A=!1,R=!1,D=!1;function z(t){for(var e=S(k);null!==e;){if(null===e.callback)P(k);else{if(!(e.startTime<=t))break;P(k),e.sortIndex=e.expirationTime,L(I,e)}e=S(k)}}function F(t){if(D=!1,z(t),!R)if(null!==S(I))R=!0,r(B);else{var e=S(k);null!==e&&i(F,e.startTime-t)}}function B(t,n){R=!1,D&&(D=!1,o()),A=!0;var r=O;try{for(z(n),N=S(I);null!==N&&(!(N.expirationTime>n)||t&&!s());){var a=N.callback;if(null!==a){N.callback=null,O=N.priorityLevel;var u=a(N.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?N.callback=u:N===S(I)&&P(I),z(n)}else P(I);N=S(I)}if(null!==N)var l=!0;else{var h=S(k);null!==h&&i(F,h.startTime-n),l=!1}return l}finally{N=null,O=r,A=!1}}function j(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||A||(R=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return S(I)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var n=O;O=e;try{return t()}finally{O=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=G,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=O;O=t;try{return e()}finally{O=n}},e.unstable_scheduleCallback=function(t,n,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:j(t)}else s=j(t),u=a;return t={id:T++,callback:n,priorityLevel:t,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(t.sortIndex=u,L(k,t),null===S(I)&&t===S(k)&&(D?o():D=!0,i(F,u-a))):(t.sortIndex=s,L(I,t),R||A||(R=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();z(t);var n=S(I);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<N.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=O;return function(){var n=O;O=e;try{return t.apply(this,arguments)}finally{O=n}}}},function(t,e){L.Control.Sidebar=L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,options:{autopan:!1,closeButton:!0,container:null,position:"left"},initialize:function(t,e){return"string"===typeof t&&(console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now"),t={container:t}),"object"===typeof t&&t.id&&(console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now"),t.container=t.id),this._tabitems=[],this._panes=[],this._closeButtons=[],L.setOptions(this,Object.assign({},t,e)),this},onAdd:function(t){var e,n,r,i,o;for((o=this._container)||(o=this._container||"string"===typeof this.options.container?L.DomUtil.get(this.options.container):this.options.container),o||(o=L.DomUtil.create("div","leaflet-sidebar collapsed"),"string"===typeof this.options.container&&(o.id=this.options.container)),this._paneContainer=o.querySelector("div.leaflet-sidebar-content"),null===this._paneContainer&&(this._paneContainer=L.DomUtil.create("div","leaflet-sidebar-content",o)),r=o.querySelectorAll("ul.leaflet-sidebar-tabs, div.leaflet-sidebar-tabs > ul"),this._tabContainerTop=r[0]||null,this._tabContainerBottom=r[1]||null,null===this._tabContainerTop&&((i=L.DomUtil.create("div","leaflet-sidebar-tabs",o)).setAttribute("role","tablist"),this._tabContainerTop=L.DomUtil.create("ul","",i)),null===this._tabContainerBottom&&(i=this._tabContainerTop.parentNode,this._tabContainerBottom=L.DomUtil.create("ul","",i)),e=0;e<this._tabContainerTop.children.length;e++)(n=this._tabContainerTop.children[e])._sidebar=this,n._id=n.querySelector("a").hash.slice(1),this._tabitems.push(n);for(e=0;e<this._tabContainerBottom.children.length;e++)(n=this._tabContainerBottom.children[e])._sidebar=this,n._id=n.querySelector("a").hash.slice(1),this._tabitems.push(n);for(e=0;e<this._paneContainer.children.length;e++)if("DIV"===(n=this._paneContainer.children[e]).tagName&&L.DomUtil.hasClass(n,"leaflet-sidebar-pane")){this._panes.push(n);var s=n.querySelectorAll(".leaflet-sidebar-close");s.length&&(this._closeButtons.push(s[s.length-1]),this._closeClick(s[s.length-1],"on"))}for(e=0;e<this._tabitems.length;e++)this._tabClick(this._tabitems[e],"on");return o},onRemove:function(t){for(var e=0;e<this._tabitems.length;e++)this._tabClick(this._tabitems[e],"off");for(e=0;e<this._closeButtons.length;e++)this._closeClick(this._closeButtons[e],"off");return this._tabitems=[],this._panes=[],this._closeButtons=[],this},addTo:function(t){return this.onRemove(),this._map=t,this._container=this.onAdd(t),L.DomUtil.addClass(this._container,"leaflet-control"),L.DomUtil.addClass(this._container,"leaflet-sidebar-"+this.getPosition()),L.Browser.touch&&L.DomUtil.addClass(this._container,"leaflet-touch"),L.DomEvent.disableScrollPropagation(this._container),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.on(this._container,"contextmenu",L.DomEvent.stopPropagation),t._container.insertBefore(this._container,t._container.firstChild),this},removeFrom:function(t){return console.warn("removeFrom() has been deprecated, please use remove() instead as support for this function will be ending soon."),this._map._container.removeChild(this._container),this.onRemove(t),this},open:function(t){var e,n,r;if(r=this._getTab(t),L.DomUtil.hasClass(r,"disabled"))return this;for(e=0;e<this._panes.length;e++)(n=this._panes[e]).id===t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");for(e=0;e<this._tabitems.length;e++)(n=this._tabitems[e]).querySelector("a").hash==="#"+t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");return this.fire("content",{id:t}),L.DomUtil.hasClass(this._container,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._container,"collapsed"),this.options.autopan&&this._panMap("open")),this},close:function(){var t;for(t=0;t<this._tabitems.length;t++){var e=this._tabitems[t];L.DomUtil.hasClass(e,"active")&&L.DomUtil.removeClass(e,"active")}return L.DomUtil.hasClass(this._container,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._container,"collapsed"),this.options.autopan&&this._panMap("close")),this},addPanel:function(t){var e,n,r,i,o;return n=L.DomUtil.create("li",t.disabled?"disabled":""),(r=L.DomUtil.create("a","",n)).href="#"+t.id,r.setAttribute("role","tab"),r.innerHTML=t.tab,n._sidebar=this,n._id=t.id,n._button=t.button,t.title&&"<"!==t.title[0]&&(n.title=t.title),"bottom"===t.position?this._tabContainerBottom.appendChild(n):this._tabContainerTop.appendChild(n),this._tabitems.push(n),t.pane&&("string"===typeof t.pane?(e=L.DomUtil.create("DIV","leaflet-sidebar-pane",this._paneContainer),o="",t.title&&(o+='<h1 class="leaflet-sidebar-header">'+t.title),this.options.closeButton&&(o+='<span class="leaflet-sidebar-close"><i class="fa fa-caret-'+this.options.position+'"></i></span>'),t.title&&(o+="</h1>"),e.innerHTML=o+t.pane):(e=t.pane,this._paneContainer.appendChild(e)),e.id=t.id,this._panes.push(e),(i=e.querySelectorAll(".leaflet-sidebar-close")).length&&(this._closeButtons.push(i[i.length-1]),this._closeClick(i[i.length-1],"on"))),this._tabClick(n,"on"),this},removePanel:function(t){var e,n,r,i,o;for(e=0;e<this._tabitems.length;e++)if(this._tabitems[e]._id===t){r=this._tabitems[e],this._tabClick(r,"off"),r.remove(),this._tabitems.splice(e,1);break}for(e=0;e<this._panes.length;e++)if(this._panes[e].id===t){for(o=(i=this._panes[e]).querySelectorAll(".leaflet-sidebar-close"),n=0;n<o.length;n++)this._closeClick(o[n],"off");i.remove(),this._panes.splice(e,1);break}return this},enablePanel:function(t){var e=this._getTab(t);return L.DomUtil.removeClass(e,"disabled"),this},disablePanel:function(t){var e=this._getTab(t);return L.DomUtil.addClass(e,"disabled"),this},onTabClick:function(t){L.DomUtil.hasClass(this,"active")?this._sidebar.close():L.DomUtil.hasClass(this,"disabled")||("string"===typeof this._button?window.location.href=this._button:"function"===typeof this._button?this._button(t):this._sidebar.open(this.querySelector("a").hash.slice(1)))},_tabClick:function(t,e){var n=t.querySelector("a");n.hasAttribute("href")&&"#"===n.getAttribute("href")[0]&&("on"===e?L.DomEvent.on(t.querySelector("a"),"click",L.DomEvent.preventDefault,t).on(t.querySelector("a"),"click",this.onTabClick,t):L.DomEvent.off(t.querySelector("a"),"click",this.onTabClick,t))},onCloseClick:function(){this.close()},_closeClick:function(t,e){"on"===e?L.DomEvent.on(t,"click",this.onCloseClick,this):L.DomEvent.off(t,"click",this.onCloseClick)},_getTab:function(t){for(var e=0;e<this._tabitems.length;e++)if(this._tabitems[e]._id===t)return this._tabitems[e];throw Error('tab "'+t+'" not found')},_panMap:function(t){var e=Number.parseInt(L.DomUtil.getStyle(this._container,"max-width"))/2;("open"===t&&"left"===this.options.position||"close"===t&&"right"===this.options.position)&&(e*=-1),this._map.panBy([e,0],{duration:.5})}}),L.control.sidebar=function(t,e){return new L.Control.Sidebar(t,e)}},function(t,e,n){},,,function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={};function y(){}function _(){}function m(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==n&&r.call(x,o)&&(v=x);var w=m.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,s,a){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(c).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,a)}))}a(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function L(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:k}}function k(){return{value:e,done:!0}}return _.prototype=w.constructor=m,m.constructor=_,_.displayName=u(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},t.AsyncIterator=M,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new M(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(w),u(w,a,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,function(t,e,n){!function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var n,r=this._featureGroup,i=this._nonPointGroup,o=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,u=t.length,l=0,h=!0;if(this._map){var c=(new Date).getTime(),f=L.bind((function(){var p=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();l<u&&!(o&&l%200===0&&(new Date).getTime()-p>s);l++)if((n=t[l])instanceof L.LayerGroup)h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(n,t),u=t.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),e||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var d=n.__parent.getAllChildMarkers(),g=d[0]===n?d[1]:d[0];r.removeLayer(g)}}else i.addLayer(n),e||this.fire("layeradd",{layer:n});a&&a(l,u,(new Date).getTime()-c),l===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)}),this);f()}else for(var p=this._needsClustering;l<u;l++)(n=t[l])instanceof L.LayerGroup?(h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(n,t),u=t.length):n.getLatLng?this.hasLayer(n)||p.push(n):i.addLayer(n);return this},removeLayers:function(t){var e,n,r=t.length,i=this._featureGroup,o=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<r;e++)(n=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(n,t),r=t.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),u=r;for(e=0;e<u;e++)(n=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,a),u=a.length):this._unspiderfyLayer(n)}for(e=0;e<r;e++)(n=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(n,t),r=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),i.hasLayer(n)&&(i.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,r,i,o=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),r=o.length-1;r>=0;r--){for(n=!0,i=s.length-1;i>=0;i--)if(s[i].layer===o[r]){n=!1;break}n&&t.call(e,o[r])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer((function(e){t.push(e)})),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer((function(n){L.stamp(n)===t&&(e=n)})),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(e=(n=this._needsRemoving).length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){var n=this._map;"function"!==typeof e&&(e=function(){});var r=function r(){!n.hasLayer(t)&&!n.hasLayer(t.__parent)||this._inZoomAnimation||(this._map.off("moveend",r,this),this.off("animationend",r,this),n.hasLayer(t)?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",r,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",r,this),this.on("animationend",r,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,r;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(r=this._needsRemoving[e]).newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)r=this._needsRemoving[e],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,r=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());e>=i&&r[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var r=this._gridClusters,i=this._gridUnclustered,o=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,h=l._markers;for(this._arraySplice(h,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],r[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),i[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(o.removeLayer(l),n||o.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;(e||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!==typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var i=t;i>=e;i--)this._gridClusters[i]=new L.DistanceGrid(r(i)),this._gridUnclustered[i]=new L.DistanceGrid(r(i));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,r,i=this._gridClusters,o=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){n=this._map.project(t.getLatLng(),e);var a=i[e].getNearObject(n);if(a)return a._addChild(t),void(t.__parent=a);if(a=o[e].getNearObject(n)){var u=a.__parent;u&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);i[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var h=l;for(r=e-1;r>u._zoom;r--)h=new this._markerCluster(this,r,h),i[r].addObject(h,this._map.project(a.getLatLng(),r));return u._addChild(h),void this._removeFromGridUnclustered(a,e)}o[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}))},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,r=t.getLayers(),i=0;for(e=e||[];i<r.length;i++)(n=r[i])instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,r=this._getExpandedVisibleBounds(),i=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,t,o,(function(o){var s,a=o._latlng,u=o._markers;for(r.contains(a)||(a=null),o._isSingleParent()&&t+1===e?(i.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,r)):(o.clusterHide(),o._recursivelyAddChildrenToMap(a,e,r)),n=u.length-1;n>=0;n--)s=u[n],r.contains(s._latlng)||i.removeLayer(s)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,e),i.eachLayer((function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()})),this._topClusterLevel._recursively(r,t,e,(function(t){t._recursivelyRestoreChildPositions(e)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,t,o,(function(t){i.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,r=this._featureGroup;r.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue((function(){r.removeLayer(t),t.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var r=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(r,i,e+1,n);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(r,n,i,(function(t){t._recursivelyRemoveChildrenFromMap(r,i,e+1)}));o._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(t);for(var r=this._markers.length-1;r>=0;r--)e&&this._markers[r].__dragStart||t.push(this._markers[r]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),r=this._group._map,i=r.getBoundsZoom(this._bounds),o=this._zoom+1,s=r.getZoom();n.length>0&&i>o;){o++;var a=[];for(e=0;e<n.length;e++)a=a.concat(n[e]._childClusters);n=a}i>o?this._group._map.setView(this._latlng,o):i<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,r,i=this._markers,o=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<i.length;t++)n=i[t]._latlng,this._bounds.extend(n),s+=n.lat,a+=n.lng;for(t=0;t<o.length;t++)(e=o[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,r=e._childCount,s+=n.lat*r,a+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,(function(t){var n,r,i=t._markers;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(e),r.clusterHide())}),(function(t){var n,r,i=t._childClusters;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(e),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,r){this._recursively(t,r,e,(function(i){i._recursivelyAnimateChildrenIn(t,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),n),i._isSingleParent()&&n-1===r?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(t,e,n)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,(function(r){if(e!==r._zoom)for(var i=r._markers.length-1;i>=0;i--){var o=r._markers[i];n.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.clusterHide&&o.clusterHide()),r._group._featureGroup.addLayer(o))}}),(function(e){e._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,r){var i,o;this._recursively(t,e-1,n-1,(function(t){for(o=t._markers.length-1;o>=0;o--)i=t._markers[o],r&&r.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(t){for(o=t._childClusters.length-1;o>=0;o--)i=t._childClusters[o],r&&r.contains(i._latlng)||(t._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(t,e,n,r,i){var o,s,a=this._childClusters,u=this._zoom;if(e<=u&&(r&&r(this),i&&u===n&&i(this)),u<e||u<n)for(o=a.length-1;o>=0;o--)(s=a[o])._boundsNeedUpdate&&s._recalculateBounds(),t.intersects(s._bounds)&&s._recursively(t,e,n,r,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),r=this._getCoord(e.y),i=this._grid,o=i[r]=i[r]||{},s=o[n]=o[n]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,r,i=this._getCoord(e.x),o=this._getCoord(e.y),s=this._grid,a=s[o]=s[o]||{},u=a[i]=a[i]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,r=u.length;n<r;n++)if(u[n]===t)return u.splice(n,1),1===r&&delete a[i],!0},eachObject:function(t,e){var n,r,i,o,s,a,u=this._grid;for(n in u)for(r in s=u[n])for(i=0,o=(a=s[r]).length;i<o;i++)t.call(e,a[i])&&(i--,o--)},getNearObject:function(t){var e,n,r,i,o,s,a,u,l=this._getCoord(t.x),h=this._getCoord(t.y),c=this._objectPoint,f=this._sqCellSize,p=null;for(e=h-1;e<=h+1;e++)if(i=this._grid[e])for(n=l-1;n<=l+1;n++)if(o=i[n])for(r=0,s=o.length;r<s;r++)a=o[r],((u=this._sqDist(c[L.Util.stamp(a)],t))<f||u<=f&&null===p)&&(f=u,p=a);return p},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}},L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,r,i,o=0,s=null,a=[];for(n=e.length-1;n>=0;n--)r=e[n],(i=this.getDistant(r,t))>0&&(a.push(r),i>o&&(o=i,s=r));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var n=[],r=this.findMostDistantPointFromBaseLine(t,e);return r.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],r.maxPoint],r.newPoints))).concat(this.buildConvexHull([r.maxPoint,t[1]],r.newPoints)):[t[0]]},getConvexHull:function(t){var e,n=!1,r=!1,i=!1,o=!1,s=null,a=null,u=null,l=null,h=null,c=null;for(e=t.length-1;e>=0;e--){var f=t[e];(!1===n||f.lat>n)&&(s=f,n=f.lat),(!1===r||f.lat<r)&&(a=f,r=f.lat),(!1===i||f.lng>i)&&(u=f,i=f.lng),(!1===o||f.lng<o)&&(l=f,o=f.lng)}return r!==n?(c=a,h=s):(c=l,h=u),[].concat(this.buildConvexHull([c,h],t),this.buildConvexHull([h,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),r=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),r.push(t);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?t=this._group.options.spiderfyShapePositions(e.length,n):e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,n):(n.y+=10,t=this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,r,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,o=this._2PI/t,s=[];for(i=Math.max(i,35),s.length=t,n=0;n<t;n++)r=this._circleStartAngle+n*o,s[n]=new L.Point(e.x+i*Math.cos(r),e.y+i*Math.sin(r))._round();return s},_generatePointsSpiral:function(t,e){var n,r=this._group.options.spiderfyDistanceMultiplier,i=r*this._spiralLengthStart,o=r*this._spiralFootSeparation,s=r*this._spiralLengthFactor*this._2PI,a=0,u=[];for(u.length=t,n=t;n>=0;n--)n<t&&(u[n]=new L.Point(e.x+i*Math.cos(a),e.y+i*Math.sin(a))._round()),i+=s/(a+=o/i+5e-4*n);return u},_noanimationUnspiderfy:function(){var t,e,n=this._group,r=n._map,i=n._featureGroup,o=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],i.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(r.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,r,i,o,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,n=0;n<t.length;n++)o=a.layerPointToLatLng(e[n]),r=t[n],i=new L.Polyline([this._latlng,o],l),a.addLayer(i),r._spiderLeg=i,r._preSpiderfyLatlng=r._latlng,r.setLatLng(o),r.setZIndexOffset&&r.setZIndexOffset(1e6),u.addLayer(r);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,r,i,o,s,a,u=this,l=this._group,h=l._map,c=l._featureGroup,f=this._latlng,p=h.latLngToLayerPoint(f),d=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),y=g.opacity;for(void 0===y&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),d?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=y,l._ignoreMove=!0,n=0;n<t.length;n++)r=t[n],a=h.layerPointToLatLng(e[n]),i=new L.Polyline([f,a],g),h.addLayer(i),r._spiderLeg=i,d&&(s=(o=i._path).getTotalLength()+.1,o.style.strokeDasharray=s,o.style.strokeDashoffset=s),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),c.addLayer(r),r._setPos&&r._setPos(p);for(l._forceLayout(),l._animationStart(),n=t.length-1;n>=0;n--)a=h.layerPointToLatLng(e[n]),(r=t[n])._preSpiderfyLatlng=r._latlng,r.setLatLng(a),r.clusterShow&&r.clusterShow(),d&&((o=(i=r._spiderLeg)._path).style.strokeDashoffset=0,i.setStyle({opacity:y}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout((function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:t})}),200)},_animationUnspiderfy:function(t){var e,n,r,i,o,s,a=this,u=this._group,l=u._map,h=u._featureGroup,c=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),p=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=f.length-1;n>=0;n--)(e=f[n])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&h.removeLayer(e),p&&(o=(i=(r=e._spiderLeg)._path).getTotalLength()+.1,i.style.strokeDashoffset=o,r.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout((function(){var t=0;for(n=f.length-1;n>=0;n--)(e=f[n])._spiderLeg&&t++;for(n=f.length-1;n>=0;n--)(e=f[n])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&h.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:f})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";(function(t){var r=n(138),i=n(139),o=n(140);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return G(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return L(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){c=!1;break}if(c)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,r){return q(G(e,t.length-n),t,n,r)}function x(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function E(t,e,n,r){return q(U(e),t,n,r)}function M(t,e,n,r){return q(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function L(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],h=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=n)switch(c){case 1:l<128&&(h=l);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=c}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return h(e),e<=0?a(t,e):void 0!==n?"string"===typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),h=t.slice(e,n),c=0;c<a;++c)if(l[c]!==h[c]){o=l[c],s=h[c];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=j(t[o]);return i}function T(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function A(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,o){return o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:G(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(36))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),h=0,c=a>0?s-4:s;for(n=0;n<c;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[h++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(h(t,a,a+s>u?u:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,h=-7,c=n?i-1:0,f=n?-1:1,p=t[e+c];for(c+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+c],c+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+c],c+=f,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,h=(1<<l)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=h?(a=0,s=h):s+c>=1?(a=(e*u-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,,,,,,,function(t,e){L.SVG.include({_resetTransformPath:function(t){t._path.setAttributeNS(null,"transform","")},transformPath:function(t,e){t._path.setAttributeNS(null,"transform","matrix("+e.join(" ")+")")}})},function(t,e){L.SVG.include(L.Browser.vml?{_resetTransformPath:function(t){t._skew&&(t._skew.on=!1,t._path.removeChild(t._skew),t._skew=null)},transformPath:function(t,e){var n=t._skew;n||(n=L.SVG.create("skew"),t._path.appendChild(n),n.style.behavior="url(#default#VML)",t._skew=n);var r=e[0].toFixed(8)+" "+e[1].toFixed(8)+" "+e[2].toFixed(8)+" "+e[3].toFixed(8)+" 0 0",i=Math.floor(e[4]).toFixed()+", "+Math.floor(e[5]).toFixed(),o=this._path.style,s=parseFloat(o.left),a=parseFloat(o.top),u=parseFloat(o.width),l=parseFloat(o.height);isNaN(s)&&(s=0),isNaN(a)&&(a=0),!isNaN(u)&&u||(u=1),!isNaN(l)&&l||(l=1);var h=(-s/u-.5).toFixed(8)+" "+(-a/l-.5).toFixed(8);n.on="f",n.matrix=r,n.origin=h,n.offset=i,n.on=!0}}:{})},function(t,e){function n(){return!0}L.Canvas.include({_resetTransformPath:function(t){this._containerCopy&&(delete this._containerCopy,t._containsPoint_&&(t._containsPoint=t._containsPoint_,delete t._containsPoint_,this._requestRedraw(t)))},transformPath:function(t,e){var r,i=this._containerCopy,o=this._ctx,s=L.Browser.retina?2:1,a=this._bounds,u=a.getSize(),l=a.min;i||(r=(i=this._containerCopy=document.createElement("canvas")).getContext("2d"),i.width=s*u.x,i.height=s*u.y,this._removePath(t),this._redraw(),r.translate(s*a.min.x,s*a.min.y),r.drawImage(this._container,0,0),this._initPath(t),t._containsPoint_=t._containsPoint,t._containsPoint=n),o.save(),o.clearRect(l.x,l.y,u.x*s,u.y*s),o.setTransform(1,0,0,1,0,0),o.restore(),o.save(),o.drawImage(this._containerCopy,0,0,u.x,u.y),o.transform.apply(o,e),this._drawing=!0,t._updatePath(),this._drawing=!1,o.restore()}})},function(t,e){L.Path.include({_transform:function(t){return this._renderer&&(t?this._renderer.transformPath(this,t):(this._renderer._resetTransformPath(this),this._update())),this},_onMouseClick:function(t){this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)}})},function(t,e){var n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},r={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};function i(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}L.Handler.PathDrag=L.Handler.extend({statics:{DRAGGING_CLS:"leaflet-path-draggable"},initialize:function(t){this._path=t,this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._mapDraggingWasEnabled=!1},addHooks:function(){this._path.on("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className?this._path.options.className+" "+L.Handler.PathDrag.DRAGGING_CLS:L.Handler.PathDrag.DRAGGING_CLS,this._path._path&&L.DomUtil.addClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},removeHooks:function(){this._path.off("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className.replace(new RegExp("\\s+"+L.Handler.PathDrag.DRAGGING_CLS),""),this._path._path&&L.DomUtil.removeClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},moved:function(){return this._path._dragMoved},_onDragStart:function(t){var e=t.originalEvent._simulated?"touchstart":t.originalEvent.type;this._mapDraggingWasEnabled=!1,this._startPoint=t.containerPoint.clone(),this._dragStartPoint=t.containerPoint.clone(),this._matrix=[1,0,0,1,0,0],L.DomEvent.stop(t.originalEvent),L.DomUtil.addClass(this._path._renderer._container,"leaflet-interactive"),L.DomEvent.on(document,r[e],this._onDrag,this).on(document,n[e],this._onDragEnd,this),this._path._map.dragging.enabled()&&(this._path._map.dragging.disable(),this._mapDraggingWasEnabled=!0),this._path._dragMoved=!1,this._path._popup&&this._path._popup._close(),this._replaceCoordGetters(t)},_onDrag:function(t){L.DomEvent.stop(t);var e=t.touches&&t.touches.length>=1?t.touches[0]:t,n=this._path._map.mouseEventToContainerPoint(e);if("touchmove"===t.type&&!this._path._dragMoved&&this._dragStartPoint.distanceTo(n)<=this._path._map.options.tapTolerance)return;var r=n.x,i=n.y,o=r-this._startPoint.x,s=i-this._startPoint.y;(o||s)&&(this._path._dragMoved||(this._path._dragMoved=!0,this._path.fire("dragstart",t),this._path.bringToFront()),this._matrix[4]+=o,this._matrix[5]+=s,this._startPoint.x=r,this._startPoint.y=i,this._path.fire("predrag",t),this._path._transform(this._matrix),this._path.fire("drag",t))},_onDragEnd:function(t){var e=this._path._map.mouseEventToContainerPoint(t),n=this.moved();if(n&&(this._transformPoints(this._matrix),this._path._updatePath(),this._path._project(),this._path._transform(null),L.DomEvent.stop(t)),L.DomEvent.off(document,"mousemove touchmove",this._onDrag,this),L.DomEvent.off(document,"mouseup touchend",this._onDragEnd,this),this._restoreCoordGetters(),n){this._path.fire("dragend",{distance:i(this._dragStartPoint,e)});var r=this._path._containsPoint;this._path._containsPoint=L.Util.falseFn,L.Util.requestAnimFrame((function(){L.DomEvent.skipped({type:"click"}),this._path._containsPoint=r}),this)}this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._path._dragMoved=!1,this._mapDraggingWasEnabled&&(n&&L.DomEvent.fakeStop({type:"click"}),this._path._map.dragging.enable())},_transformPoints:function(t,e){var n,r,i,o=this._path,s=L.point(t[4],t[5]),a=o._map.options.crs,u=a.transformation,l=a.scale(o._map.getZoom()),h=a.projection,c=u.untransform(s,l).subtract(u.untransform(L.point(0,0),l)),f=!e;if(o._bounds=new L.LatLngBounds,o._point)e=h.unproject(h.project(o._latlng)._add(c)),f&&(o._latlng=e,o._point._add(s));else if(o._rings||o._parts){var p=o._rings||o._parts,d=o._latlngs;for(e=e||d,L.Util.isArray(d[0])||(d=[d],e=[e]),n=0,r=p.length;n<r;n++){e[n]=e[n]||[];for(var g=0,y=p[n].length;g<y;g++)i=d[n][g],e[n][g]=h.unproject(h.project(i)._add(c)),f&&(o._bounds.extend(d[n][g]),p[n][g]._add(s))}}return e},_replaceCoordGetters:function(){this._path.getLatLng?(this._path.getLatLng_=this._path.getLatLng,this._path.getLatLng=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,{})}),this._path)):this._path.getLatLngs&&(this._path.getLatLngs_=this._path.getLatLngs,this._path.getLatLngs=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,[])}),this._path))},_restoreCoordGetters:function(){this._path.getLatLng_?(this._path.getLatLng=this._path.getLatLng_,delete this._path.getLatLng_):this._path.getLatLngs_&&(this._path.getLatLngs=this._path.getLatLngs_,delete this._path.getLatLngs_)}}),L.Handler.PathDrag.makeDraggable=function(t){return t.dragging=new L.Handler.PathDrag(t),t},L.Path.prototype.makeDraggable=function(){return L.Handler.PathDrag.makeDraggable(this)},L.Path.addInitHook((function(){this.options.draggable?(this.options.interactive=!0,this.dragging||L.Handler.PathDrag.makeDraggable(this),this.dragging.enable()):this.dragging&&this.dragging.disable()}))},function(t,e,n){n(4);n(37),n(154),n(155),n(156)},function(t,e){L.PathTransform={},L.PathTransform.pointOnLine=function(t,e,n){var r=1+n/t.distanceTo(e);return new L.Point(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},L.PathTransform.merge=function(){var t,e,n=1,r=arguments[n];function i(t){return"[object Object]"===Object.prototype.toString.call(t)}for(var o=arguments[0];r;)for(t in r=arguments[n++])r.hasOwnProperty(t)&&(i(e=r[t])&&i(o[t])?o[t]=L.PathTransform.merge(o[t],e):o[t]=e);return o}},function(t,e){L.Matrix=function(t,e,n,r,i,o){this._matrix=[t,e,n,r,i,o]},L.Matrix.prototype={transform:function(t){return this._transform(t.clone())},_transform:function(t){var e=this._matrix,n=t.x,r=t.y;return t.x=e[0]*n+e[1]*r+e[4],t.y=e[2]*n+e[3]*r+e[5],t},untransform:function(t){var e=this._matrix;return new L.Point((t.x/e[0]-e[4])/e[0],(t.y/e[2]-e[5])/e[2])},clone:function(){var t=this._matrix;return new L.Matrix(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(t){return void 0===t?new L.Point(this._matrix[4],this._matrix[5]):("number"===typeof t?e=n=t:(e=t.x,n=t.y),this._add(1,0,0,1,e,n));var e,n},scale:function(t,e){return void 0===t?new L.Point(this._matrix[0],this._matrix[3]):(e=e||L.point(0,0),"number"===typeof t?n=r=t:(n=t.x,r=t.y),this._add(n,0,0,r,e.x,e.y)._add(1,0,0,1,-e.x,-e.y));var n,r},rotate:function(t,e){var n=Math.cos(t),r=Math.sin(t);return e=e||new L.Point(0,0),this._add(n,r,-r,n,e.x,e.y)._add(1,0,0,1,-e.x,-e.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(t,e,n,r,i,o){var s,a=[[],[],[]],u=this._matrix,l=[[u[0],u[2],u[4]],[u[1],u[3],u[5]],[0,0,1]],h=[[t,n,i],[e,r,o],[0,0,1]];t&&t instanceof L.Matrix&&(h=[[(u=t._matrix)[0],u[2],u[4]],[u[1],u[3],u[5]],[0,0,1]]);for(var c=0;c<3;c++)for(var f=0;f<3;f++){s=0;for(var p=0;p<3;p++)s+=l[c][p]*h[p][f];a[c][f]=s}return this._matrix=[a[0][0],a[1][0],a[0][1],a[1][1],a[0][2],a[1][2]],this}},L.matrix=function(t,e,n,r,i,o){return new L.Matrix(t,e,n,r,i,o)}},function(t,e){L.PathTransform.Handle=L.CircleMarker.extend({options:{className:"leaflet-path-transform-handler"},onAdd:function(t){L.CircleMarker.prototype.onAdd.call(this,t),this._path&&this.options.setCursor&&(this._path.style.cursor=L.PathTransform.Handle.CursorsByType[this.options.index])}}),L.PathTransform.Handle.CursorsByType=["nesw-resize","nwse-resize","nesw-resize","nwse-resize"],L.PathTransform.RotateHandle=L.PathTransform.Handle.extend({options:{className:"leaflet-path-transform-handler transform-handler--rotate"},onAdd:function(t){L.CircleMarker.prototype.onAdd.call(this,t),this._path&&this.options.setCursor&&(this._path.style.cursor="all-scroll")}}),L.Handler.PathTransform=L.Handler.extend({options:{rotation:!0,scaling:!0,uniformScaling:!0,maxZoom:22,handlerOptions:{radius:5,fillColor:"#ffffff",color:"#202020",fillOpacity:1,weight:2,opacity:.7,setCursor:!0},boundsOptions:{weight:1,opacity:1,dashArray:[3,3],fill:!1,noClip:!0},rotateHandleOptions:{weight:1,opacity:1,setCursor:!0},handleLength:20,edgesCount:4,handleClass:L.PathTransform.Handle,rotateHandleClass:L.PathTransform.RotateHandle},initialize:function(t){this._path=t,this._map=null,this._activeMarker=null,this._originMarker=null,this._rotationMarker=null,this._rotationOrigin=null,this._scaleOrigin=null,this._angle=0,this._scale=L.point(1,1),this._initialDist=0,this._initialDistX=0,this._initialDistY=0,this._rotationStart=null,this._rotationOriginPt=null,this._matrix=new L.Matrix(1,0,0,1,0,0),this._projectedMatrix=new L.Matrix(1,0,0,1,0,0),this._handlersGroup=null,this._rect=null,this._handlers=[],this._handleLine=null},enable:function(t){this._path._map&&(this._map=this._path._map,t&&this.setOptions(t),L.Handler.prototype.enable.call(this))},addHooks:function(){this._createHandlers(),this._path.on("dragstart",this._onDragStart,this).on("dragend",this._onDragEnd,this)},removeHooks:function(){this._hideHandlers(),this._path.off("dragstart",this._onDragStart,this).off("dragend",this._onDragEnd,this),this._handlersGroup=null,this._rect=null,this._handlers=[]},setOptions:function(t){var e=this._enabled;return e&&this.disable(),this.options=L.PathTransform.merge({},L.Handler.PathTransform.prototype.options,t),e&&this.enable(),this},rotate:function(t,e){return this.transform(t,null,e)},scale:function(t,e){return"number"===typeof t&&(t=L.point(t,t)),this.transform(0,t,null,e)},transform:function(t,e,n,r){var i=this._path.getCenter();return n=n||i,r=r||i,this._map=this._path._map,this._transformPoints(this._path,t,e,n,r),this._transformPoints(this._rect,t,e,n,r),this._transformPoints(this._handleLine,t,e,n,r),this._updateHandlers(),this},_update:function(){for(var t=this._matrix,e=0,n=this._handlers.length;e<n;e++){var r=this._handlers[e];r!==this._originMarker&&(r._point=t.transform(r._initialPoint),r._updatePath())}t=t.clone().flip(),this._applyTransform(t),this._path.fire("transform",{layer:this._path})},_applyTransform:function(t){this._path._transform(t._matrix),this._rect._transform(t._matrix),this.options.rotation&&this._handleLine._transform(t._matrix)},_apply:function(){var t=this._map,e=this._matrix.clone(),n=this._angle,r=this._scale.clone();this._transformGeometries();for(var i=0,o=this._handlers.length;i<o;i++){var s=this._handlers[i];s._latlng=t.layerPointToLatLng(s._point),delete s._initialPoint,s.redraw()}this._matrix=L.matrix(1,0,0,1,0,0),this._scale=L.point(1,1),this._angle=0,this._updateHandlers(),t.dragging.enable(),this._path.fire("transformed",{matrix:e,scale:r,rotation:n,layer:this._path})},reset:function(){this._enabled&&(this._rect&&(this._handlersGroup.removeLayer(this._rect),this._rect=this._getBoundingPolygon().addTo(this._handlersGroup)),this._updateHandlers())},_updateHandlers:function(){var t=this._handlersGroup;this._rectShape=this._rect.toGeoJSON(),this._handleLine&&this._handlersGroup.removeLayer(this._handleLine),this._rotationMarker&&this._handlersGroup.removeLayer(this._rotationMarker),this._handleLine=this._rotationMarker=null;for(var e=this._handlers.length-1;e>=0;e--)t.removeLayer(this._handlers[e]);this._createHandlers()},_transformGeometries:function(){this._path._transform(null),this._rect._transform(null),this._transformPoints(this._path),this._transformPoints(this._rect),this.options.rotation&&(this._handleLine._transform(null),this._transformPoints(this._handleLine,this._angle,null,this._origin))},_getProjectedMatrix:function(t,e,n,r){var i,o=this._map,s=o.getMaxZoom()||this.options.maxZoom,a=L.matrix(1,0,0,1,0,0);return t=t||this._angle||0,1===(e=e||this._scale||L.point(1,1)).x&&1===e.y||(r=r||this._scaleOrigin,i=o.project(r,s),a=a._add(L.matrix(1,0,0,1,i.x,i.y))._add(L.matrix(e.x,0,0,e.y,0,0))._add(L.matrix(1,0,0,1,-i.x,-i.y))),t&&(n=n||this._rotationOrigin,i=o.project(n,s),a=a.rotate(t,i).flip()),a},_transformPoint:function(t,e,n,r){return n.unproject(e.transform(n.project(t,r)),r)},_transformPoints:function(t,e,n,r,i){var o,s,a=t._map,u=a.getMaxZoom()||this.options.maxZoom,l=this._projectedMatrix=this._getProjectedMatrix(e,n,r,i);if(t._point)t._latlng=this._transformPoint(t._latlng,l,a,u);else if(t._rings||t._parts){var h=t._rings,c=t._latlngs;for(t._bounds=new L.LatLngBounds,L.Util.isArray(c[0])||(c=[c]),o=0,s=h.length;o<s;o++)for(var f=0,p=h[o].length;f<p;f++)c[o][f]=this._transformPoint(c[o][f],l,a,u),t._bounds.extend(c[o][f])}t._reset()},_createHandlers:function(){var t=this._map;if(this._handlersGroup=this._handlersGroup||(new L.LayerGroup).addTo(t),this._rect=this._rect||this._getBoundingPolygon().addTo(this._handlersGroup),this.options.scaling){this._handlers=[];for(var e=0;e<this.options.edgesCount;e++)this._handlers.push(this._createHandler(this._rect._latlngs[0][e],2*e,e).addTo(this._handlersGroup))}this.options.rotation&&this._createRotationHandlers()},_createRotationHandlers:function(){var t=this._map,e=this._rect._latlngs[0],n=new L.LatLng((e[0].lat+e[3].lat)/2,(e[0].lng+e[3].lng)/2),r=new L.LatLng((e[1].lat+e[2].lat)/2,(e[1].lng+e[2].lng)/2),i=t.layerPointToLatLng(L.PathTransform.pointOnLine(t.latLngToLayerPoint(n),t.latLngToLayerPoint(r),this.options.handleLength));this._handleLine=new L.Polyline([r,i],this.options.rotateHandleOptions).addTo(this._handlersGroup);var o=this.options.rotateHandleClass;this._rotationMarker=new o(i,this.options.handlerOptions).addTo(this._handlersGroup).on("mousedown",this._onRotateStart,this),this._rotationOrigin=new L.LatLng((r.lat+n.lat)/2,(r.lng+n.lng)/2),this._handlers.push(this._rotationMarker)},_getRotationOrigin:function(){var t=this._rect._latlngs[0],e=t[0],n=t[2];return new L.LatLng((e.lat+n.lat)/2,(e.lng+n.lng)/2)},_onRotateStart:function(t){var e=this._map;e.dragging.disable(),this._originMarker=null,this._rotationOriginPt=e.latLngToLayerPoint(this._getRotationOrigin()),this._rotationStart=t.layerPoint,this._initialMatrix=this._matrix.clone(),this._angle=0,this._path._map.on("mousemove",this._onRotate,this).on("mouseup",this._onRotateEnd,this),this._cachePoints(),this._path.fire("transformstart",{layer:this._path}).fire("rotatestart",{layer:this._path,rotation:0})},_onRotate:function(t){var e=t.layerPoint,n=this._rotationStart,r=this._rotationOriginPt;this._angle=Math.atan2(e.y-r.y,e.x-r.x)-Math.atan2(n.y-r.y,n.x-r.x),this._matrix=this._initialMatrix.clone().rotate(this._angle,r).flip(),this._update(),this._path.fire("rotate",{layer:this._path,rotation:this._angle})},_onRotateEnd:function(t){this._path._map.off("mousemove",this._onRotate,this).off("mouseup",this._onRotateEnd,this);var e=this._angle;this._apply(),this._path.fire("rotateend",{layer:this._path,rotation:e})},_onScaleStart:function(t){var e=t.target;this._map.dragging.disable(),this._activeMarker=e,this._originMarker=this._handlers[(e.options.index+2)%4],this._scaleOrigin=this._originMarker.getLatLng(),this._initialMatrix=this._matrix.clone(),this._cachePoints(),this._map.on("mousemove",this._onScale,this).on("mouseup",this._onScaleEnd,this),this._initialDist=this._originMarker._point.distanceTo(this._activeMarker._point),this._initialDistX=this._originMarker._point.x-this._activeMarker._point.x,this._initialDistY=this._originMarker._point.y-this._activeMarker._point.y,this._path.fire("transformstart",{layer:this._path}).fire("scalestart",{layer:this._path,scale:L.point(1,1)}),this._handleLine&&this._map.removeLayer(this._handleLine),this._rotationMarker&&this._map.removeLayer(this._rotationMarker)},_onScale:function(t){var e,n,r=this._originMarker._point;this.options.uniformScaling?n=e=r.distanceTo(t.layerPoint)/this._initialDist:(e=(r.x-t.layerPoint.x)/this._initialDistX,n=(r.y-t.layerPoint.y)/this._initialDistY),this._scale=new L.Point(e,n),this._matrix=this._initialMatrix.clone().scale(this._scale,r),this._update(),this._path.fire("scale",{layer:this._path,scale:this._scale.clone()})},_onScaleEnd:function(t){this._map.off("mousemove",this._onScale,this).off("mouseup",this._onScaleEnd,this),this._handleLine&&this._map.addLayer(this._handleLine),this._rotationMarker&&this._map.addLayer(this._rotationMarker),this._apply(),this._path.fire("scaleend",{layer:this._path,scale:this._scale.clone()})},_cachePoints:function(){this._handlersGroup.eachLayer((function(t){t.bringToFront()}));for(var t=0,e=this._handlers.length;t<e;t++){var n=this._handlers[t];n._initialPoint=n._point.clone()}},_getBoundingPolygon:function(){return this._rectShape?L.GeoJSON.geometryToLayer(this._rectShape,this.options.boundsOptions):new L.Rectangle(this._path.getBounds(),this.options.boundsOptions)},_createHandler:function(t,e,n){var r=new(0,this.options.handleClass)(t,L.Util.extend({},this.options.handlerOptions,{className:"leaflet-drag-transform-marker drag-marker--"+n+" drag-marker--"+e,index:n,type:e}));return r.on("mousedown",this._onScaleStart,this),r},_hideHandlers:function(){this._map.removeLayer(this._handlersGroup)},_onDragStart:function(){this._hideHandlers()},_onDragEnd:function(t){var e=this._rect,n=(t.layer?t.layer:this._path).dragging._matrix.slice();e.dragging||(e.dragging=new L.Handler.PathDrag(e)),e.dragging.enable(),this._map.addLayer(e),e.dragging._transformPoints(n),e._updatePath(),e._project(),e.dragging.disable(),this._map.addLayer(this._handlersGroup),this._updateHandlers(),this._path.fire("transformed",{scale:L.point(1,1),rotation:0,matrix:L.matrix.apply(void 0,n),translate:L.point(n[4],n[5]),layer:this._path})}}),L.Path.addInitHook((function(){this.options.transform&&(this.transform=new L.Handler.PathTransform(this,this.options.transform))}))},function(t,e,n){(function(t,n){(function(){var r,i="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",l="[object Date]",h="[object Error]",c="[object Function]",f="[object GeneratorFunction]",p="[object Map]",d="[object Number]",g="[object Object]",y="[object Promise]",_="[object RegExp]",m="[object Set]",v="[object String]",b="[object Symbol]",x="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",S="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",N="[object Uint32Array]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,R=/^\./,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/\\(\\)?/g,F=/\w*$/,B=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,G={};G[M]=G[L]=G[S]=G[P]=G[C]=G[I]=G[k]=G[T]=G[N]=!0,G[s]=G[a]=G[w]=G[u]=G[E]=G[l]=G[h]=G[c]=G[p]=G[d]=G[g]=G[_]=G[m]=G[v]=G[x]=!1;var U={};U[s]=U[a]=U[w]=U[E]=U[u]=U[l]=U[M]=U[L]=U[S]=U[P]=U[C]=U[p]=U[d]=U[g]=U[_]=U[m]=U[v]=U[b]=U[I]=U[k]=U[T]=U[N]=!0,U[h]=U[c]=U[x]=!1;var q="object"==typeof t&&t&&t.Object===Object&&t,V="object"==typeof self&&self&&self.Object===Object&&self,H=q||V||Function("return this")(),Z=e&&!e.nodeType&&e,Y=Z&&"object"==typeof n&&n&&!n.nodeType&&n,X=Y&&Y.exports===Z,W=X&&q.process,Q=function(){try{return W&&W.binding("util")}catch(t){}}(),K=Q&&Q.isTypedArray;function J(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function tt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function et(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function nt(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function rt(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function it(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function ot(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function st(t,e){return function(n){return t(e(n))}}function at(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ut=Array.prototype,lt=Function.prototype,ht=Object.prototype,ct=H["__core-js_shared__"],ft=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pt=lt.toString,dt=ht.hasOwnProperty,gt=pt.call(Object),yt=ht.toString,_t=RegExp("^"+pt.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=X?H.Buffer:r,vt=H.Symbol,bt=H.Uint8Array,xt=st(Object.getPrototypeOf,Object),wt=Object.create,Et=ht.propertyIsEnumerable,Mt=ut.splice,Lt=Object.getOwnPropertySymbols,St=mt?mt.isBuffer:r,Pt=st(Object.keys,Object),Ct=Math.max,It=ve(H,"DataView"),kt=ve(H,"Map"),Tt=ve(H,"Promise"),Nt=ve(H,"Set"),Ot=ve(H,"WeakMap"),At=ve(Object,"create"),Rt=!Et.call({valueOf:1},"valueOf"),Dt=Ie(It),zt=Ie(kt),Ft=Ie(Tt),Bt=Ie(Nt),jt=Ie(Ot),Gt=vt?vt.prototype:r,Ut=Gt?Gt.valueOf:r,qt=Gt?Gt.toString:r;function Vt(){}function Ht(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Yt;++e<n;)this.add(t[e])}function Wt(t){this.__data__=new Zt(t)}function Qt(t,e){var n=Ae(t)||Oe(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!dt.call(t,o)||i&&("length"==o||we(o,r))||n.push(o);return n}function Kt(t,e,n){(n!==r&&!Ne(t[e],n)||"number"==typeof e&&n===r&&!(e in t))&&(t[e]=n)}function Jt(t,e,n){var i=t[e];dt.call(t,e)&&Ne(i,n)&&(n!==r||e in t)||(t[e]=n)}function $t(t,e){for(var n=t.length;n--;)if(Ne(t[n][0],e))return n;return-1}function te(t,e,n,i,o,a,h){var y;if(i&&(y=a?i(t,o,a,h):i(t)),y!==r)return y;if(!je(t))return t;var x=Ae(t);if(x){if(y=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&dt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return de(t,y)}else{var O=xe(t),A=O==c||O==f;if(ze(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(O==g||O==s||A&&!a){if(it(t))return a?t:{};if(y=function(t){return"function"!=typeof t.constructor||Me(t)?{}:(e=xt(t),je(e)?wt(e):{});var e}(A?{}:t),!e)return function(t,e){return ge(t,be(t),e)}(t,function(t,e){return t&&ge(e,Qe(e),t)}(y,t))}else{if(!U[O])return a?t:{};y=function(t,e,n,r){var i=t.constructor;switch(e){case w:return pe(t);case u:case l:return new i(+t);case E:return function(t,e){var n=e?pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case M:case L:case S:case P:case C:case I:case k:case T:case N:return function(t,e){var n=e?pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case p:return function(t,e,n){return nt(e?n(ot(t),!0):ot(t),J,new t.constructor)}(t,r,n);case d:case v:return new i(t);case _:return function(t){var e=new t.constructor(t.source,F.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return function(t,e,n){return nt(e?n(at(t),!0):at(t),$,new t.constructor)}(t,r,n);case b:return o=t,Ut?Object(Ut.call(o)):{}}var o}(t,O,te,e)}}h||(h=new Wt);var R=h.get(t);if(R)return R;if(h.set(t,y),!x)var D=n?function(t){return function(t,e,n){var r=e(t);return Ae(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Qe,be)}(t):Qe(t);return et(D||t,(function(r,o){D&&(r=t[o=r]),Jt(y,o,te(r,e,n,i,o,t,h))})),y}Ht.prototype.clear=function(){this.__data__=At?At(null):{}},Ht.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ht.prototype.get=function(t){var e=this.__data__;if(At){var n=e[t];return n===i?r:n}return dt.call(e,t)?e[t]:r},Ht.prototype.has=function(t){var e=this.__data__;return At?e[t]!==r:dt.call(e,t)},Ht.prototype.set=function(t,e){return this.__data__[t]=At&&e===r?i:e,this},Zt.prototype.clear=function(){this.__data__=[]},Zt.prototype.delete=function(t){var e=this.__data__,n=$t(e,t);return!(n<0)&&(n==e.length-1?e.pop():Mt.call(e,n,1),!0)},Zt.prototype.get=function(t){var e=this.__data__,n=$t(e,t);return n<0?r:e[n][1]},Zt.prototype.has=function(t){return $t(this.__data__,t)>-1},Zt.prototype.set=function(t,e){var n=this.__data__,r=$t(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Yt.prototype.clear=function(){this.__data__={hash:new Ht,map:new(kt||Zt),string:new Ht}},Yt.prototype.delete=function(t){return me(this,t).delete(t)},Yt.prototype.get=function(t){return me(this,t).get(t)},Yt.prototype.has=function(t){return me(this,t).has(t)},Yt.prototype.set=function(t,e){return me(this,t).set(t,e),this},Xt.prototype.add=Xt.prototype.push=function(t){return this.__data__.set(t,i),this},Xt.prototype.has=function(t){return this.__data__.has(t)},Wt.prototype.clear=function(){this.__data__=new Zt},Wt.prototype.delete=function(t){return this.__data__.delete(t)},Wt.prototype.get=function(t){return this.__data__.get(t)},Wt.prototype.has=function(t){return this.__data__.has(t)},Wt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Zt){var r=n.__data__;if(!kt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Yt(r)}return n.set(t,e),this};var ee,ne,re=(ee=function(t,e){return t&&ie(t,e,Qe)},function(t,e){if(null==t)return t;if(!Re(t))return ee(t,e);for(var n=t.length,r=ne?n:-1,i=Object(t);(ne?r--:++r<n)&&!1!==e(i[r],r,i););return t}),ie=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}();function oe(t,e){for(var n=0,i=(e=Ee(e,t)?[e]:fe(e)).length;null!=t&&n<i;)t=t[Ce(e[n++])];return n&&n==i?t:r}function se(t,e){return null!=t&&e in Object(t)}function ae(t,e,n,i,o){return t===e||(null==t||null==e||!je(t)&&!Ge(e)?t!==t&&e!==e:function(t,e,n,i,o,c){var f=Ae(t),y=Ae(e),x=a,M=a;f||(x=(x=xe(t))==s?g:x);y||(M=(M=xe(e))==s?g:M);var L=x==g&&!it(t),S=M==g&&!it(e),P=x==M;if(P&&!L)return c||(c=new Wt),f||He(t)?ye(t,e,n,i,o,c):function(t,e,n,r,i,o,s){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new bt(t),new bt(e)));case u:case l:case d:return Ne(+t,+e);case h:return t.name==e.name&&t.message==e.message;case _:case v:return t==e+"";case p:var a=ot;case m:var c=2&o;if(a||(a=at),t.size!=e.size&&!c)return!1;var f=s.get(t);if(f)return f==e;o|=1,s.set(t,e);var g=ye(a(t),a(e),r,i,o,s);return s.delete(t),g;case b:if(Ut)return Ut.call(t)==Ut.call(e)}return!1}(t,e,x,n,i,o,c);if(!(2&o)){var C=L&&dt.call(t,"__wrapped__"),I=S&&dt.call(e,"__wrapped__");if(C||I){var k=C?t.value():t,T=I?e.value():e;return c||(c=new Wt),n(k,T,i,o,c)}}if(!P)return!1;return c||(c=new Wt),function(t,e,n,i,o,s){var a=2&o,u=Qe(t),l=u.length,h=Qe(e).length;if(l!=h&&!a)return!1;var c=l;for(;c--;){var f=u[c];if(!(a?f in e:dt.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);var g=a;for(;++c<l;){var y=t[f=u[c]],_=e[f];if(i)var m=a?i(_,y,f,e,t,s):i(y,_,f,t,e,s);if(!(m===r?y===_||n(y,_,i,o,s):m)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,i,o,c)}(t,e,ae,n,i,o))}function ue(t){return!(!je(t)||(e=t,ft&&ft in e))&&(Fe(t)||it(t)?_t:B).test(Ie(t));var e}function le(t){return"function"==typeof t?t:null==t?$e:"object"==typeof t?Ae(t)?function(t,e){if(Ee(t)&&Le(e))return Se(Ce(t),e);return function(n){var i=Xe(n,t);return i===r&&i===e?We(n,t):ae(e,i,r,3)}}(t[0],t[1]):function(t){var e=function(t){var e=Qe(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,Le(i)]}return e}(t);if(1==e.length&&e[0][2])return Se(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var l=(u=n[o])[0],h=t[l],c=u[1];if(a&&u[2]){if(h===r&&!(l in t))return!1}else{var f=new Wt;if(i)var p=i(h,c,l,t,e,f);if(!(p===r?ae(c,h,i,3,f):p))return!1}}return!0}(n,t,e)}}(t):en(t)}function he(t){if(!je(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Me(t),n=[];for(var r in t)("constructor"!=r||!e&&dt.call(t,r))&&n.push(r);return n}function ce(t,e,n,i,o){if(t!==e){if(!Ae(e)&&!He(e))var s=he(e);et(s||e,(function(a,u){if(s&&(a=e[u=a]),je(a))o||(o=new Wt),function(t,e,n,i,o,s,a){var u=t[n],l=e[n],h=a.get(l);if(h)return void Kt(t,n,h);var c=s?s(u,l,n+"",t,e,a):r,f=c===r;f&&(c=l,Ae(l)||He(l)?Ae(u)?c=u:De(u)?c=de(u):(f=!1,c=te(l,!0)):Ue(l)||Oe(l)?Oe(u)?c=Ze(u):!je(u)||i&&Fe(u)?(f=!1,c=te(l,!0)):c=u:f=!1);f&&(a.set(l,c),o(c,l,i,s,a),a.delete(l));Kt(t,n,c)}(t,e,u,n,ce,i,o);else{var l=i?i(t[u],a,u+"",t,e,o):r;l===r&&(l=a),Kt(t,u,l)}}))}}function fe(t){return Ae(t)?t:Pe(t)}function pe(t){var e=new t.constructor(t.byteLength);return new bt(e).set(new bt(t)),e}function de(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function ge(t,e,n,i){n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):r;Jt(n,a,u===r?t[a]:u)}return n}function ye(t,e,n,i,o,s){var a=2&o,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var c=-1,f=!0,p=1&o?new Xt:r;for(s.set(t,e),s.set(e,t);++c<u;){var d=t[c],g=e[c];if(i)var y=a?i(g,d,c,e,t,s):i(d,g,c,t,e,s);if(y!==r){if(y)continue;f=!1;break}if(p){if(!rt(e,(function(t,e){if(!p.has(e)&&(d===t||n(d,t,i,o,s)))return p.add(e)}))){f=!1;break}}else if(d!==g&&!n(d,g,i,o,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function _e(){var t=Vt.iteratee||tn;return t=t===tn?le:t,arguments.length?t(arguments[0],arguments[1]):t}function me(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function ve(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return ue(n)?n:r}var be=Lt?st(Lt,Object):nn,xe=function(t){return yt.call(t)};function we(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Ee(t,e){if(Ae(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!qe(t))||(A.test(t)||!O.test(t)||null!=e&&t in Object(e))}function Me(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ht)}function Le(t){return t===t&&!je(t)}function Se(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Object(n)))}}(It&&xe(new It(new ArrayBuffer(1)))!=E||kt&&xe(new kt)!=p||Tt&&xe(Tt.resolve())!=y||Nt&&xe(new Nt)!=m||Ot&&xe(new Ot)!=x)&&(xe=function(t){var e=yt.call(t),n=e==g?t.constructor:r,i=n?Ie(n):r;if(i)switch(i){case Dt:return E;case zt:return p;case Ft:return y;case Bt:return m;case jt:return x}return e});var Pe=Te((function(t){t=Ye(t);var e=[];return R.test(t)&&e.push(""),t.replace(D,(function(t,n,r,i){e.push(r?i.replace(z,"$1"):n||t)})),e}));function Ce(t){if("string"==typeof t||qe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ie(t){if(null!=t){try{return pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ke(t,e){return(Ae(t)?et:re)(t,_e(e,3))}function Te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Te.Cache||Yt),n}function Ne(t,e){return t===e||t!==t&&e!==e}function Oe(t){return De(t)&&dt.call(t,"callee")&&(!Et.call(t,"callee")||yt.call(t)==s)}Te.Cache=Yt;var Ae=Array.isArray;function Re(t){return null!=t&&Be(t.length)&&!Fe(t)}function De(t){return Ge(t)&&Re(t)}var ze=St||rn;function Fe(t){var e=je(t)?yt.call(t):"";return e==c||e==f}function Be(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function je(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ge(t){return!!t&&"object"==typeof t}function Ue(t){if(!Ge(t)||yt.call(t)!=g||it(t))return!1;var e=xt(t);if(null===e)return!0;var n=dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pt.call(n)==gt}function qe(t){return"symbol"==typeof t||Ge(t)&&yt.call(t)==b}var Ve,He=K?(Ve=K,function(t){return Ve(t)}):function(t){return Ge(t)&&Be(t.length)&&!!G[yt.call(t)]};function Ze(t){return ge(t,Ke(t))}function Ye(t){return null==t?"":function(t){if("string"==typeof t)return t;if(qe(t))return qt?qt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}function Xe(t,e,n){var i=null==t?r:oe(t,e);return i===r?n:i}function We(t,e){return null!=t&&function(t,e,n){for(var r,i=-1,o=(e=Ee(e,t)?[e]:fe(e)).length;++i<o;){var s=Ce(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r||!!(o=t?t.length:0)&&Be(o)&&we(s,o)&&(Ae(t)||Oe(t))}(t,e,se)}function Qe(t){return Re(t)?Qt(t):function(t){if(!Me(t))return Pt(t);var e=[];for(var n in Object(t))dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function Ke(t){return Re(t)?Qt(t,!0):he(t)}var Je=function(t){return e=function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(o--,s):r,a&&function(t,e,n){if(!je(n))return!1;var r=typeof e;return!!("number"==r?Re(n)&&we(e,n.length):"string"==r&&e in n)&&Ne(n[e],t)}(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=Object(e);++i<o;){var u=n[i];u&&t(e,u,i,s)}return e},n=Ct(n===r?e.length-1:n,0),function(){for(var t=arguments,r=-1,i=Ct(t.length-n,0),o=Array(i);++r<i;)o[r]=t[n+r];r=-1;for(var s=Array(n+1);++r<n;)s[r]=t[r];return s[n]=o,tt(e,this,s)};var e,n}((function(t,e,n){ce(t,e,n)}));function $e(t){return t}function tn(t){return le("function"==typeof t?t:te(t,!0))}function en(t){return Ee(t)?(e=Ce(t),function(t){return null==t?r:t[e]}):function(t){return function(e){return oe(e,t)}}(t);var e}function nn(){return[]}function rn(){return!1}Vt.compact=function(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Vt.iteratee=tn,Vt.keys=Qe,Vt.keysIn=Ke,Vt.memoize=Te,Vt.merge=Je,Vt.property=en,Vt.toPlainObject=Ze,Vt.clone=function(t){return te(t,!1,!0)},Vt.eq=Ne,Vt.forEach=ke,Vt.get=Xe,Vt.hasIn=We,Vt.identity=$e,Vt.isArguments=Oe,Vt.isArray=Ae,Vt.isArrayLike=Re,Vt.isArrayLikeObject=De,Vt.isBuffer=ze,Vt.isEmpty=function(t){if(Re(t)&&(Ae(t)||"string"==typeof t||"function"==typeof t.splice||ze(t)||Oe(t)))return!t.length;var e=xe(t);if(e==p||e==m)return!t.size;if(Rt||Me(t))return!Pt(t).length;for(var n in t)if(dt.call(t,n))return!1;return!0},Vt.isFunction=Fe,Vt.isLength=Be,Vt.isObject=je,Vt.isObjectLike=Ge,Vt.isPlainObject=Ue,Vt.isSymbol=qe,Vt.isTypedArray=He,Vt.stubArray=nn,Vt.stubFalse=rn,Vt.toString=Ye,Vt.each=ke,Vt.VERSION="4.15.0",Y&&((Y.exports=Vt)._=Vt,Z._=Vt)}).call(this)}).call(this,n(36),n(158)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(160);function i(t,e){return function(n){return t(n,e)}}function o(t,e){e=!!e,t[0]=s(t[0],e);for(var n=1;n<t.length;n++)t[n]=s(t[n],!e);return t}function s(t,e){return function(t){return r.ring(t)>=0}(t)===e?t:t.reverse()}t.exports=function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(i(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(i(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){"Polygon"===t.type?t.coordinates=o(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(o,e)));return t}(e,n);default:return e}}},function(t,e,n){var r=n(161);function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,i,o,a,u,l=0,h=t.length;if(h>2){for(u=0;u<h;u++)u===h-2?(i=h-2,o=h-1,a=0):u===h-1?(i=h-1,o=0,a=1):(i=u,o=u+1,a=u+2),e=t[i],n=t[o],l+=(s(t[a][0])-s(e[0]))*Math.sin(s(n[1]));l=l*r.RADIUS*r.RADIUS/2}return l}function s(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=i(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},t.exports.ring=o},function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},function(t,e,n){t.exports=n(163)},function(t){t.exports=JSON.parse('[{"key":"building","polygon":"all"},{"key":"highway","polygon":"whitelist","values":["services","rest_area","escape","elevator"]},{"key":"natural","polygon":"blacklist","values":["coastline","cliff","ridge","arete","tree_row"]},{"key":"landuse","polygon":"all"},{"key":"waterway","polygon":"whitelist","values":["riverbank","dock","boatyard","dam"]},{"key":"amenity","polygon":"all"},{"key":"leisure","polygon":"all"},{"key":"barrier","polygon":"whitelist","values":["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{"key":"railway","polygon":"whitelist","values":["station","turntable","roundhouse","platform"]},{"key":"area","polygon":"all"},{"key":"boundary","polygon":"all"},{"key":"man_made","polygon":"blacklist","values":["cutline","embankment","pipeline"]},{"key":"power","polygon":"whitelist","values":["plant","substation","generator","transformer"]},{"key":"place","polygon":"all"},{"key":"shop","polygon":"all"},{"key":"aeroway","polygon":"blacklist","values":["taxiway"]},{"key":"tourism","polygon":"all"},{"key":"historic","polygon":"all"},{"key":"public_transport","polygon":"all"},{"key":"office","polygon":"all"},{"key":"building:part","polygon":"all"},{"key":"military","polygon":"all"},{"key":"ruins","polygon":"all"},{"key":"area:highway","polygon":"all"},{"key":"craft","polygon":"all"},{"key":"golf","polygon":"all"},{"key":"indoor","polygon":"all"}]')},,function(t,e,n){},function(t,e,n){!function(t){"use strict";function e(t,e){return t>e?1:t<e?-1:0}var n=function(t,n){void 0===t&&(t=e),void 0===n&&(n=!1),this._compare=t,this._root=null,this._size=0,this._noDuplicates=!!n},r={size:{configurable:!0}};function i(t,e,n,r,o){var s=o-r;if(s>0){var a=r+Math.floor(s/2),u={key:e[a],data:n[a],parent:t};return u.left=i(u,e,n,r,a),u.right=i(u,e,n,a+1,o),u}return null}function o(t,e,n,r,i){if(!(n>=r)){for(var s=t[n+r>>1],a=n-1,u=r+1;;){do{a++}while(i(t[a],s)<0);do{u--}while(i(t[u],s)>0);if(a>=u)break;var l=t[a];t[a]=t[u],t[u]=l,l=e[a],e[a]=e[u],e[u]=l}o(t,e,n,u,i),o(t,e,u+1,r,i)}}n.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},n.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},n.prototype._splay=function(t){for(;t.parent;){var e=t.parent;e.parent?e.left===t&&e.parent.left===e?(this.rotateRight(e.parent),this.rotateRight(e)):e.right===t&&e.parent.right===e?(this.rotateLeft(e.parent),this.rotateLeft(e)):e.left===t&&e.parent.right===e?(this.rotateRight(e),this.rotateLeft(e)):(this.rotateLeft(e),this.rotateRight(e)):e.left===t?this.rotateRight(e):this.rotateLeft(e)}},n.prototype.splay=function(t){for(var e,n,r,i,o;t.parent;)(n=(e=t.parent).parent)&&n.parent?((r=n.parent).left===n?r.left=t:r.right=t,t.parent=r):(t.parent=null,this._root=t),i=t.left,o=t.right,t===e.left?(n&&(n.left===e?(e.right?(n.left=e.right,n.left.parent=n):n.left=null,e.right=n,n.parent=e):(i?(n.right=i,i.parent=n):n.right=null,t.left=n,n.parent=t)),o?(e.left=o,o.parent=e):e.left=null,t.right=e,e.parent=t):(n&&(n.right===e?(e.left?(n.right=e.left,n.right.parent=n):n.right=null,e.left=n,n.parent=e):(o?(n.left=o,o.parent=n):n.left=null,t.right=n,n.parent=t)),i?(e.right=i,i.parent=e):e.right=null,t.left=e,e.parent=t)},n.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},n.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},n.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},n.prototype.insert=function(t,e){var n=this._root,r=null,i=this._compare;if(this._noDuplicates)for(;n;){if(r=n,0===i(n.key,t))return;n=i(n.key,t)<0?n.right:n.left}else for(;n;)r=n,n=i(n.key,t)<0?n.right:n.left;return n={key:t,data:e,left:null,right:null,parent:r},r?i(r.key,n.key)<0?r.right=n:r.left=n:this._root=n,this.splay(n),this._size++,n},n.prototype.find=function(t){for(var e=this._root,n=this._compare;e;){var r=n(e.key,t);if(r<0)e=e.right;else{if(!(r>0))return e;e=e.left}}return null},n.prototype.contains=function(t){for(var e=this._root,n=this._compare;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},n.prototype.remove=function(t){var e=this.find(t);if(!e)return!1;if(this.splay(e),e.left)if(e.right){var n=this.minNode(e.right);n.parent!==e&&(this.replace(n,n.right),n.right=e.right,n.right.parent=n),this.replace(e,n),n.left=e.left,n.left.parent=n}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},n.prototype.removeNode=function(t){if(!t)return!1;if(this.splay(t),t.left)if(t.right){var e=this.minNode(t.right);e.parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},n.prototype.erase=function(t){var e=this.find(t);if(e){this.splay(e);var n=e.left,r=e.right,i=null;n&&(n.parent=null,i=this.maxNode(n),this.splay(i),this._root=i),r&&(n?i.right=r:this._root=r,r.parent=i),this._size--}},n.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},n.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)t=e,e=e.parent;return e},n.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)t=e,e=e.parent;return e},n.prototype.forEach=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)e?(n.push(e),e=e.left):n.length>0?(t(e=n.pop(),i++),e=e.right):r=!0;return this},n.prototype.range=function(t,e,n,r){for(var i=[],o=this._compare,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},n.prototype.keys=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.key),t=t.right):r=!0;return n},n.prototype.values=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),n.push(t.data),t=t.right):r=!0;return n},n.prototype.at=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)if(e)n.push(e),e=e.left;else if(n.length>0){if(e=n.pop(),i===t)return e;i++,e=e.right}else r=!0;return null},n.prototype.load=function(t,e,n){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var r=t.length;return n&&o(t,e,0,r-1,this._compare),this._root=i(null,t,e,0,r),this._size=r,this},n.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},n.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},n.prototype.isEmpty=function(){return null===this._root},r.size.get=function(){return this._size},n.createTree=function(t,e,r,i,o){return new n(r,o).load(t,e,i)},Object.defineProperties(n.prototype,r);var s=0,a=1,u=2,l=3,h=0,c=1,f=2,p=3;function d(t,e,n){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!g(e,n)||e.isVertical()?e.prevInResult:e));var r=g(t,n);t.resultTransition=r?y(t,n):0}function g(t,e){switch(t.type){case s:switch(e){case h:return!t.otherInOut;case c:return t.otherInOut;case f:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case p:return!0}break;case u:return e===h||e===c;case l:return e===f;case a:return!1}return!1}function y(t,e){var n,r=!t.inOut,i=!t.otherInOut;switch(e){case h:n=r&&i;break;case c:n=r||i;break;case p:n=r^i;break;case f:n=t.isSubject?r&&!i:i&&!r}return n?1:-1}var _=function(t,e,n,r,i){this.left=e,this.point=t,this.otherEvent=n,this.isSubject=r,this.type=i||s,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.resultTransition=0,this.otherPos=-1,this.outputContourId=-1,this.isExteriorRing=!0},m={inResult:{configurable:!0}};function v(t,e){return t[0]===e[0]&&t[1]===e[1]}_.prototype.isBelow=function(t){var e=this.point,n=this.otherEvent.point;return this.left?(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])>0:(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])>0},_.prototype.isAbove=function(t){return!this.isBelow(t)},_.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},m.inResult.get=function(){return 0!==this.resultTransition},_.prototype.clone=function(){var t=new _(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.contourId=this.contourId,t.resultTransition=this.resultTransition,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t},Object.defineProperties(_.prototype,m);var b=11102230246251565e-32,x=134217729,w=(3+8*b)*b;function E(t,e,n,r,i){var o,s,a,u,l=e[0],h=r[0],c=0,f=0;h>l===h>-l?(o=l,l=e[++c]):(o=h,h=r[++f]);var p=0;if(c<t&&f<n)for(h>l===h>-l?(a=o-((s=l+o)-l),l=e[++c]):(a=o-((s=h+o)-h),h=r[++f]),o=s,0!==a&&(i[p++]=a);c<t&&f<n;)h>l===h>-l?(a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++c]):(a=o-((s=o+h)-(u=s-o))+(h-u),h=r[++f]),o=s,0!==a&&(i[p++]=a);for(;c<t;)a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++c],o=s,0!==a&&(i[p++]=a);for(;f<n;)a=o-((s=o+h)-(u=s-o))+(h-u),h=r[++f],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function M(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}function L(t){return new Float64Array(t)}var S=(3+16*b)*b,P=(2+12*b)*b,C=(9+64*b)*b*b,I=L(4),k=L(8),T=L(12),N=L(16),O=L(4);function A(t,e,n,r,i,o,s){var a,u,l,h,c,f,p,d,g,y,_,m,v,b,L,S,A,R,D=t-i,z=n-i,F=e-o,B=r-o;c=(L=(d=D-(p=(f=x*D)-(f-D)))*(y=B-(g=(f=x*B)-(f-B)))-((b=D*B)-p*g-d*g-p*y))-(_=L-(A=(d=F-(p=(f=x*F)-(f-F)))*(y=z-(g=(f=x*z)-(f-z)))-((S=F*z)-p*g-d*g-p*y))),I[0]=L-(_+c)+(c-A),c=(v=b-((m=b+_)-(c=m-b))+(_-c))-(_=v-S),I[1]=v-(_+c)+(c-S),c=(R=m+_)-m,I[2]=m-(R-c)+(_-c),I[3]=R;var j=M(4,I),G=P*s;if(j>=G||-j>=G)return j;if(a=t-(D+(c=t-D))+(c-i),l=n-(z+(c=n-z))+(c-i),u=e-(F+(c=e-F))+(c-o),h=r-(B+(c=r-B))+(c-o),0===a&&0===u&&0===l&&0===h)return j;if(G=C*s+w*Math.abs(j),(j+=D*h+B*a-(F*l+z*u))>=G||-j>=G)return j;c=(L=(d=a-(p=(f=x*a)-(f-a)))*(y=B-(g=(f=x*B)-(f-B)))-((b=a*B)-p*g-d*g-p*y))-(_=L-(A=(d=u-(p=(f=x*u)-(f-u)))*(y=z-(g=(f=x*z)-(f-z)))-((S=u*z)-p*g-d*g-p*y))),O[0]=L-(_+c)+(c-A),c=(v=b-((m=b+_)-(c=m-b))+(_-c))-(_=v-S),O[1]=v-(_+c)+(c-S),c=(R=m+_)-m,O[2]=m-(R-c)+(_-c),O[3]=R;var U=E(4,I,4,O,k);c=(L=(d=D-(p=(f=x*D)-(f-D)))*(y=h-(g=(f=x*h)-(f-h)))-((b=D*h)-p*g-d*g-p*y))-(_=L-(A=(d=F-(p=(f=x*F)-(f-F)))*(y=l-(g=(f=x*l)-(f-l)))-((S=F*l)-p*g-d*g-p*y))),O[0]=L-(_+c)+(c-A),c=(v=b-((m=b+_)-(c=m-b))+(_-c))-(_=v-S),O[1]=v-(_+c)+(c-S),c=(R=m+_)-m,O[2]=m-(R-c)+(_-c),O[3]=R;var q=E(U,k,4,O,T);c=(L=(d=a-(p=(f=x*a)-(f-a)))*(y=h-(g=(f=x*h)-(f-h)))-((b=a*h)-p*g-d*g-p*y))-(_=L-(A=(d=u-(p=(f=x*u)-(f-u)))*(y=l-(g=(f=x*l)-(f-l)))-((S=u*l)-p*g-d*g-p*y))),O[0]=L-(_+c)+(c-A),c=(v=b-((m=b+_)-(c=m-b))+(_-c))-(_=v-S),O[1]=v-(_+c)+(c-S),c=(R=m+_)-m,O[2]=m-(R-c)+(_-c),O[3]=R;var V=E(q,T,4,O,N);return N[V-1]}function R(t,e,n,r,i,o){var s=(e-o)*(n-i),a=(t-i)*(r-o),u=s-a;if(0===s||0===a||s>0!==a>0)return u;var l=Math.abs(s+a);return Math.abs(u)>=S*l?u:-A(t,e,n,r,i,o,l)}function D(t,e,n){var r=R(t[0],t[1],e[0],e[1],n[0],n[1]);return r>0?-1:r<0?1:0}function z(t,e){var n=t.point,r=e.point;return n[0]>r[0]?1:n[0]<r[0]?-1:n[1]!==r[1]?n[1]>r[1]?1:-1:F(t,e,n)}function F(t,e,n,r){return t.left!==e.left?t.left?1:-1:0!==D(n,t.otherEvent.point,e.otherEvent.point)?t.isBelow(e.otherEvent.point)?-1:1:!t.isSubject&&e.isSubject?1:-1}function B(t,e,n){var r=new _(e,!1,t,t.isSubject),i=new _(e,!0,t.otherEvent,t.isSubject);return v(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),r.contourId=i.contourId=t.contourId,z(i,t.otherEvent)>0&&(t.otherEvent.left=!0,i.left=!1),t.otherEvent.otherEvent=i,t.otherEvent=r,n.push(i),n.push(r),n}function j(t,e){return t[0]*e[1]-t[1]*e[0]}function G(t,e){return t[0]*e[0]+t[1]*e[1]}function U(t,e,n,r,i){var o=[e[0]-t[0],e[1]-t[1]],s=[r[0]-n[0],r[1]-n[1]];function a(t,e,n){return[t[0]+e*n[0],t[1]+e*n[1]]}var u=[n[0]-t[0],n[1]-t[1]],l=j(o,s),h=l*l,c=G(o,o);if(h>0){var f=j(u,s)/l;if(f<0||f>1)return null;var p=j(u,o)/l;return p<0||p>1?null:0===f||1===f?i?null:[a(t,f,o)]:0===p||1===p?i?null:[a(n,p,s)]:[a(t,f,o)]}if((h=(l=j(u,o))*l)>0)return null;var d=G(o,u)/c,g=d+G(o,s)/c,y=Math.min(d,g),_=Math.max(d,g);return y<=1&&_>=0?1===y?i?null:[a(t,y>0?y:0,o)]:0===_?i?null:[a(t,_<1?_:1,o)]:i&&0===y&&1===_?null:[a(t,y>0?y:0,o),a(t,_<1?_:1,o)]:null}function q(t,e,n){var r=U(t.point,t.otherEvent.point,e.point,e.otherEvent.point),i=r?r.length:0;if(0===i)return 0;if(1===i&&(v(t.point,e.point)||v(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===i&&t.isSubject===e.isSubject)return 0;if(1===i)return v(t.point,r[0])||v(t.otherEvent.point,r[0])||B(t,r[0],n),v(e.point,r[0])||v(e.otherEvent.point,r[0])||B(e,r[0],n),1;var o=[],s=!1,h=!1;return v(t.point,e.point)?s=!0:1===z(t,e)?o.push(e,t):o.push(t,e),v(t.otherEvent.point,e.otherEvent.point)?h=!0:1===z(t.otherEvent,e.otherEvent)?o.push(e.otherEvent,t.otherEvent):o.push(t.otherEvent,e.otherEvent),s&&h||s?(e.type=a,t.type=e.inOut===t.inOut?u:l,s&&!h&&B(o[1].otherEvent,o[0].point,n),2):h?(B(o[0],o[1].point,n),3):o[0]!==o[3].otherEvent?(B(o[0],o[1].point,n),B(o[1],o[2].point,n),3):(B(o[0],o[1].point,n),B(o[3].otherEvent,o[2].point,n),3)}function V(t,e){if(t===e)return 0;if(0!==D(t.point,t.otherEvent.point,e.point)||0!==D(t.point,t.otherEvent.point,e.otherEvent.point))return v(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===z(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1;if(t.isSubject!==e.isSubject)return t.isSubject?-1:1;var n=t.point,r=e.point;return n[0]===r[0]&&n[1]===r[1]?(n=t.otherEvent.point,r=e.otherEvent.point,n[0]===r[0]&&n[1]===r[1]?0:t.contourId>e.contourId?1:-1):1===z(t,e)?1:-1}function H(t,e,r,i,o,s){for(var a,u,l,c=new n(V),p=[],g=Math.min(i[2],o[2]);0!==t.length;){var y=t.pop();if(p.push(y),s===h&&y.point[0]>g||s===f&&y.point[0]>i[2])break;if(y.left){u=a=c.insert(y),a=a!==(l=c.minNode())?c.prev(a):null,u=c.next(u);var _=a?a.key:null;if(d(y,_,s),u&&2===q(y,u.key,t)&&(d(y,_,s),d(y,u.key,s)),a&&2===q(a.key,y,t)){var m=a;d(_,(m=m!==l?c.prev(m):null)?m.key:null,s),d(y,_,s)}}else y=y.otherEvent,u=a=c.find(y),a&&u&&(a=a!==l?c.prev(a):null,u=c.next(u),c.remove(y),u&&a&&q(a.key,u.key,t))}return p}var Z=function(){this.points=[],this.holeIds=[],this.holeOf=null,this.depth=null};function Y(t){var e,n,r,i,o=[];for(n=0,r=t.length;n<r;n++)((e=t[n]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&o.push(e);for(var s=!1;!s;)for(s=!0,n=0,r=o.length;n<r;n++)n+1<r&&1===z(o[n],o[n+1])&&(i=o[n],o[n]=o[n+1],o[n+1]=i,s=!1);for(n=0,r=o.length;n<r;n++)(e=o[n]).otherPos=n;for(n=0,r=o.length;n<r;n++)(e=o[n]).left||(i=e.otherPos,e.otherPos=e.otherEvent.otherPos,e.otherEvent.otherPos=i);return o}function X(t,e,n,r){var i,o=t+1,s=e[t].point,a=e.length;for(o<a&&(i=e[o].point);o<a&&i[0]===s[0]&&i[1]===s[1];){if(!n[o])return o;i=e[++o].point}for(o=t-1;n[o]&&o>r;)o--;return o}function W(t,e,n){var r=new Z;if(null!=t.prevInResult){var i=t.prevInResult,o=i.outputContourId;if(i.resultTransition>0){var s=e[o];if(null!=s.holeOf){var a=s.holeOf;e[a].holeIds.push(n),r.holeOf=a,r.depth=e[o].depth}else e[o].holeIds.push(n),r.holeOf=o,r.depth=e[o].depth+1}else r.holeOf=null,r.depth=e[o].depth}else r.holeOf=null,r.depth=0;return r}function Q(t){var e,n,r=Y(t),i={},o=[],s=function(){if(!i[e]){var t=o.length,n=W(r[e],o,t),s=function(e){i[e]=!0,r[e].outputContourId=t},a=e,u=e,l=r[e].point;for(n.points.push(l);s(a),s(a=r[a].otherPos),n.points.push(r[a].point),(a=X(a,r,i,u))!=u;);o.push(n)}};for(e=0,n=r.length;e<n;e++)s();return o}Z.prototype.isExterior=function(){return null==this.holeOf};var K=$,J=$;function $(t,e){if(!(this instanceof $))return new $(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||tt,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function tt(t,e){return t<e?-1:t>e?1:0}$.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},K.default=J;var et=Math.max,nt=Math.min,rt=0;function it(t,e,n,r,i,o){var s,a,u,l,h,c;for(s=0,a=t.length-1;s<a;s++)if(u=t[s],l=t[s+1],h=new _(u,!1,void 0,e),c=new _(l,!1,h,e),h.otherEvent=c,u[0]!==l[0]||u[1]!==l[1]){h.contourId=c.contourId=n,o||(h.isExteriorRing=!1,c.isExteriorRing=!1),z(h,c)>0?c.left=!0:h.left=!0;var f=u[0],p=u[1];i[0]=nt(i[0],f),i[1]=nt(i[1],p),i[2]=et(i[2],f),i[3]=et(i[3],p),r.push(h),r.push(c)}}function ot(t,e,n,r,i){var o,s,a,u,l,h,c=new K(null,z);for(a=0,u=t.length;a<u;a++)for(l=0,h=(o=t[a]).length;l<h;l++)(s=0===l)&&rt++,it(o[l],!0,rt,c,n,s);for(a=0,u=e.length;a<u;a++)for(l=0,h=(o=e[a]).length;l<h;l++)s=0===l,i===f&&(s=!1),s&&rt++,it(o[l],!1,rt,c,r,s);return c}var st=[];function at(t,e,n){var r=null;return t.length*e.length===0&&(n===h?r=st:n===f?r=t:n!==c&&n!==p||(r=0===t.length?e:t)),r}function ut(t,e,n,r,i){var o=null;return(n[0]>r[2]||r[0]>n[2]||n[1]>r[3]||r[1]>n[3])&&(i===h?o=st:i===f?o=t:i!==c&&i!==p||(o=t.concat(e))),o}function lt(t,e,n){"number"===typeof t[0][0][0]&&(t=[t]),"number"===typeof e[0][0][0]&&(e=[e]);var r=at(t,e,n);if(r)return r===st?null:r;var i=[1/0,1/0,-1/0,-1/0],o=[1/0,1/0,-1/0,-1/0],s=ot(t,e,i,o,n);if(r=ut(t,e,i,o,n))return r===st?null:r;for(var a=Q(H(s,t,e,i,o,n)),u=[],l=0;l<a.length;l++){var h=a[l];if(h.isExterior()){for(var c=[h.points],f=0;f<h.holeIds.length;f++){var p=h.holeIds[f];c.push(a[p].points)}u.push(c)}}return u}function ht(t,e){return lt(t,e,c)}function ct(t,e){return lt(t,e,f)}function ft(t,e){return lt(t,e,p)}function pt(t,e){return lt(t,e,h)}var dt={UNION:c,DIFFERENCE:f,INTERSECTION:h,XOR:p};t.diff=ct,t.intersection=pt,t.operations=dt,t.union=ht,t.xor=ft,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e){L.Handler.MarkerSnap=L.Handler.extend({options:{snapDistance:15,snapVertices:!0},initialize:function(t,e,n){function r(){this._buffer=t.layerPointToLatLng(new L.Point(0,0)).lat-t.layerPointToLatLng(new L.Point(this.options.snapDistance,0)).lat}L.Handler.prototype.initialize.call(this,t),this._markers=[],this._guides=[],2==arguments.length&&(e instanceof L.Class||(n=e,e=null)),L.Util.setOptions(this,n||{}),e&&(e.dragging||(e.dragging=new L.Handler.MarkerDrag(e)),e.dragging.enable(),this.watchMarker(e)),t.on("zoomend",r,this),t.whenReady(r,this),r.call(this)},enable:function(){this.disable();for(var t=0;t<this._markers.length;t++)this.watchMarker(this._markers[t])},disable:function(){for(var t=0;t<this._markers.length;t++)this.unwatchMarker(this._markers[t])},watchMarker:function(t){-1==this._markers.indexOf(t)&&this._markers.push(t),t.on("move",this._snapMarker,this)},unwatchMarker:function(t){t.off("move",this._snapMarker,this),delete t.snap},addGuideLayer:function(t){for(var e=0,n=this._guides.length;e<n;e++)if(L.stamp(t)===L.stamp(this._guides[e]))return;this._guides.push(t)},_snapMarker:function(t){var e=t.target,n=e.getLatLng(),r=[];function i(t){if(t.getLatLng)return L.stamp(e)!==L.stamp(t);if(t.editing&&t.editing._enabled)for(var n=t.editing._verticesHandlers[0]._markerGroup.getLayers(),r=0,i=n.length;r<i;r++)if(L.stamp(n[r])===L.stamp(e))return!1;return!0}function o(t){if(void 0!==t._layers&&"function"!==typeof t.searchBuffer)for(var e in t._layers)o(t._layers[e]);else if("function"===typeof t.searchBuffer){var s=t.searchBuffer(n,this._buffer);r=r.concat(s.filter((function(t){return i(t)})))}else i(t)&&r.push(t)}for(var s=0,a=this._guides.length;s<a;s++){var u=this._guides[s];o.call(this,u)}var l=this._findClosestLayerSnap(this._map,r,n,this.options.snapDistance,this.options.snapVertices);l=l||{layer:null,latlng:null},this._updateSnap(e,l.layer,l.latlng)},_findClosestLayerSnap:function(t,e,n,r,i){return L.GeometryUtil.closestLayerSnap(t,e,n,r,i)},_updateSnap:function(t,e,n){e&&n?(t._latlng=L.latLng(n),t.update(),t.snap!=e&&(t.snap=e,t._icon&&L.DomUtil.addClass(t._icon,"marker-snapped"),t.fire("snap",{layer:e,latlng:n}))):(t.snap&&(t._icon&&L.DomUtil.removeClass(t._icon,"marker-snapped"),t.fire("unsnap",{layer:t.snap})),delete t.snap)}}),L.Edit&&(L.Handler.PolylineSnap=L.Edit.Poly.extend({initialize:function(t,e,n){var r=this;L.Edit.Poly.prototype.initialize.call(this,e,n),this._snapper=new L.Handler.MarkerSnap(t,n),e.on("remove",(function(){r.disable()}))},addGuideLayer:function(t){this._snapper.addGuideLayer(t)},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEditSnap(this._poly,this.latlngs[t],this.options))}}),L.Edit.PolyVerticesEditSnap=L.Edit.PolyVerticesEdit.extend({_createMarker:function(t,e){var n=L.Edit.PolyVerticesEdit.prototype._createMarker.call(this,t,e);return void 0===e?n.on("dragstart",(function(){this._poly.snapediting._snapper.watchMarker(n)}),this):this._poly.snapediting._snapper.watchMarker(n),n}}),L.EditToolbar.SnapEdit=L.EditToolbar.Edit.extend({snapOptions:{snapDistance:15,snapVertices:!0},initialize:function(t,e){L.EditToolbar.Edit.prototype.initialize.call(this,t,e),e.snapOptions&&L.Util.extend(this.snapOptions,e.snapOptions),Array.isArray(this.snapOptions.guideLayers)?this._guideLayers=this.snapOptions.guideLayers:e.guideLayers instanceof L.LayerGroup?this._guideLayers=this.snapOptions.guideLayers.getLayers():this._guideLayers=[]},addGuideLayer:function(t){-1===this._guideLayers.findIndex((function(e){return L.stamp(t)===L.stamp(e)}))&&(this._guideLayers.push(t),this._featureGroup.eachLayer((function(t){t.snapediting&&t.snapediting._guides.push(t)})))},removeGuideLayer:function(t){var e=this._guideLayers.findIndex((function(e){return L.stamp(t)===L.stamp(e)}));-1!==e&&(this._guideLayers.splice(e,1),this._featureGroup.eachLayer((function(t){t.snapediting&&t.snapediting._guides.splice(e,1)})))},clearGuideLayers:function(){this._guideLayers=[],this._featureGroup.eachLayer((function(t){t.snapediting&&(t.snapediting._guides=[])}))},_enableLayerEdit:function(t){L.EditToolbar.Edit.prototype._enableLayerEdit.call(this,t);var e=t.layer||t.target||t;if(!e.snapediting){e.getLatLng?e.snapediting=new L.Handler.MarkerSnap(e._map,e,this.snapOptions):(e.editing&&(e.editing._verticesHandlers[0]._markerGroup.clearLayers(),delete e.editing),e.editing=e.snapediting=new L.Handler.PolylineSnap(e._map,e,this.snapOptions));for(var n=0,r=this._guideLayers.length;n<r;n++)e.snapediting.addGuideLayer(this._guideLayers[n])}e.snapediting.enable()}}),L.Draw.Feature.SnapMixin={_snap_initialize:function(){this.on("enabled",this._snap_on_enabled,this),this.on("disabled",this._snap_on_disabled,this)},_snap_on_enabled:function(){if(this.options.guideLayers)if(this._mouseMarker){this._map.off("layeradd",this._snap_on_enabled,this),this._snapper||(this._snapper=new L.Handler.MarkerSnap(this._map),this.options.snapDistance&&(this._snapper.options.snapDistance=this.options.snapDistance),this.options.snapVertices&&(this._snapper.options.snapVertices=this.options.snapVertices));for(var t=0,e=this.options.guideLayers.length;t<e;t++)this._snapper.addGuideLayer(this.options.guideLayers[t]);var n=this._mouseMarker;this._snapper.watchMarker(n);var r=n.options.icon;n.on("snap",(function(t){n.setIcon(this.options.icon),n.setOpacity(1)}),this).on("unsnap",(function(t){n.setIcon(r),n.setOpacity(0)}),this),n.on("click",this._snap_on_click,this)}else this._map.on("layeradd",this._snap_on_enabled,this)},_snap_on_click:function(t){if(this._markers){var e=this._markers.length,n=this._markers[e-1];if(this._mouseMarker.snap){if(t&&(n.setLatLng(t.target._latlng),this._poly)){var r=this._poly._latlngs.length;this._poly._latlngs[r-1]=t.target._latlng,this._poly.redraw()}L.DomUtil.addClass(n._icon,"marker-snapped")}}},_snap_on_disabled:function(){delete this._snapper}},L.Draw.Feature.include(L.Draw.Feature.SnapMixin),L.Draw.Feature.addInitHook("_snap_initialize"))},function(t,e,n){var r,i,o;i=[n(4)],void 0===(o="function"===typeof(r=function(t){"use strict";return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(t,e,n){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(n))},distanceSegment:function(e,n,r,i){var o=e.latLngToLayerPoint(n),s=e.latLngToLayerPoint(r),a=e.latLngToLayerPoint(i);return t.LineUtil.pointToSegmentDistance(o,s,a)},readableDistance:function(t,e){return"imperial"!==e?t>1e3?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":(t*=1.09361)>1760?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"},belongsSegment:function(t,e,n,r){r=void 0===r?.2:r;var i=e.distanceTo(n);return(e.distanceTo(t)+t.distanceTo(n)-i)/i<r},length:function(e){var n=t.GeometryUtil.accumulatedLengths(e);return n.length>0?n[n.length-1]:0},accumulatedLengths:function(t){if("function"==typeof t.getLatLngs&&(t=t.getLatLngs()),0===t.length)return[];for(var e=0,n=[0],r=0,i=t.length-1;r<i;r++)e+=t[r].distanceTo(t[r+1]),n.push(e);return n},closestOnSegment:function(e,n,r,i){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=e.project(n,o),a=e.project(r,o),u=e.project(i,o),l=t.LineUtil.closestPointOnSegment(s,a,u);return e.unproject(l,o)},closest:function(e,n,r,i){var o,s,a,u,l,h=1/0,c=null;if(n instanceof Array){if(n[0]instanceof Array&&"number"!==typeof n[0][0]){for(s=0;s<n.length;s++)(l=t.GeometryUtil.closest(e,n[s],r,i))&&l.distance<h&&(h=l.distance,c=l);return c}if(!(n[0]instanceof t.LatLng||"number"===typeof n[0][0]||"number"===typeof n[0].lat))return c;n=t.polyline(n)}if(!(n instanceof t.Polyline))return c;if(o=JSON.parse(JSON.stringify(n.getLatLngs().slice(0))),n instanceof t.Polygon&&function e(n){if(t.Polyline._flat(n))n.push(n[0]);else for(var r=0;r<n.length;r++)e(n[r])}(o),t.Polyline._flat(o)){if(i){for(s=0,a=o.length;s<a;s++){var f=o[s];(u=t.GeometryUtil.distance(e,r,f))<h&&(h=u,(c=f).distance=u)}return c}for(s=0,a=o.length;s<a-1;s++){var p=o[s],d=o[s+1];(u=t.GeometryUtil.distanceSegment(e,r,p,d))<=h&&(h=u,(c=t.GeometryUtil.closestOnSegment(e,r,p,d)).distance=u)}return c}for(s=0;s<o.length;s++)(l=t.GeometryUtil.closest(e,o[s],r,i)).distance<h&&(h=l.distance,c=l);return c},closestLayer:function(e,n,r){for(var i=1/0,o=null,s=null,a=1/0,u=0,l=n.length;u<l;u++){var h=n[u];if(h instanceof t.LayerGroup){var c=t.GeometryUtil.closestLayer(e,h.getLayers(),r);c.distance<i&&(i=c.distance,o=c)}else"function"==typeof h.getLatLng?(s=h.getLatLng(),a=t.GeometryUtil.distance(e,r,s)):(s=t.GeometryUtil.closest(e,h,r))&&(a=s.distance),a<i&&(i=a,o={layer:h,latlng:s,distance:a})}return o},nClosestLayers:function(e,n,r,i){if((i="number"===typeof i?i:n.length)<1||n.length<1)return null;for(var o,s,a=[],u=0,l=n.length;u<l;u++){var h=n[u];if(h instanceof t.LayerGroup){var c=t.GeometryUtil.closestLayer(e,h.getLayers(),r);a.push(c)}else"function"==typeof h.getLatLng?(s=h.getLatLng(),o=t.GeometryUtil.distance(e,r,s)):(s=t.GeometryUtil.closest(e,h,r))&&(o=s.distance),a.push({layer:h,latlng:s,distance:o})}return a.sort((function(t,e){return t.distance-e.distance})),a.length>i?a.slice(0,i):a},layersWithin:function(e,n,r,i){i="number"==typeof i?i:1/0;for(var o=[],s=null,a=0,u=0,l=n.length;u<l;u++){var h=n[u];"function"==typeof h.getLatLng?(s=h.getLatLng(),a=t.GeometryUtil.distance(e,r,s)):(s=t.GeometryUtil.closest(e,h,r))&&(a=s.distance),s&&a<i&&o.push({layer:h,latlng:s,distance:a})}return o.sort((function(t,e){return t.distance-e.distance}))},closestLayerSnap:function(e,n,r,i,o){i="number"==typeof i?i:1/0,o="boolean"!=typeof o||o;var s=t.GeometryUtil.closestLayer(e,n,r);if(!s||s.distance>i)return null;if(o&&"function"==typeof s.layer.getLatLngs){var a=t.GeometryUtil.closest(e,s.layer,s.latlng,!0);a.distance<i&&(s.latlng=a,s.distance=t.GeometryUtil.distance(e,a,r))}return s},interpolateOnPointSegment:function(e,n,r){return t.point(e.x*(1-r)+r*n.x,e.y*(1-r)+r*n.y)},interpolateOnLine:function(e,n,r){var i=(n=n instanceof t.Polyline?n.getLatLngs():n).length;if(i<2)return null;if(0===(r=Math.max(Math.min(r,1),0)))return{latLng:n[0]instanceof t.LatLng?n[0]:t.latLng(n[0]),predecessor:-1};if(1==r)return{latLng:n[n.length-1]instanceof t.LatLng?n[n.length-1]:t.latLng(n[n.length-1]),predecessor:n.length-2};var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());for(var s=[],a=0,u=0;u<i;u++)s[u]=e.project(n[u],o),u>0&&(a+=s[u-1].distanceTo(s[u]));var l=a*r,h=0,c=0;for(u=0;c<l;u++){var f=s[u],p=s[u+1];h=c,c+=f.distanceTo(p)}void 0==f&&void 0==p&&(f=s[0],p=s[1],u=1);var d=c-h!==0?(l-h)/(c-h):0,g=t.GeometryUtil.interpolateOnPointSegment(f,p,d);return{latLng:e.unproject(g,o),predecessor:u-1}},locateOnLine:function(e,n,r){var i=n.getLatLngs();if(r.equals(i[0]))return 0;if(r.equals(i[i.length-1]))return 1;for(var o=t.GeometryUtil.closest(e,n,r,!1),s=t.GeometryUtil.accumulatedLengths(i),a=s[s.length-1],u=0,l=!1,h=0,c=i.length-1;h<c;h++){var f=i[h],p=i[h+1];if(u=s[h],t.GeometryUtil.belongsSegment(o,f,p,.001)){u+=f.distanceTo(o),l=!0;break}}if(!l)throw"Could not interpolate "+r.toString()+" within "+n.toString();return u/a},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,n,r,i){if(r>i)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(n),1-r,1-i);r=Math.max(Math.min(r,1),0),i=Math.max(Math.min(i,1),0);var o=n.getLatLngs(),s=t.GeometryUtil.interpolateOnLine(e,n,r),a=t.GeometryUtil.interpolateOnLine(e,n,i);if(r==i)return[t.GeometryUtil.interpolateOnLine(e,n,i).latLng];-1==s.predecessor&&(s.predecessor=0),-1==a.predecessor&&(a.predecessor=0);var u=o.slice(s.predecessor+1,a.predecessor+1);return u.unshift(s.latLng),u.push(a.latLng),u},isBefore:function(t,e){if(!e)return!1;var n=t.getLatLngs(),r=e.getLatLngs();return n[n.length-1].equals(r[0])},isAfter:function(t,e){if(!e)return!1;var n=t.getLatLngs(),r=e.getLatLngs();return n[0].equals(r[r.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var n=t.getLatLngs(),r=e.getLatLngs(),i=n[0];return i.equals(r[0])||i.equals(r[r.length-1])},computeAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},computeSlope:function(t,e){var n=(e.y-t.y)/(e.x-t.x);return{a:n,b:t.y-n*t.x}},rotatePoint:function(e,n,r,i){var o=e.getMaxZoom();o===1/0&&(o=e.getZoom());var s=r*Math.PI/180,a=e.project(n,o),u=e.project(i,o),l=Math.cos(s)*(a.x-u.x)-Math.sin(s)*(a.y-u.y)+u.x,h=Math.sin(s)*(a.x-u.x)+Math.cos(s)*(a.y-u.y)+u.y;return e.unproject(new t.Point(l,h),o)},bearing:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=t.lng*n,s=e.lng*n,a=Math.sin(s-o)*Math.cos(i),u=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(s-o),l=(180*Math.atan2(a,u)/Math.PI+360)%360;return l>=180?l-360:l},destination:function(e,n,r){n=(n+360)%360;var i=Math.PI/180,o=180/Math.PI,s=6378137,a=e.lng*i,u=e.lat*i,l=n*i,h=Math.sin(u),c=Math.cos(u),f=Math.cos(r/s),p=Math.sin(r/s),d=Math.asin(h*f+c*p*Math.cos(l)),g=a+Math.atan2(Math.sin(l)*p*c,f-h*Math.sin(d));return g=(g*=o)>180?g-360:g<-180?g+360:g,t.latLng([d*o,g])},angle:function(t,e,n){var r=t.latLngToContainerPoint(e),i=t.latLngToContainerPoint(n),o=180*Math.atan2(i.y-r.y,i.x-r.x)/Math.PI+90;return o+=o<0?360:0},destinationOnSegment:function(e,n,r,i){var o=t.GeometryUtil.angle(e,n,r),s=t.GeometryUtil.destination(n,o,i);return t.GeometryUtil.closestOnSegment(e,s,n,r)}}),t.GeometryUtil})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[n(4),n(57)],void 0===(o="function"===typeof(r=function(t,e){return e.__esModule&&e.default&&(e=e.default),t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!==typeof t.inverse&&"undefined"!==typeof t.forward},t.Proj.Projection=t.Class.extend({initialize:function(e,n,r){var i=t.Proj._isProj4Obj(e);this._proj=i?e:this._projFromCodeDef(e,n),this.bounds=i?n:r},project:function(e){var n=this._proj.forward([e.lng,e.lat]);return new t.Point(n[0],n[1])},unproject:function(e,n){var r=this._proj.inverse([e.x,e.y]);return new t.LatLng(r[1],r[0],n)},_projFromCodeDef:function(t,n){if(n)e.defs(t,n);else if(void 0===e.defs[t]){var r=t.split(":");if(r.length>3&&(t=r[r.length-3]+":"+r[r.length-1]),void 0===e.defs[t])throw"No projection definition for code "+t}return e(t)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,n,r){var i,o,s,a;if(t.Proj._isProj4Obj(e)?(i=(o=e).srsCode,a=n||{},this.projection=new t.Proj.Projection(o,a.bounds)):(i=e,s=n,a=r||{},this.projection=new t.Proj.Projection(i,s,a.bounds)),t.Util.setOptions(this,a),this.code=i,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var u=this.options.resolutions.length-1;u>=0;u--)this.options.resolutions[u]&&(this._scales[u]=1/this.options.resolutions[u])}this.infinite=!this.options.bounds},scale:function(t){var e,n=Math.floor(t);return t===n?this._scales[t]:(e=this._scales[n])+(this._scales[n+1]-e)*(t-n)},zoom:function(t){var e,n,r=this._closestElement(this._scales,t),i=this._scales.indexOf(r);return t===r?i:void 0===r?-1/0:(n=i+1,void 0===(e=this._scales[n])?1/0:(t-r)/(e-r)+i)},distance:t.CRS.Earth.distance,R:t.CRS.Earth.R,_closestElement:function(t,e){for(var n,r=t.length;r--;)t[r]<=e&&(void 0===n||n<t[r])&&(n=t[r]);return n}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,n){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,e,n)},addData:function(e){var n;e&&(e.crs&&"name"===e.crs.type?n=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(n=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(e){var r=t.point(e[0],e[1]);return n.projection.unproject(r)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,n){return new t.Proj.GeoJSON(e,n)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,n,r){t.ImageOverlay.prototype.initialize.call(this,e,null,r),this._projectedBounds=n},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),r=t.point(this._projectedBounds.min.x,this._projectedBounds.max.y),i=this._projectedToNewLayerPoint(r,e.zoom,e.center);t.DomUtil.setTransform(this._image,i,n)},_reset:function(){var e=this._map.getZoom(),n=this._map.getPixelOrigin(),r=t.bounds(this._transform(this._projectedBounds.min,e)._subtract(n),this._transform(this._projectedBounds.max,e)._subtract(n)),i=r.getSize();t.DomUtil.setPosition(this._image,r.min),this._image.style.width=i.x+"px",this._image.style.height=i.y+"px"},_projectedToNewLayerPoint:function(t,e,n){var r=this._map.getSize()._divideBy(2),i=this._map.project(n,e)._subtract(r)._round().add(this._map._getMapPanePos());return this._transform(t,e)._subtract(i)},_transform:function(t,e){var n=this._map.options.crs,r=n.transformation,i=n.scale(e);return r.transform(t,i)}}),t.Proj.imageOverlay=function(e,n,r){return new t.Proj.ImageOverlay(e,n,r)},t.Proj})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){(function(e){var r={};"d3"in e&&(r.d3=e.d3),t.exports=n(171),"d3"in r?e.d3=r.d3:delete e.d3}).call(this,n(36))},function(t,e,n){var r,i;!function(){var o={version:"3.5.5"},s=[].slice,a=function(t){return s.call(t)},u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function h(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{a(u.documentElement.childNodes)[0].nodeType}catch(lu){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(hu){var c=this.Element.prototype,f=c.setAttribute,p=c.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;c.setAttribute=function(t,e){f.call(this,t,e+"")},c.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function y(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return null===t?NaN:+t}function m(t){return!isNaN(t)}function v(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=y,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<s;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)m(n=+t[o])&&(r+=n);else for(;++o<i;)m(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,s=i;if(1===arguments.length)for(;++o<i;)m(n=_(t[o]))?r+=n:--s;else for(;++o<i;)m(n=_(e.call(t,t[o],o)))?r+=n:--s;if(s)return r/s},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)m(n=_(t[s]))&&r.push(n);else for(;++s<i;)m(n=_(e.call(t,t[s],s)))&&r.push(n);if(r.length)return o.quantile(r.sort(y),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,s=0,a=-1,u=0;if(1===arguments.length)for(;++a<i;)m(n=_(t[a]))&&(s+=(r=n-o)*(n-(o+=r/++u)));else for(;++a<i;)m(n=_(e.call(t,t[a],a)))&&(s+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return s/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var b=v(y);function x(t){return t.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(t){return v(1===t.length?function(e,n){return y(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=o.min(arguments,x),n=new Array(e);++t<e;)for(var r,i=-1,s=n[t]=new Array(r);++i<r;)s[i]=arguments[i][t];return n},o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n};var w=Math.abs;function E(t){for(var e=1;t*e%1;)e*=10;return e}function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function L(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=E(w(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++s)>e;)i.push(r/o);else for(;(r=t+n*++s)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new L;if(t instanceof L)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var s in t)n.set(s,t[s]);return n};function S(t){return"__proto__"===(t+="")||"\0"===t[0]?"\0"+t:t}function P(t){return"\0"===(t+="")[0]?t.slice(1):t}function C(t){return S(t)in this._}function I(t){return(t=S(t))in this._&&delete this._[t]}function k(){var t=[];for(var e in this._)t.push(P(e));return t}function T(){var t=0;for(var e in this._)++t;return t}function N(){for(var t in this._)return!1;return!0}function O(){this._=Object.create(null)}function A(t){return t}function R(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=z.length;n<r;++n){var i=z[n]+e;if(i in t)return i}}M(L,{has:C,get:function(t){return this._[S(t)]},set:function(t,e){return this._[S(t)]=e},remove:I,keys:k,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:P(e),value:this._[e]});return t},size:T,empty:N,forEach:function(t){for(var e in this._)t.call(this,P(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function s(i,o,a){if(a>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var u,l,h,c,f=-1,p=o.length,d=r[a++],g=new L;++f<p;)(c=g.get(u=d(l=o[f])))?c.push(l):g.set(u,[l]);return i?(l=i(),h=function(t,e){l.set(t,s(i,e,a))}):(l={},h=function(t,e){l[t]=s(i,e,a)}),g.forEach(h),l}function a(t,e){if(e>=r.length)return t;var n=[],o=i[e++];return t.forEach((function(t,r){n.push({key:t,values:a(r,e)})})),o?n.sort((function(t,e){return o(t.key,e.key)})):n}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return a(s(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new O;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(O,{has:C,add:function(t){return this._[S(t+="")]=!0,t},remove:I,values:k,size:T,empty:N,forEach:function(t){for(var e in this._)t.call(this,P(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=R(t,e,e[n]);return t};var z=["webkit","ms","moz","Moz","o","O"];function F(){}function B(){}function j(t){var e=[],n=new L;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,s=n.get(r);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function G(){o.event.preventDefault()}function U(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function q(t){for(var e=new B,n=0,r=arguments.length;++n<r;)e[arguments[n]]=j(e);return e.of=function(n,r){return function(i){try{var s=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=s}}},e}o.dispatch=function(){for(var t=new B,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=j(t);return t},B.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Z(t){return H(t,Q),t}var Y=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[D(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"===typeof Sizzle&&(Y=function(t,e){return Sizzle(t,e)[0]||null},X=Sizzle,W=Sizzle.matchesSelector),o.selection=function(){return o.select(u.documentElement)};var Q=o.selection.prototype=[];function K(t){return"function"===typeof t?t:function(){return Y(t,this)}}function J(t){return"function"===typeof t?t:function(){return X(t,this)}}Q.select=function(t){var e,n,r,i,o=[];t=K(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Z(o)},Q.selectAll=function(t){var e,n,r=[];t=J(t);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],u=-1,l=s.length;++u<l;)(n=s[u])&&(r.push(e=a(t.call(n,n.__data__,u,i))),e.parentNode=n);return Z(r)};var $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"===typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function et(t){return t.trim().replace(/\s+/g," ")}function nt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function rt(t){return(t+"").trim().split(/^|\s+/)}function it(t,e){var n=(t=rt(t).map(ot)).length;return"function"===typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ot(t){var e=nt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",et(i+" "+t))):n.setAttribute("class",et(i.replace(e," ")))}}function st(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"===typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function at(t,e){return null==e?function(){delete this[t]}:"function"===typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ut(t){return"function"===typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function ct(t){return function(){return W(this,t)}}function ft(t){return arguments.length||(t=y),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],s=0,a=o.length;s<a;s++)(i=o[s])&&e(i,s,n);return t}function dt(t){return H(t,gt),t}o.ns={prefix:$,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),$.hasOwnProperty(n)?{space:$[n],local:t}:t}},Q.attr=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},Q.classed=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node(),r=(t=rt(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!nt(t[i]).test(e))return!1;return!0}for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},Q.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.each(st(n,t[n],e));return this}if(r<2){var i=this.node();return h(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(st(t,e,n))},Q.property=function(t,e){if(arguments.length<2){if("string"===typeof t)return this.node()[t];for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},Q.text=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Q.html=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Q.append=function(t){return t=ut(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Q.insert=function(t,e){return t=ut(t),e=K(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Q.remove=function(){return this.each(lt)},Q.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function s(t,n){var r,i,o,s=t.length,h=n.length,c=Math.min(s,h),f=new Array(h),p=new Array(h),d=new Array(s);if(e){var g,y=new L,_=new Array(s);for(r=-1;++r<s;)y.has(g=e.call(i=t[r],i.__data__,r))?d[r]=i:y.set(g,i),_[r]=g;for(r=-1;++r<h;)(i=y.get(g=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):p[r]=ht(o),y.set(g,!0);for(r=-1;++r<s;)!0!==y.get(_[r])&&(d[r]=t[r])}else{for(r=-1;++r<c;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=ht(o);for(;r<h;++r)p[r]=ht(n[r]);for(;r<s;++r)d[r]=t[r]}p.update=f,p.parentNode=f.parentNode=d.parentNode=t.parentNode,a.push(p),u.push(f),l.push(d)}var a=dt([]),u=Z([]),l=Z([]);if("function"===typeof t)for(;++i<o;)s(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)s(n=this[i],t);return u.enter=function(){return a},u.exit=function(){return l},u},Q.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Q.filter=function(t){var e,n,r,i=[];"function"!==typeof t&&(t=ct(t));for(var o=0,s=this.length;o<s;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,u=n.length;a<u;a++)(r=n[a])&&t.call(r,r.__data__,a,o)&&e.push(r)}return Z(i)},Q.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Q.sort=function(t){t=ft.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Q.each=function(t){return pt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},Q.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},Q.empty=function(){return!this.node()},Q.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Q.size=function(){var t=0;return pt(this,(function(){++t})),t};var gt=[];function yt(t){var e,n;return function(r,i,o){var s,a=t[o].update,u=a.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(s=a[e])&&++e<u;);return s}}function _t(t,e,n){var r="__on"+t,i=t.indexOf("."),s=vt;i>0&&(t=t.slice(0,i));var u=mt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,s=bt),i?e?function(){var i=s(e,a(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?F:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=dt,o.selection.enter.prototype=gt,gt.append=Q.append,gt.empty=Q.empty,gt.node=Q.node,gt.call=Q.call,gt.size=Q.size,gt.select=function(t){for(var e,n,r,i,o,s=[],a=-1,u=this.length;++a<u;){r=(i=this[a]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,h=i.length;++l<h;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,a)),n.__data__=o.__data__):e.push(null)}return Z(s)},gt.insert=function(t,e){return arguments.length<2&&(e=yt(this)),Q.insert.call(this,t,e)},o.select=function(t){var e;return"string"===typeof t?(e=[Y(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=l(t),Z([e])},o.selectAll=function(t){var e;return"string"===typeof t?(e=a(X(t,u))).parentNode=u.documentElement:(e=t).parentNode=null,Z([e])},Q.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=!1),t)this.each(_t(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(_t(t,e,n))};var mt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function vt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function bt(t,e){var n=vt(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}u&&mt.forEach((function(t){"on"+t in u&&mt.remove(t)}));var xt,wt=0;function Et(t){var e=".dragsuppress-"+ ++wt,n="click"+e,r=o.select(h(t)).on("touchmove"+e,G).on("dragstart"+e,G).on("selectstart"+e,G);if(null==xt&&(xt=!("onselectstart"in t)&&D(t.style,"userSelect")),xt){var i=l(t).style,s=i[xt];i[xt]="none"}return function(t){if(r.on(e,null),xt&&(i[xt]=s),t){var o=function(){r.on(n,null)};r.on(n,(function(){G(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(t){return Lt(t,U())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Lt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Mt<0){var i=h(t);if(i.scrollX||i.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(s.f||s.e),n.remove()}}return Mt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function St(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=U().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Lt(t,r)},o.behavior.drag=function(){var t=q(i,"drag","dragstart","dragend"),e=null,n=s(F,o.mouse,h,"mousemove","mouseup"),r=s(St,o.touch,A,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function s(n,r,i,s,a){return function(){var u,l=this,h=o.event.target,c=l.parentNode,f=t.of(l,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),y=o.select(i(h)).on(s+g,v).on(a+g,b),_=Et(h),m=r(c,d);function v(){var t,e,n=r(c,d);n&&(t=n[0]-m[0],e=n[1]-m[1],p|=t|e,m=n,f({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e}))}function b(){r(c,d)&&(y.on(s+g,null).on(a+g,null),_(p&&o.event.target===h),f({type:"dragend"}))}u=e?[(u=e.apply(l,arguments)).x-m[0],u.y-m[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=U().touches),e?a(e).map((function(e){var n=Lt(t,e);return n.identifier=e.identifier,n})):[]};var Pt=1e-6,Ct=Pt*Pt,It=Math.PI,kt=2*It,Tt=kt-Pt,Nt=It/2,Ot=It/180,At=180/It;function Rt(t){return t>0?1:t<0?-1:0}function Dt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function zt(t){return t>1?0:t<-1?It:Math.acos(t)}function Ft(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function Bt(t){return((t=Math.exp(t))+1/t)/2}function jt(t){return(t=Math.sin(t/2))*t}var Gt=Math.SQRT2;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],a=e[2],u=o-n,l=s-r,h=u*u+l*l,c=Math.sqrt(h),f=(a*a-i*i+4*h)/(2*i*2*c),p=(a*a-i*i-4*h)/(2*a*2*c),d=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(p*p+1)-p)-d,y=(g||Math.log(a/i))/Gt;function _(t){var e,o=t*y;if(g){var s=Bt(d),a=i/(2*c)*(s*(e=Gt*o+d,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(d));return[n+a*u,r+a*l,i*s/Bt(Gt*o+d)]}return[n+t*u,r+t*l,i*Math.exp(Gt*o)]}return _.duration=1e3*y,_},o.behavior.zoom=function(){var t,e,n,r,i,s,a,l,c,f={x:0,y:0,k:1},p=[960,500],d=Vt,g=250,y=0,_="mousedown.zoom",m="mousemove.zoom",v="mouseup.zoom",b="touchstart.zoom",x=q(w,"zoomstart","zoom","zoomend");function w(t){t.on(_,T).on(qt+".zoom",O).on("dblclick.zoom",A).on(b,N)}function E(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function M(t){f.k=Math.max(d[0],Math.min(d[1],t))}function L(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function S(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},M(Math.pow(2,i)),L(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function P(){a&&a.domain(s.range().map((function(t){return(t-f.x)/f.k})).map(s.invert)),c&&c.domain(l.range().map((function(t){return(t-f.y)/f.k})).map(l.invert))}function C(t){y++||t({type:"zoomstart"})}function I(t){P(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function k(t){--y||t({type:"zoomend"}),e=null}function T(){var t=this,e=o.event.target,n=x.of(t,arguments),r=0,i=o.select(h(t)).on(m,u).on(v,l),s=E(o.mouse(t)),a=Et(t);function u(){r=1,L(o.mouse(t),s),I(n)}function l(){i.on(m,null).on(v,null),a(r&&o.event.target===e),k(n)}Na.call(t),C(n)}function N(){var t,e=this,n=x.of(e,arguments),r={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,u="touchmove"+a,l="touchend"+a,h=[],c=o.select(e),p=Et(e);function d(){var n=o.touches(e);return t=f.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=E(t))})),n}function g(){var t=o.event.target;o.select(t).on(u,y).on(l,m),h.push(t);for(var n=o.event.changedTouches,a=0,c=n.length;a<c;++a)r[n[a].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-i<500){var _=p[0];S(e,_,r[_.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),G()}i=g}else if(p.length>1){_=p[0];var v=p[1],b=_[0]-v[0],x=_[1]-v[1];s=b*b+x*x}}function y(){var a,u,l,h,c=o.touches(e);Na.call(e);for(var f=0,p=c.length;f<p;++f,h=null)if(l=c[f],h=r[l.identifier]){if(u)break;a=l,u=h}if(h){var d=(d=l[0]-a[0])*d+(d=l[1]-a[1])*d,g=s&&Math.sqrt(d/s);a=[(a[0]+l[0])/2,(a[1]+l[1])/2],u=[(u[0]+h[0])/2,(u[1]+h[1])/2],M(g*t)}i=null,L(a,u),I(n)}function m(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var s in r)return void d()}o.selectAll(h).on(a,null),c.on(_,T).on(b,N),p(),k(n)}g(),C(n),c.on(_,null).on(b,g)}function O(){var i=x.of(this,arguments);r?clearTimeout(r):(t=E(e=n||o.mouse(this)),Na.call(this),C(i)),r=setTimeout((function(){r=null,k(i)}),50),G(),M(Math.pow(2,.002*Ut())*f.k),L(e,t),I(i)}function A(){var t=o.mouse(this),e=Math.log(f.k)/Math.LN2;S(this,t,E(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return qt||(qt="onwheel"in u?(Ut=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Ut=function(){return o.event.wheelDelta},"mousewheel"):(Ut=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=x.of(this,arguments),n=f;Ra?o.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},C(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],s=e?e[0]:r/2,a=e?e[1]:i/2,u=o.interpolateZoom([(s-f.x)/f.k,(a-f.y)/f.k,r/f.k],[(s-n.x)/n.k,(a-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=f={x:s-n[0]*i,y:a-n[1]*i,k:i},I(t)}})).each("interrupt.zoom",(function(){k(t)})).each("end.zoom",(function(){k(t)})):(this.__chart__=f,C(t),I(t),k(t))}))},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},P(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:+t},P(),w):f.k},w.scaleExtent=function(t){return arguments.length?(d=null==t?Vt:[+t[0],+t[1]],w):d},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],w):p},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(a=t,s=t.copy(),f={x:0,y:0,k:1},w):a},w.y=function(t){return arguments.length?(c=t,l=t.copy(),f={x:0,y:0,k:1},w):c},o.rebind(w,x,"on")};var Ut,qt,Vt=[0,1/0];function Ht(){}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.s,t.l):pe(""+t,de,Zt):new Zt(t,e,n)}o.color=Ht,Ht.prototype.toString=function(){return this.rgb()+""},o.hsl=Zt;var Yt=Zt.prototype=new Ht;function Xt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ue(o(t+120),o(t),o(t-120))}function Wt(t,e,n){return this instanceof Wt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Wt?new Wt(t.h,t.c,t.l):ie(t instanceof Jt?t.l:(t=ge((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Wt(t,e,n)}Yt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Zt(this.h,this.s,this.l/t)},Yt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Zt(this.h,this.s,t*this.l)},Yt.rgb=function(){return Xt(this.h,this.s,this.l)},o.hcl=Wt;var Qt=Wt.prototype=new Ht;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=Ot)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Wt?Kt(t.h,t.c,t.l):ge((t=ue(t)).r,t.g,t.b):new Jt(t,e,n)}Qt.brighter=function(t){return new Wt(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?t:1)))},Qt.darker=function(t){return new Wt(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?t:1)))},Qt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},o.lab=Jt;var $t=18,te=.95047,ee=1.08883,ne=Jt.prototype=new Ht;function re(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new ue(ae(3.2404542*(i=oe(i)*te)-1.5371385*(r=1*oe(r))-.4985314*(o=oe(o)*ee)),ae(-.969266*i+1.8760108*r+.041556*o),ae(.0556434*i-.2040259*r+1.0572252*o))}function ie(t,e,n){return t>0?new Wt(Math.atan2(n,e)*At,Math.sqrt(e*e+n*n),t):new Wt(NaN,NaN,t)}function oe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ae(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ue(t,e,n){return this instanceof ue?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ue?new ue(t.r,t.g,t.b):pe(""+t,ue,Xt):new ue(t,e,n)}function le(t){return new ue(t>>16,t>>8&255,255&t)}function he(t){return le(t)+""}ne.brighter=function(t){return new Jt(Math.min(100,this.l+$t*(arguments.length?t:1)),this.a,this.b)},ne.darker=function(t){return new Jt(Math.max(0,this.l-$t*(arguments.length?t:1)),this.a,this.b)},ne.rgb=function(){return re(this.l,this.a,this.b)},o.rgb=ue;var ce=ue.prototype=new Ht;function fe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var r,i,o,s=0,a=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(_e(i[0]),_e(i[1]),_e(i[2]))}return(o=me.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,u=15&o,u|=u<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,u=255&o)),e(s,a,u))}function de(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,u=(s+o)/2;return a?(i=u<.5?a/(s+o):a/(2-s-o),r=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Zt(r,i,u)}function ge(t,e,n){var r=se((.4124564*(t=ye(t))+.3575761*(e=ye(e))+.1804375*(n=ye(n)))/te),i=se((.2126729*t+.7151522*e+.072175*n)/1);return Jt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/ee)))}function ye(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _e(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ce.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ue(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ue(i,i,i)},ce.darker=function(t){return new ue((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ce.hsl=function(){return de(this.r,this.g,this.b)},ce.toString=function(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)};var me=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ve(t){return"function"===typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),xe(e,n,t,r)}}function xe(t,e,n,r){var i={},s=o.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,h=null;function c(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(lu){return void s.error.call(i,lu)}s.load.call(i,t)}else s.error.call(i,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=c:l.onreadystatechange=function(){l.readyState>3&&c()},l.onprogress=function(t){var e=o.event;o.event=t;try{s.progress.call(i,l)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(h=t,i):h},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(a(arguments)))}})),i.send=function(n,r,o){if(2===arguments.length&&"function"===typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),l.setRequestHeader)for(var a in u)l.setRequestHeader(a,u[a]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=o&&i.on("error",o).on("load",(function(t){o(null,t)})),s.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},o.rebind(i,s,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}me.forEach((function(t,e){me.set(t,le(e))})),o.functor=ve,o.xhr=be(A),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=xe(t,e,null==n?o:s(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:s(t)):n},i}function o(t){return i.parse(t.responseText)}function s(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,o={},s={},a=[],u=t.length,l=0,h=0;function c(){if(l>=u)return s;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(a=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===a&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var a,h=1;if(10===(a=t.charCodeAt(l++)))i=!0;else if(13===a)i=!0,10===t.charCodeAt(l)&&(++l,++h);else if(a!==r)continue;return t.slice(e,l-h)}return t.slice(e)}for(;(n=c())!==s;){for(var f=[];n!==o&&n!==s;)f.push(n),n=c();e&&null==(f=e(f,h++))||a.push(f)}return a},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new O,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(u).join(t)].concat(e.map((function(e){return r.map((function(t){return u(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var we,Ee,Me,Le,Se,Pe=this[D(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ce(){var t=Ie(),e=ke()-t;e>24?(isFinite(e)&&(clearTimeout(Le),Le=setTimeout(Ce,e)),Me=0):(Me=1,Pe(Ce))}function Ie(){var t=Date.now();for(Se=we;Se;)t>=Se.t&&(Se.f=Se.c(t-Se.t)),Se=Se.n;return t}function ke(){for(var t,e=we,n=1/0;e;)e.f?e=t?t.n=e.n:we=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ee=t,n}function Te(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ee?Ee.n=o:we=o,Ee=o,Me||(Le=clearTimeout(Le),Me=1,Pe(Ce))},o.timer.flush=function(){Ie(),ke()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ne=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Oe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,s=r&&n?function(t,e){for(var i=t.length,o=[],s=0,a=r[0],u=0;i>0&&a>0&&(u+a+1>e&&(a=Math.max(1,e-u)),o.push(t.substring(i-=a,i+a)),!((u+=a+1)>e));)a=r[s=(s+1)%r.length];return o.reverse().join(n)}:A;return function(t){var n=Ae.exec(t),r=n[1]||" ",a=n[2]||">",u=n[3]||"-",l=n[4]||"",h=n[5],c=+n[6],f=n[7],p=n[8],d=n[9],g=1,y="",_="",m=!1,v=!0;switch(p&&(p=+p.substring(1)),(h||"0"===r&&"="===a)&&(h=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":g=100,_="%",d="f";break;case"p":g=100,_="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(y="0"+d.toLowerCase());case"c":v=!1;case"d":m=!0,p=0;break;case"s":g=-1,d="r"}"$"===l&&(y=i[0],_=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Re.get(d)||De;var b=h&&f;return function(t){var n=_;if(m&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var l=o.formatPrefix(t,p);t=l.scale(t),n=l.symbol+_}else t*=g;var x,w,E=(t=d(t,p)).lastIndexOf(".");if(E<0){var M=v?t.lastIndexOf("e"):-1;M<0?(x=t,w=""):(x=t.substring(0,M),w=t.substring(M))}else x=t.substring(0,E),w=e+t.substring(E+1);!h&&f&&(x=s(x,1/0));var L=y.length+x.length+w.length+(b?0:i.length),S=L<c?new Array(L=c-L+1).join(r):"";return b&&(x=s(S+x,S.length?c-w.length:1/0)),i+=y,t=x+w,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,L>>=1)+i+t+S.substring(L):i+(b?t:S+t))+n}}}o.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=o.round(t,Te(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ne[8+n/3]};var Ae=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Re=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Te(t,e))).toFixed(Math.max(0,Math.min(20,Te(t*(1+1e-15),e))))}});function De(t){return t+""}var ze=o.time={},Fe=Date;function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){je.setUTCDate.apply(this._,arguments)},setDay:function(){je.setUTCDay.apply(this._,arguments)},setFullYear:function(){je.setUTCFullYear.apply(this._,arguments)},setHours:function(){je.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){je.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){je.setUTCMinutes.apply(this._,arguments)},setMonth:function(){je.setUTCMonth.apply(this._,arguments)},setSeconds:function(){je.setUTCSeconds.apply(this._,arguments)},setTime:function(){je.setTime.apply(this._,arguments)}};var je=Date.prototype;function Ge(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Fe(n-1)),1),n}function o(t,n){return e(t=new Fe(+t),n),t}function s(t,r,o){var s=i(t),a=[];if(o>1)for(;s<r;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;s<r;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=s;var a=t.utc=Ue(t);return a.floor=a,a.round=Ue(r),a.ceil=Ue(i),a.offset=Ue(o),a.range=function(t,e,n){try{Fe=Be;var r=new Be;return r._=t,s(r,e,n)}finally{Fe=Date}},t}function Ue(t){return function(e,n){try{Fe=Be;var r=new Be;return r._=e,t(r,n)._}finally{Fe=Date}}}function qe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,u=t.months,l=t.shortMonths;function h(t){var e=t.length;function n(n){for(var r,i,o,s=[],a=-1,u=0;++a<e;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=Ve[r=t.charAt(++a)])&&(r=t.charAt(++a)),(o=x[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),s.push(r),u=a+1);return s.push(t.slice(u,a)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Fe!==Be,i=new(r?Be:Fe);return"j"in n?i.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function c(t,e,n,r){for(var i,o,s,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=w[s in Ve?e.charAt(a++):s])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}h.utc=function(t){var e=h(t);function n(t){try{var n=new(Fe=Be);return n._=t,e(n)}finally{Fe=Date}}return n.parse=function(t){try{Fe=Be;var n=e.parse(t);return n&&n._}finally{Fe=Date}},n.toString=e.toString,n},h.multi=h.utc.multi=fn;var f=o.map(),p=Xe(s),d=We(s),g=Xe(a),y=We(a),_=Xe(u),m=We(u),v=Xe(l),b=We(l);i.forEach((function(t,e){f.set(t.toLowerCase(),e)}));var x={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:h(e),d:function(t,e){return Ye(t.getDate(),e,2)},e:function(t,e){return Ye(t.getDate(),e,2)},H:function(t,e){return Ye(t.getHours(),e,2)},I:function(t,e){return Ye(t.getHours()%12||12,e,2)},j:function(t,e){return Ye(1+ze.dayOfYear(t),e,3)},L:function(t,e){return Ye(t.getMilliseconds(),e,3)},m:function(t,e){return Ye(t.getMonth()+1,e,2)},M:function(t,e){return Ye(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ye(t.getSeconds(),e,2)},U:function(t,e){return Ye(ze.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ye(ze.mondayOfYear(t),e,2)},x:h(n),X:h(r),y:function(t,e){return Ye(t.getFullYear()%100,e,2)},Y:function(t,e){return Ye(t.getFullYear()%1e4,e,4)},Z:hn,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=y.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return c(t,x.c.toString(),e,n)},d:rn,e:rn,H:sn,I:sn,j:on,L:ln,m:nn,M:an,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:un,U:Ke,w:Qe,W:Je,x:function(t,e,n){return c(t,x.x.toString(),e,n)},X:function(t,e,n){return c(t,x.X.toString(),e,n)},y:tn,Y:$e,Z:en,"%":cn};return h}ze.year=Ge((function(t){return(t=ze.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),ze.years=ze.year.range,ze.years.utc=ze.year.utc.range,ze.day=Ge((function(t){var e=new Fe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),ze.days=ze.day.range,ze.days.utc=ze.day.utc.range,ze.dayOfYear=function(t){var e=ze.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=ze[t]=Ge((function(t){return(t=ze.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));ze[t+"s"]=n.range,ze[t+"s"].utc=n.utc.range,ze[t+"OfYear"]=function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)}})),ze.week=ze.sunday,ze.weeks=ze.sunday.range,ze.weeks.utc=ze.sunday.utc.range,ze.weekOfYear=ze.sundayOfYear;var Ve={"-":"",_:" ",0:"0"},He=/^\s*\d+/,Ze=/^%/;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xe(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function We(t){for(var e=new L,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Qe(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Je(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function $e(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tn(t,e,n){He.lastIndex=0;var r,i=He.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function en(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function nn(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rn(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function sn(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function un(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ln(t,e,n){He.lastIndex=0;var r=He.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+Ye(r,"0",2)+Ye(i,"0",2)}function cn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:Oe(t),timeFormat:qe(t)}};var pn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}o.format=pn.numberFormat,o.geo={},dn.prototype={s:0,t:0,add:function(t){yn(t,this.t,gn),yn(gn.s,this.s,this),this.s?this.t+=gn.t:this.s=gn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gn=new dn;function yn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function _n(t,e){t&&vn.hasOwnProperty(t.type)&&vn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):_n(t,e)};var mn={Feature:function(t,e){_n(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_n(n[r].geometry,e)}},vn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],e,0)},Polygon:function(t,e){xn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_n(n[r],e)}};function bn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function xn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return wn=0,o.geo.stream(t,Rn),wn};var wn,En,Mn,Ln,Sn,Pn,Cn,In,kn,Tn,Nn,On,An=new dn,Rn={sphere:function(){wn+=4*It},point:F,lineStart:F,lineEnd:F,polygonStart:function(){An.reset(),Rn.lineStart=Dn},polygonEnd:function(){var t=2*An;wn+=t<0?4*It+t:t,Rn.lineStart=Rn.lineEnd=Rn.point=F}};function Dn(){var t,e,n,r,i;function o(t,e){e=e*Ot/2+It/4;var o=(t*=Ot)-n,s=o>=0?1:-1,a=s*o,u=Math.cos(e),l=Math.sin(e),h=i*l,c=r*u+h*Math.cos(a),f=h*s*Math.sin(a);An.add(Math.atan2(f,c)),n=t,r=u,i=l}Rn.point=function(s,a){Rn.point=o,n=(t=s)*Ot,r=Math.cos(a=(e=a)*Ot/2+It/4),i=Math.sin(a)},Rn.lineEnd=function(){o(t,e)}}function zn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function jn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Gn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Un(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function qn(t){return[Math.atan2(t[1],t[0]),Ft(t[2])]}function Vn(t,e){return w(t[0]-e[0])<Pt&&w(t[1]-e[1])<Pt}o.geo.bounds=function(){var t,e,n,r,i,s,a,u,l,h,c,f={point:p,lineStart:g,lineEnd:y,polygonStart:function(){f.point=_,f.lineStart=m,f.lineEnd=v,l=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),f.point=p,f.lineStart=g,f.lineEnd=y,An<0?(t=-(n=180),e=-(r=90)):l>Pt?r=90:l<-Pt&&(e=-90),c[0]=t,c[1]=n}};function p(i,o){h.push(c=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function d(o,s){var a=zn([o*Ot,s*Ot]);if(u){var l=Bn(u,a),h=Bn([l[1],-l[0],0],l);Un(h),h=qn(h);var c=o-i,f=c>0?1:-1,d=h[0]*At*f,g=w(c)>180;if(g^(f*i<d&&d<f*o))(y=h[1]*At)>r&&(r=y);else if(g^(f*i<(d=(d+360)%360-180)&&d<f*o)){var y;(y=-h[1]*At)<e&&(e=y)}else s<e&&(e=s),s>r&&(r=s);g?o<i?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o)}else p(o,s);u=a,i=o}function g(){f.point=d}function y(){c[0]=t,c[1]=n,f.point=p,u=null}function _(t,e){if(u){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else s=t,a=e;Rn.point(t,e),d(t,e)}function m(){Rn.lineStart()}function v(){_(s,a),Rn.lineEnd(),w(l)>Pt&&(t=-(n=180)),c[0]=t,c[1]=n,u=null}function b(t,e){return(e-=t)<0?e+360:e}function x(t,e){return t[0]-e[0]}function E(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),h=[],o.geo.stream(i,f),l=h.length){h.sort(x);for(var s=1,a=[g=h[0]];s<l;++s)E((p=h[s])[0],g)||E(p[1],g)?(b(g[0],p[1])>b(g[0],g[1])&&(g[1]=p[1]),b(p[0],g[1])>b(g[0],g[1])&&(g[0]=p[0])):a.push(g=p);for(var u,l,p,d=-1/0,g=(s=0,a[l=a.length-1]);s<=l;g=p,++s)p=a[s],(u=b(g[1],p[0]))>d&&(d=u,t=p[0],n=g[1])}return h=c=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){En=Mn=Ln=Sn=Pn=Cn=In=kn=Tn=Nn=On=0,o.geo.stream(t,Hn);var e=Tn,n=Nn,r=On,i=e*e+n*n+r*r;return i<Ct&&(e=Cn,n=In,r=kn,Mn<Pt&&(e=Ln,n=Sn,r=Pn),(i=e*e+n*n+r*r)<Ct)?[NaN,NaN]:[Math.atan2(n,e)*At,Ft(r/Math.sqrt(i))*At]};var Hn={sphere:F,point:Zn,lineStart:Xn,lineEnd:Wn,polygonStart:function(){Hn.lineStart=Qn},polygonEnd:function(){Hn.lineStart=Xn}};function Zn(t,e){t*=Ot;var n=Math.cos(e*=Ot);Yn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Yn(t,e,n){++En,Ln+=(t-Ln)/En,Sn+=(e-Sn)/En,Pn+=(n-Pn)/En}function Xn(){var t,e,n;function r(r,i){r*=Ot;var o=Math.cos(i*=Ot),s=o*Math.cos(r),a=o*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*a)*l+(l=n*s-t*u)*l+(l=t*a-e*s)*l),t*s+e*a+n*u);Mn+=l,Cn+=l*(t+(t=s)),In+=l*(e+(e=a)),kn+=l*(n+(n=u)),Yn(t,e,n)}Hn.point=function(i,o){i*=Ot;var s=Math.cos(o*=Ot);t=s*Math.cos(i),e=s*Math.sin(i),n=Math.sin(o),Hn.point=r,Yn(t,e,n)}}function Wn(){Hn.point=Zn}function Qn(){var t,e,n,r,i;function o(t,e){t*=Ot;var o=Math.cos(e*=Ot),s=o*Math.cos(t),a=o*Math.sin(t),u=Math.sin(e),l=r*u-i*a,h=i*s-n*u,c=n*a-r*s,f=Math.sqrt(l*l+h*h+c*c),p=n*s+r*a+i*u,d=f&&-zt(p)/f,g=Math.atan2(f,p);Tn+=d*l,Nn+=d*h,On+=d*c,Mn+=g,Cn+=g*(n+(n=s)),In+=g*(r+(r=a)),kn+=g*(i+(i=u)),Yn(n,r,i)}Hn.point=function(s,a){t=s,e=a,Hn.point=o,s*=Ot;var u=Math.cos(a*=Ot);n=u*Math.cos(s),r=u*Math.sin(s),i=Math.sin(a),Yn(n,r,i)},Hn.lineEnd=function(){o(t,e),Hn.lineEnd=Wn,Hn.point=Zn}}function Kn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Jn(){return!0}function $n(t,e,n,r,i){var o=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Vn(n,r)){i.lineStart();for(var a=0;a<e;++a)i.point((n=t[a])[0],n[1]);i.lineEnd()}else{var u=new er(n,t,null,!0),l=new er(n,null,u,!1);u.o=l,o.push(u),s.push(l),u=new er(r,t,null,!1),l=new er(r,null,u,!0),u.o=l,o.push(u),s.push(l)}}})),s.sort(e),tr(o),tr(s),o.length){for(var a=0,u=n,l=s.length;a<l;++a)s[a].e=u=!u;for(var h,c,f=o[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;h=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(a=0,l=h.length;a<l;++a)i.point((c=h[a])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(a=(h=p.p.z).length-1;a>=0;--a)i.point((c=h[a])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}h=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function tr(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function er(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function nr(t,e,n,r){return function(i,s){var a,u=e(s),l=i.invert(r[0],r[1]),h={point:c,lineStart:p,lineEnd:d,polygonStart:function(){h.point=b,h.lineStart=x,h.lineEnd=w,a=[],g=[]},polygonEnd:function(){h.point=c,h.lineStart=p,h.lineEnd=d,a=o.merge(a);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;An.reset();for(var a=0,u=e.length;a<u;++a){var l=e[a],h=l.length;if(h)for(var c=l[0],f=c[0],p=c[1]/2+It/4,d=Math.sin(p),g=Math.cos(p),y=1;;){y===h&&(y=0);var _=(t=l[y])[0],m=t[1]/2+It/4,v=Math.sin(m),b=Math.cos(m),x=_-f,w=x>=0?1:-1,E=w*x,M=E>It,L=d*v;if(An.add(Math.atan2(L*w*Math.sin(E),g*b+L*Math.cos(E))),o+=M?x+w*kt:x,M^f>=n^_>=n){var S=Bn(zn(c),zn(t));Un(S);var P=Bn(i,S);Un(P);var C=(M^x>=0?-1:1)*Ft(P[2]);(r>C||r===C&&(S[0]||S[1]))&&(s+=M^x>=0?1:-1)}if(!y++)break;f=_,d=v,g=b,c=t}}return(o<-Pt||o<Pt&&An<0)^1&s}(l,g);a.length?(v||(s.polygonStart(),v=!0),$n(a,or,t,n,s)):t&&(v||(s.polygonStart(),v=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),v&&(s.polygonEnd(),v=!1),a=g=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function c(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&s.point(e,n)}function f(t,e){var n=i(t,e);u.point(n[0],n[1])}function p(){h.point=f,u.lineStart()}function d(){h.point=c,u.lineEnd()}var g,y,_=ir(),m=e(_),v=!1;function b(t,e){y.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function x(){m.lineStart(),y=[]}function w(){b(y[0][0],y[0][1]),m.lineEnd();var t,e=m.clean(),n=_.buffer(),r=n.length;if(y.pop(),g.push(y),y=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(v||(s.polygonStart(),v=!0),s.lineStart();++o<r;)s.point((i=t[o])[0],i[1]);s.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(rr))}return h}}function rr(t){return t.length>1}function ir(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function or(t,e){return((t=t.x)[0]<0?t[1]-Nt-Pt:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-Pt:Nt-e[1])}var sr=nr(Jn,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?It:-It,u=w(o-n);w(u-It)<Pt?(t.point(n,r=(r+s)/2>0?Nt:-Nt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=It&&(w(n-i)<Pt&&(n-=i*Pt),w(o-a)<Pt&&(o-=a*Pt),r=function(t,e,n,r){var i,o,s=Math.sin(t-n);return w(s)>Pt?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Nt,r.point(-It,i),r.point(0,i),r.point(It,i),r.point(It,0),r.point(It,-i),r.point(0,-i),r.point(-It,-i),r.point(-It,0),r.point(-It,i);else if(w(t[0]-e[0])>Pt){var o=t[0]<e[0]?It:-It;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-It,-It/2]);function ar(t){var e=Math.cos(t),n=e>0,r=w(e)>Pt;return nr(i,(function(t){var e,a,u,l,h;return{lineStart:function(){l=u=!1,h=1},point:function(c,f){var p,d=[c,f],g=i(c,f),y=n?g?0:s(c,f):g?s(c+(c<0?It:-It),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(p=o(e,d),(Vn(e,p)||Vn(d,p))&&(d[0]+=Pt,d[1]+=Pt,g=i(d[0],d[1]))),g!==u)h=0,g?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var _;y&a||!(_=o(d,e,!0))||(h=0,n?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!g||e&&Vn(e,d)||t.point(d[0],d[1]),e=d,u=g,a=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return h|(l&&u)<<1}}}),Vr(t,6*Ot),n?[0,-t]:[-It,t-It]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Bn(zn(t),zn(n)),s=Fn(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var l=e*s/u,h=-e*a/u,c=Bn(i,o),f=Gn(i,l);jn(f,Gn(o,h));var p=c,d=Fn(f,p),g=Fn(p,p),y=d*d-g*(Fn(f,f)-1);if(!(y<0)){var _=Math.sqrt(y),m=Gn(p,(-d-_)/g);if(jn(m,f),m=qn(m),!r)return m;var v,b=t[0],x=n[0],E=t[1],M=n[1];x<b&&(v=b,b=x,x=v);var L=x-b,S=w(L-It)<Pt;if(!S&&M<E&&(v=E,E=M,M=v),S||L<Pt?S?E+M>0^m[1]<(w(m[0]-b)<Pt?E:M):E<=m[1]&&m[1]<=M:L>It^(b<=m[0]&&m[0]<=x)){var P=Gn(p,(-d+_)/g);return jn(P,f),[m,qn(P)]}}}function s(e,r){var i=n?t:It-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function ur(t,e,n,r){return function(i){var o,s=i.a,a=i.b,u=s.x,l=s.y,h=0,c=1,f=a.x-u,p=a.y-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<h)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>h&&(h=o)}if(o=n-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>h&&(h=o)}else if(f>0){if(o<h)return;o<c&&(c=o)}if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>h&&(h=o)}if(o=r-l,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<c&&(c=o)}return h>0&&(i.a={x:u+h*f,y:l+h*p}),c<1&&(i.b={x:u+c*f,y:l+c*p}),i}}}}}}var lr=1e9;function hr(t,e,n,r){return function(u){var l,h,c,f,p,d,g,y,_,m,v,b=u,x=ir(),w=ur(t,e,n,r),E={point:S,lineStart:function(){E.point=P,h&&h.push(c=[]);m=!0,_=!1,g=y=NaN},lineEnd:function(){l&&(P(f,p),d&&_&&x.rejoin(),l.push(x.buffer()));E.point=S,_&&u.lineEnd()},polygonStart:function(){u=x,l=[],h=[],v=!0},polygonEnd:function(){u=b,l=o.merge(l);var e=function(t){for(var e=0,n=h.length,r=t[1],i=0;i<n;++i)for(var o,s=1,a=h[i],u=a.length,l=a[0];s<u;++s)o=a[s],l[1]<=r?o[1]>r&&Dt(l,o,t)>0&&++e:o[1]<=r&&Dt(l,o,t)<0&&--e,l=o;return 0!==e}([t,r]),n=v&&e,i=l.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),M(null,null,1,u),u.lineEnd()),i&&$n(l,s,e,M,u),u.polygonEnd()),l=h=c=null}};function M(o,s,u,l){var h=0,c=0;if(null==o||(h=i(o,u))!==(c=i(s,u))||a(o,s)<0^u>0)do{l.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+u+4)%4)!==c);else l.point(s[0],s[1])}function L(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function S(t,e){L(t,e)&&u.point(t,e)}function P(t,e){var n=L(t=Math.max(-1e9,Math.min(lr,t)),e=Math.max(-1e9,Math.min(lr,e)));if(h&&c.push([t,e]),m)f=t,p=e,d=n,m=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&_)u.point(t,e);else{var r={a:{x:g,y:y},b:{x:t,y:e}};w(r)?(_||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),v=!1):n&&(u.lineStart(),u.point(t,e),v=!1)}g=t,y=e,_=n}return E};function i(r,i){return w(r[0]-t)<Pt?i>0?0:3:w(r[0]-n)<Pt?i>0?2:1:w(r[1]-e)<Pt?i>0?1:0:i>0?3:2}function s(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function cr(t){var e=0,n=It/3,r=Dr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*It/180,n=t[1]*It/180):[e/It*180,n/It*180]},i}function fr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function s(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Ft((i-(t*t+n*n)*r*r)/(2*r))]},s}o.geo.clipExtent=function(){var t,e,n,r,i,o,s={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(a){return arguments.length?(o=hr(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return cr(fr)}).raw=fr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(i){var o=i[0],s=i[1];return t=null,e(o,s),t||(n(o,s),t)||r(o,s),t}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?s:o>=.166&&o<.234&&r>=-.214&&r<-.115?a:i).invert(t)},l.stream=function(t){var e=i.stream(t),n=s.stream(t),r=a.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),s.precision(t),a.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),s.scale(.35*t),a.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),h=+t[0],c=+t[1];return e=i.translate(t).clipExtent([[h-.455*o,c-.238*o],[h+.455*o,c+.238*o]]).stream(u).point,n=s.translate([h-.307*o,c+.201*o]).clipExtent([[h-.425*o+Pt,c+.12*o+Pt],[h-.214*o-Pt,c+.234*o-Pt]]).stream(u).point,r=a.translate([h-.205*o,c+.212*o]).clipExtent([[h-.214*o+Pt,c+.166*o+Pt],[h-.115*o-Pt,c+.234*o-Pt]]).stream(u).point,l},l.scale(1070)};var pr,dr,gr,yr,_r,mr,vr={point:F,lineStart:F,lineEnd:F,polygonStart:function(){dr=0,vr.lineStart=br},polygonEnd:function(){vr.lineStart=vr.lineEnd=vr.point=F,pr+=w(dr/2)}};function br(){var t,e,n,r;function i(t,e){dr+=r*t-n*e,n=t,r=e}vr.point=function(o,s){vr.point=i,t=n=o,e=r=s},vr.lineEnd=function(){i(t,e)}}var xr={point:function(t,e){t<gr&&(gr=t);t>_r&&(_r=t);e<yr&&(yr=e);e>mr&&(mr=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function wr(){var t=Er(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(e){return t=Er(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function s(){n.point=r}function a(){e.push("Z")}return n}function Er(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Mr,Lr={point:Sr,lineStart:Pr,lineEnd:Cr,polygonStart:function(){Lr.lineStart=Ir},polygonEnd:function(){Lr.point=Sr,Lr.lineStart=Pr,Lr.lineEnd=Cr}};function Sr(t,e){Ln+=t,Sn+=e,++Pn}function Pr(){var t,e;function n(n,r){var i=n-t,o=r-e,s=Math.sqrt(i*i+o*o);Cn+=s*(t+n)/2,In+=s*(e+r)/2,kn+=s,Sr(t=n,e=r)}Lr.point=function(r,i){Lr.point=n,Sr(t=r,e=i)}}function Cr(){Lr.point=Sr}function Ir(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,s=Math.sqrt(i*i+o*o);Cn+=s*(n+t)/2,In+=s*(r+e)/2,kn+=s,Tn+=(s=r*t-n*e)*(n+t),Nn+=s*(r+e),On+=3*s,Sr(n=t,r=e)}Lr.point=function(o,s){Lr.point=i,Sr(t=n=o,e=r=s)},Lr.lineEnd=function(){i(t,e)}}function kr(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(t){return e=t,n},result:F};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,kt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function s(){n.point=r}function a(){t.closePath()}return n}function Tr(t){var e=.5,n=Math.cos(30*Ot),r=16;function i(t){return(r?s:o)(t)}function o(e){return Ar(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function s(e){var n,i,o,s,u,l,h,c,f,p,d,g,y={point:_,lineStart:m,lineEnd:b,polygonStart:function(){e.polygonStart(),y.lineStart=x},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function _(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){c=NaN,y.point=v,e.lineStart()}function v(n,i){var o=zn([n,i]),s=t(n,i);a(c,f,h,p,d,g,c=s[0],f=s[1],h=n,p=o[0],d=o[1],g=o[2],r,e),e.point(c,f)}function b(){y.point=_,e.lineEnd()}function x(){m(),y.point=w,y.lineEnd=E}function w(t,e){v(n=t,e),i=c,o=f,s=p,u=d,l=g,y.point=v}function E(){a(c,f,h,p,d,g,i,o,n,s,u,l,r,e),y.lineEnd=b,b()}return y}function a(r,i,o,s,u,l,h,c,f,p,d,g,y,_){var m=h-r,v=c-i,b=m*m+v*v;if(b>4*e&&y--){var x=s+p,E=u+d,M=l+g,L=Math.sqrt(x*x+E*E+M*M),S=Math.asin(M/=L),P=w(w(M)-1)<Pt||w(o-f)<Pt?(o+f)/2:Math.atan2(E,x),C=t(P,S),I=C[0],k=C[1],T=I-r,N=k-i,O=v*T-m*N;(O*O/b>e||w((m*T+v*N)/b-.5)>.3||s*p+u*d+l*g<n)&&(a(r,i,o,s,u,l,I,k,P,x/=L,E/=L,M,y,_),_.point(I,k),a(I,k,P,x,E,M,h,c,f,p,d,g,y,_))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Nr(t){var e=Tr((function(e,n){return t([e*At,n*At])}));return function(t){return zr(e(t))}}function Or(t){this.stream=t}function Ar(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Rr(t){return Dr((function(){return t}))()}function Dr(t){var e,n,r,i,s,a,u=Tr((function(t,n){return[(t=e(t,n))[0]*l+i,s-t[1]*l]})),l=150,h=480,c=250,f=0,p=0,d=0,g=0,y=0,_=sr,m=A,v=null,b=null;function x(t){return[(t=r(t[0]*Ot,t[1]*Ot))[0]*l+i,s-t[1]*l]}function w(t){return(t=r.invert((t[0]-i)/l,(s-t[1])/l))&&[t[0]*At,t[1]*At]}function E(){r=Kn(n=jr(d,g,y),e);var t=e(f,p);return i=h-t[0]*l,s=c+t[1]*l,M()}function M(){return a&&(a.valid=!1,a=null),x}return x.stream=function(t){return a&&(a.valid=!1),(a=zr(_(n,u(m(t))))).valid=!0,a},x.clipAngle=function(t){return arguments.length?(_=null==t?(v=t,sr):ar((v=+t)*Ot),M()):v},x.clipExtent=function(t){return arguments.length?(b=t,m=t?hr(t[0][0],t[0][1],t[1][0],t[1][1]):A,M()):b},x.scale=function(t){return arguments.length?(l=+t,E()):l},x.translate=function(t){return arguments.length?(h=+t[0],c=+t[1],E()):[h,c]},x.center=function(t){return arguments.length?(f=t[0]%360*Ot,p=t[1]%360*Ot,E()):[f*At,p*At]},x.rotate=function(t){return arguments.length?(d=t[0]%360*Ot,g=t[1]%360*Ot,y=t.length>2?t[2]%360*Ot:0,E()):[d*At,g*At,y*At]},o.rebind(x,u,"precision"),function(){return e=t.apply(this,arguments),x.invert=e.invert&&w,E()}}function zr(t){return Ar(t,(function(e,n){t.point(e*Ot,n*Ot)}))}function Fr(t,e){return[t,e]}function Br(t,e){return[t>It?t-kt:t<-It?t+kt:t,e]}function jr(t,e,n){return t?e||n?Kn(Ur(t),qr(e,n)):Ur(t):e||n?qr(e,n):Br}function Gr(t){return function(e,n){return[(e+=t)>It?e-kt:e<-It?e+kt:e,n]}}function Ur(t){var e=Gr(t);return e.invert=Gr(-t),e}function qr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function s(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),h=l*n+a*r;return[Math.atan2(u*i-h*o,a*n-l*r),Ft(h*i+u*o)]}return s.invert=function(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),h=l*i-u*o;return[Math.atan2(u*i+l*o,a*n+h*r),Ft(h*n-a*r)]},s}function Vr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,s,a){var u=s*e;null!=i?(i=Hr(n,i),o=Hr(n,o),(s>0?i<o:i>o)&&(i+=s*kt)):(i=t+s*kt,o=t-.5*u);for(var l,h=i;s>0?h>o:h<o;h-=u)a.point((l=qn([n,-r*Math.cos(h),-r*Math.sin(h)]))[0],l[1])}}function Hr(t,e){var n=zn(e);n[0]-=t,Un(n);var r=zt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Pt)%(2*Math.PI)}function Zr(t,e,n){var r=o.range(t,e-Pt,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Yr(t,e,n){var r=o.range(t,e-Pt,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Xr(t){return t.source}function Wr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,s=4.5;function a(t){return t&&("function"===typeof s&&r.pointRadius(+s.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function u(){return i=null,a}return a.area=function(t){return pr=0,o.geo.stream(t,n(vr)),pr},a.centroid=function(t){return Ln=Sn=Pn=Cn=In=kn=Tn=Nn=On=0,o.geo.stream(t,n(Lr)),On?[Tn/On,Nn/On]:kn?[Cn/kn,In/kn]:Pn?[Ln/Pn,Sn/Pn]:[NaN,NaN]},a.bounds=function(t){return _r=mr=-(gr=yr=1/0),o.geo.stream(t,n(xr)),[[gr,yr],[_r,mr]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Nr(e):A,u()):t},a.context=function(t){return arguments.length?(r=null==(e=t)?new wr:new kr(t),"function"!==typeof s&&r.pointRadius(s),u()):e},a.pointRadius=function(t){return arguments.length?(s="function"===typeof t?t:(r.pointRadius(+t),+t),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Or(e);for(var r in t)n[r]=t[r];return n}}},Or.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Rr,o.geo.projectionMutator=Dr,(o.geo.equirectangular=function(){return Rr(Fr)}).raw=Fr.invert=Fr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Ot,e[1]*Ot))[0]*=At,e[1]*=At,e}return t=jr(t[0]%360*Ot,t[1]*Ot,t.length>2?t[2]*Ot:0),e.invert=function(e){return(e=t.invert(e[0]*Ot,e[1]*Ot))[0]*=At,e[1]*=At,e},e},Br.invert=Fr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"===typeof n?n.apply(this,arguments):n,r=jr(-t[0]*Ot,-t[1]*Ot,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=At,t[1]*=At}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Vr((t=+n)*Ot,r*Ot),i):t},i.precision=function(n){return arguments.length?(e=Vr(t*Ot,(r=+n)*Ot),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ot,i=t[1]*Ot,o=e[1]*Ot,s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),l=Math.cos(i),h=Math.sin(o),c=Math.cos(o);return Math.atan2(Math.sqrt((n=c*s)*n+(n=l*h-u*c*a)*n),u*h+l*c*a)},o.geo.graticule=function(){var t,e,n,r,i,s,a,u,l,h,c,f,p=10,d=p,g=90,y=360,_=2.5;function m(){return{type:"MultiLineString",coordinates:v()}}function v(){return o.range(Math.ceil(r/g)*g,n,g).map(c).concat(o.range(Math.ceil(u/y)*y,a,y).map(f)).concat(o.range(Math.ceil(e/p)*p,t,p).filter((function(t){return w(t%g)>Pt})).map(l)).concat(o.range(Math.ceil(s/d)*d,i,d).filter((function(t){return w(t%y)>Pt})).map(h))}return m.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.majorExtent(t).minorExtent(t):m.minorExtent()},m.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),m.precision(_)):[[r,u],[n,a]]},m.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),s>i&&(n=s,s=i,i=n),m.precision(_)):[[e,s],[t,i]]},m.step=function(t){return arguments.length?m.majorStep(t).minorStep(t):m.minorStep()},m.majorStep=function(t){return arguments.length?(g=+t[0],y=+t[1],m):[g,y]},m.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],m):[p,d]},m.precision=function(o){return arguments.length?(_=+o,l=Zr(s,i,90),h=Yr(e,t,_),c=Zr(u,a,90),f=Yr(r,n,_),m):_},m.majorExtent([[-180,-90+Pt],[180,90-Pt]]).minorExtent([[-180,-80-Pt],[180,80+Pt]])},o.geo.greatArc=function(){var t,e,n=Xr,r=Wr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"===typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),s=Math.cos(r),a=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),h=s*Math.cos(n),c=s*Math.sin(n),f=2*Math.asin(Math.sqrt(jt(r-e)+i*s*jt(n-t))),p=1/Math.sin(f),d=f?function(t){var e=Math.sin(t*=f)*p,n=Math.sin(f-t)*p,r=n*u+e*h,i=n*l+e*c,s=n*o+e*a;return[Math.atan2(i,r)*At,Math.atan2(s,Math.sqrt(r*r+i*i))*At]}:function(){return[t*At,e*At]};return d.distance=f,d}(t[0]*Ot,t[1]*Ot,e[0]*Ot,e[1]*Ot)},o.geo.length=function(t){return Mr=0,o.geo.stream(t,Qr),Mr};var Qr={sphere:F,point:F,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=Ot),s=Math.cos(i),a=w((r*=Ot)-t),u=Math.cos(a);Mr+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-e*s*u)*a),e*o+n*s*u),t=r,e=o,n=s}Qr.point=function(i,o){t=i*Ot,e=Math.sin(o*=Ot),n=Math.cos(o),Qr.point=r},Qr.lineEnd=function(){Qr.point=Qr.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function Kr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*o,r*s),Math.asin(r&&n*o/r)]},n}var Jr=Kr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(o.geo.azimuthalEqualArea=function(){return Rr(Jr)}).raw=Jr;var $r=Kr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),A);function ti(t,e){var n=Math.cos(t),r=function(t){return Math.tan(It/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return ri;function s(t,e){o>0?e<-Nt+Pt&&(e=-Nt+Pt):e>Nt-Pt&&(e=Nt-Pt);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return s.invert=function(t,e){var n=o-e,r=Rt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Nt]},s}function ei(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<Pt)return Fr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Rt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Rr($r)}).raw=$r,(o.geo.conicConformal=function(){return cr(ti)}).raw=ti,(o.geo.conicEquidistant=function(){return cr(ei)}).raw=ei;var ni=Kr((function(t){return 1/t}),Math.atan);function ri(t,e){return[t,Math.log(Math.tan(It/4+e/2))]}function ii(t){var e,n=Rr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=It*r(),u=i();o([[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Rr(ni)}).raw=ni,ri.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Nt]},(o.geo.mercator=function(){return ii(ri)}).raw=ri;var oi=Kr((function(){return 1}),Math.asin);(o.geo.orthographic=function(){return Rr(oi)}).raw=oi;var si=Kr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ai(t,e){return[Math.log(Math.tan(It/4+e/2)),-t]}function ui(t){return t[0]}function li(t){return t[1]}function hi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Dt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ci(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Rr(si)}).raw=si,ai.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Nt]},(o.geo.transverseMercator=function(){var t=ii(ai),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ai,o.geom={},o.geom.hull=function(t){var e=ui,n=li;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ve(e),o=ve(n),s=t.length,a=[],u=[];for(r=0;r<s;r++)a.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(a.sort(ci),r=0;r<s;r++)u.push([a[r][0],-a[r][1]]);var l=hi(a),h=hi(u),c=h[0]===l[0],f=h[h.length-1]===l[l.length-1],p=[];for(r=l.length-1;r>=0;--r)p.push(t[a[l[r]][2]]);for(r=+c;r<h.length-f;++r)p.push(t[a[h[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return H(t,fi),t};var fi=o.geom.polygon.prototype=[];function pi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function di(t,e,n,r){var i=t[0],o=n[0],s=e[0]-i,a=r[0]-o,u=t[1],l=n[1],h=e[1]-u,c=r[1]-l,f=(a*(u-l)-c*(i-o))/(c*s-a*h);return[i+f*s,u+f*h]}function gi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}fi.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},fi.centroid=function(t){var e,n,r=-1,i=this.length,o=0,s=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=a,a=this[r],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},fi.clip=function(t){for(var e,n,r,i,o,s,a=gi(t),u=-1,l=this.length-gi(this),h=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-a)-1],n=-1;++n<r;)pi(s=e[n],h,i)?(pi(o,h,i)||t.push(di(o,s,h,i)),t.push(s)):pi(o,h,i)&&t.push(di(o,s,h,i)),o=s;a&&t.push(t[0]),h=i}return t};var yi,_i,mi,vi,bi,xi=[],wi=[];function Ei(){Ui(this),this.edge=this.site=this.circle=null}function Mi(t){var e=xi.pop()||new Ei;return e.site=t,e}function Li(t){Ai(t),mi.remove(t),xi.push(t),Ui(t)}function Si(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,s=t.N,a=[t];Li(t);for(var u=o;u.circle&&w(n-u.circle.x)<Pt&&w(r-u.circle.cy)<Pt;)o=u.P,a.unshift(u),Li(u),u=o;a.unshift(u),Ai(u);for(var l=s;l.circle&&w(n-l.circle.x)<Pt&&w(r-l.circle.cy)<Pt;)s=l.N,a.push(l),Li(l),l=s;a.push(l),Ai(l);var h,c=a.length;for(h=1;h<c;++h)l=a[h],u=a[h-1],Bi(l.edge,u.site,l.site,i);u=a[0],(l=a[c-1]).edge=zi(u.site,l.site,null,i),Oi(u),Oi(l)}function Pi(t){for(var e,n,r,i,o=t.x,s=t.y,a=mi._;a;)if((r=Ci(a,s)-o)>Pt)a=a.L;else{if(!((i=o-Ii(a,s))>Pt)){r>-Pt?(e=a.P,n=a):i>-Pt?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var u=Mi(t);if(mi.insert(e,u),e||n){if(e===n)return Ai(e),n=Mi(e.site),mi.insert(u,n),u.edge=n.edge=zi(e.site,u.site),Oi(e),void Oi(n);if(n){Ai(e),Ai(n);var l=e.site,h=l.x,c=l.y,f=t.x-h,p=t.y-c,d=n.site,g=d.x-h,y=d.y-c,_=2*(f*y-p*g),m=f*f+p*p,v=g*g+y*y,b={x:(y*m-p*v)/_+h,y:(f*v-g*m)/_+c};Bi(n.edge,l,d,b),u.edge=zi(l,t,null,b),n.edge=zi(t,d,null,b),Oi(e),Oi(n)}else u.edge=zi(e.site,u.site)}}function Ci(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,u=n.y,l=u-e;if(!l)return a;var h=a-r,c=1/o-1/l,f=h/l;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*l)-u+l/2+i-o/2)))/c+r:(r+a)/2}function Ii(t,e){var n=t.N;if(n)return Ci(n,e);var r=t.site;return r.y===e?r.x:1/0}function ki(t){this.site=t,this.edges=[]}function Ti(t,e){return e.angle-t.angle}function Ni(){Ui(this),this.x=this.y=this.arc=this.site=this.cy=null}function Oi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i.x,a=i.y,u=r.x-s,l=r.y-a,h=o.x-s,c=2*(u*(y=o.y-a)-l*h);if(!(c>=-Ct)){var f=u*u+l*l,p=h*h+y*y,d=(y*f-l*p)/c,g=(u*p-h*f)/c,y=g+a,_=wi.pop()||new Ni;_.arc=t,_.site=i,_.x=d+s,_.y=y+Math.sqrt(d*d+g*g),_.cy=y,t.circle=_;for(var m=null,v=bi._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){m=v.P;break}v=v.L}else{if(!v.R){m=v;break}v=v.R}bi.insert(m,_),m||(vi=_)}}}}function Ai(t){var e=t.circle;e&&(e.P||(vi=e.N),bi.remove(e),wi.push(e),Ui(e),t.circle=null)}function Ri(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,s=e[0][0],a=e[1][0],u=e[0][1],l=e[1][1],h=t.l,c=t.r,f=h.x,p=h.y,d=c.x,g=c.y,y=(f+d)/2,_=(p+g)/2;if(g===p){if(y<s||y>=a)return;if(f>d){if(o){if(o.y>=l)return}else o={x:y,y:u};n={x:y,y:l}}else{if(o){if(o.y<u)return}else o={x:y,y:l};n={x:y,y:u}}}else if(i=_-(r=(f-d)/(g-p))*y,r<-1||r>1)if(f>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(p<g){if(o){if(o.x>=a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}else{if(o){if(o.x<s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}return t.a=o,t.b=n,!0}function Di(t,e){this.l=t,this.r=e,this.a=this.b=null}function zi(t,e,n,r){var i=new Di(t,e);return yi.push(i),n&&Bi(i,t,e,n),r&&Bi(i,e,t,r),_i[t.i].edges.push(new ji(i,t,e)),_i[e.i].edges.push(new ji(i,e,t)),i}function Fi(t,e,n){var r=new Di(t,null);return r.a=e,r.b=n,yi.push(r),r}function Bi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ji(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Gi(){this._=null}function Ui(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Vi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Hi(t){for(;t.L;)t=t.L;return t}function Zi(t,e){var n,r,i,o=t.sort(Yi).pop();for(yi=[],_i=new Array(t.length),mi=new Gi,bi=new Gi;;)if(i=vi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(_i[o.i]=new ki(o),Pi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Si(i.arc)}e&&(function(t){for(var e,n=yi,r=ur(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ri(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<Pt&&w(e.a.y-e.b.y)<Pt)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,s,a,u,l,h,c=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],g=_i,y=g.length;y--;)if((o=g[y])&&o.prepare())for(u=(a=o.edges).length,s=0;s<u;)r=(h=a[s].end()).x,i=h.y,e=(l=a[++s%u].start()).x,n=l.y,(w(r-e)>Pt||w(i-n)>Pt)&&(a.splice(s,0,new ji(Fi(o.site,h,w(r-c)<Pt&&d-i>Pt?{x:c,y:w(e-c)<Pt?n:d}:w(i-d)<Pt&&f-r>Pt?{x:w(n-d)<Pt?e:f,y:d}:w(r-f)<Pt&&i-p>Pt?{x:f,y:w(e-f)<Pt?n:p}:w(i-p)<Pt&&r-c>Pt?{x:w(n-p)<Pt?e:c,y:p}:null),o.site,null)),++u)}(e));var s={cells:_i,edges:yi};return mi=bi=yi=_i=null,s}function Yi(t,e){return e.y-t.y||e.x-t.x}ki.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ti),e.length},ji.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Gi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(qi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Vi(this,n),n=(t=n).U),n.C=!1,r.C=!0,qi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Hi(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,qi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Vi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,qi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Vi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Vi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ui,n=li,r=e,i=n,o=Xi;if(t)return s(t);function s(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],s=o[1][1];return Zi(a(t),o).cells.forEach((function(o,a){var u=o.edges,l=o.site;(e[a]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=s?[[n,s],[i,s],[i,r],[n,r]]:[]).point=t[a]})),e}function a(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/Pt)*Pt,y:Math.round(i(t,e)/Pt)*Pt,i:e}}))}return s.links=function(t){return Zi(a(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},s.triangles=function(t){var e=[];return Zi(a(t)).cells.forEach((function(n,r){for(var i,o,s,a,u=n.site,l=n.edges.sort(Ti),h=-1,c=l.length,f=l[c-1].edge,p=f.l===u?f.r:f.l;++h<c;)f,i=p,p=(f=l[h].edge).l===u?f.r:f.l,r<i.i&&r<p.i&&(s=i,a=p,((o=u).x-a.x)*(s.y-o.y)-(o.x-s.x)*(a.y-o.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},s.x=function(t){return arguments.length?(r=ve(e=t),s):e},s.y=function(t){return arguments.length?(i=ve(n=t),s):n},s.clipExtent=function(t){return arguments.length?(o=null==t?Xi:t,s):o===Xi?null:o},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):o===Xi?null:o&&o[1]},s};var Xi=[[-1e6,-1e6],[1e6,1e6]];function Wi(t){return t.x}function Qi(t){return t.y}function Ki(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var s=.5*(n+i),a=.5*(r+o),u=e.nodes;u[0]&&Ki(t,u[0],n,r,s,a),u[1]&&Ki(t,u[1],s,r,i,a),u[2]&&Ki(t,u[2],n,a,s,o),u[3]&&Ki(t,u[3],s,a,i,o)}}function Ji(t,e,n,r,i,o,s){var a,u=1/0;return function t(l,h,c,f,p){if(!(h>o||c>s||f<r||p<i)){if(d=l.point){var d,g=e-l.x,y=n-l.y,_=g*g+y*y;if(_<u){var m=Math.sqrt(u=_);r=e-m,i=n-m,o=e+m,s=n+m,a=d}}for(var v=l.nodes,b=.5*(h+f),x=.5*(c+p),w=(n>=x)<<1|e>=b,E=w+4;w<E;++w)if(l=v[3&w])switch(3&w){case 0:t(l,h,c,b,x);break;case 1:t(l,b,c,f,x);break;case 2:t(l,h,x,b,p);break;case 3:t(l,b,x,f,p)}}}(t,r,i,o,s),a}function $i(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,s=e.r-n,a=e.g-r,u=e.b-i;return function(t){return"#"+fe(Math.round(n+s*t))+fe(Math.round(r+a*t))+fe(Math.round(i+u*t))}}function to(t,e){var n,r={},i={};for(n in t)n in e?r[n]=oo(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function eo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function no(t,e){var n,r,i,o=ro.lastIndex=io.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=ro.exec(t))&&(r=io.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:eo(n,r)})),o=io.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,s=ui,a=li;if(o=arguments.length)return s=Wi,a=Qi,3===o&&(i=n,r=e,n=e=0),u(t);function u(t){var u,l,h,c,f,p,d,g,y,_=ve(s),m=ve(a);if(null!=e)p=e,d=n,g=r,y=i;else if(g=y=-(p=d=1/0),l=[],h=[],f=t.length,o)for(c=0;c<f;++c)(u=t[c]).x<p&&(p=u.x),u.y<d&&(d=u.y),u.x>g&&(g=u.x),u.y>y&&(y=u.y),l.push(u.x),h.push(u.y);else for(c=0;c<f;++c){var v=+_(u=t[c],c),b=+m(u,c);v<p&&(p=v),b<d&&(d=b),v>g&&(g=v),b>y&&(y=b),l.push(v),h.push(b)}var x=g-p,E=y-d;function M(t,e,n,r,i,o,s,a){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(w(u-n)+w(l-r)<.01)L(t,e,n,r,i,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,L(t,h,u,l,i,o,s,a),L(t,e,n,r,i,o,s,a)}else t.x=n,t.y=r,t.point=e}else L(t,e,n,r,i,o,s,a)}function L(t,e,n,r,i,o,s,a){var u=.5*(i+s),l=.5*(o+a),h=n>=u,c=r>=l,f=c<<1|h;t.leaf=!1,h?i=u:s=u,c?o=l:a=l,M(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,s,a)}x>E?y=d+x:g=p+E;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){M(S,t,+_(t,++c),+m(t,c),p,d,g,y)},visit:function(t){Ki(t,S,p,d,g,y)},find:function(t){return Ji(S,t[0],t[1],p,d,g,y)}};if(c=-1,null==e){for(;++c<f;)M(S,t[c],l[c],h[c],p,d,g,y);--c}else t.forEach(S.add);return l=h=t=u=null,S}return u.x=function(t){return arguments.length?(s=t,u):s},u.y=function(t){return arguments.length?(a=t,u):a},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},o.interpolateRgb=$i,o.interpolateObject=to,o.interpolateNumber=eo,o.interpolateString=no;var ro=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,io=new RegExp(ro.source,"g");function oo(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function so(t,e){var n,r=[],i=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)r.push(oo(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<s;++n)i[n]=e[n];return function(t){for(n=0;n<a;++n)i[n]=r[n](t);return i}}o.interpolate=oo,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?me.has(e)||/^(#|rgb\(|hsl\()/.test(e)?$i:no:e instanceof Ht?$i:Array.isArray(e)?so:"object"===n&&isNaN(e)?to:eo)(t,e)}],o.interpolateArray=so;var ao=function(){return A},uo=o.map({linear:ao,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return po},cubic:function(){return go},sin:function(){return _o},exp:function(){return mo},circle:function(){return vo},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/kt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*kt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return bo}}),lo=o.map({in:A,out:co,"in-out":fo,"out-in":function(t){return fo(co(t))}});function ho(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function co(t){return function(e){return 1-t(1-e)}}function fo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function po(t){return t*t}function go(t){return t*t*t}function yo(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function _o(t){return 1-Math.cos(t*Nt)}function mo(t){return Math.pow(2,10*(t-1))}function vo(t){return 1-Math.sqrt(1-t*t)}function bo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function xo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function wo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],s=Mo(i),a=Eo(i,o),u=Mo(((e=o)[0]+=(r=-a)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*At,this.translate=[t.e,t.f],this.scale=[s,u],this.skew=u?Math.atan2(a,u)*At:0}function Eo(t,e){return t[0]*e[0]+t[1]*e[1]}function Mo(t){var e=Math.sqrt(Eo(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=uo.get(n)||ao,ho((r=lo.get(r)||A)(n.apply(null,s.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,s=e.h-n,a=e.c-r,u=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Kt(n+s*t,r+a*t,i+u*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,s=e.h-n,a=e.s-r,u=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Xt(n+s*t,r+a*t,i+u*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,s=e.l-n,a=e.a-r,u=e.b-i;return function(t){return re(n+s*t,r+a*t,i+u*t)+""}},o.interpolateRound=xo,o.transform=function(t){var e=u.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new wo(n?n.matrix:Lo)})(t)},wo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Lo={a:1,b:0,c:0,d:1,e:0,f:0};function So(t,e){var n,r=[],i=[],s=o.transform(t),a=o.transform(e),u=s.translate,l=a.translate,h=s.rotate,c=a.rotate,f=s.skew,p=a.skew,d=s.scale,g=a.scale;return u[0]!=l[0]||u[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:eo(u[0],l[0])},{i:3,x:eo(u[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),h!=c?(h-c>180?c+=360:c-h>180&&(h+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:eo(h,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:eo(f,p)}):p&&r.push(r.pop()+"skewX("+p+")"),d[0]!=g[0]||d[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:eo(d[0],g[0])},{i:n-2,x:eo(d[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Po(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Co(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Io(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=ko(t),r=ko(e),i=n.pop(),o=r.pop(),s=null;for(;i===o;)s=i,i=n.pop(),o=r.pop();return s}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function ko(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function To(t){t.fixed|=2}function No(t){t.fixed&=-7}function Oo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ao(t){t.fixed&=-5}function Ro(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,u=-1;++u<a;)null!=(o=s[u])&&(Ro(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}o.interpolateTransform=So,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Io(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,s,a,u={},l=0;function h(){var u,h,f,p,d,g={},y=[],_=o.range(r),m=[];for(t=[],e=[],u=0,p=-1;++p<r;){for(h=0,d=-1;++d<r;)h+=n[p][d];y.push(h),m.push(o.range(r)),u+=h}for(i&&_.sort((function(t,e){return i(y[t],y[e])})),s&&m.forEach((function(t,e){t.sort((function(t,r){return s(n[e][t],n[e][r])}))})),u=(kt-l*r)/u,h=0,p=-1;++p<r;){for(f=h,d=-1;++d<r;){var v=_[p],b=m[v][d],x=n[v][b],w=h,E=h+=x*u;g[v+"-"+b]={index:v,subindex:b,startAngle:w,endAngle:E,value:x}}e[v]={index:v,startAngle:f,endAngle:h,value:(h-f)/u},h+=l}for(p=-1;++p<r;)for(d=p-1;++d<r;){var M=g[p+"-"+d],L=g[d+"-"+p];(M.value||L.value)&&t.push(M.value<L.value?{source:L,target:M}:{source:M,target:L})}a&&c()}function c(){t.sort((function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(l=n,t=e=null,u):l},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(s=e,t=null,u):s},u.sortChords=function(e){return arguments.length?(a=e,t&&c(),u):a},u.chords=function(){return t||h(),t},u.groups=function(){return e||h(),e},u},o.layout.force=function(){var t,e,n,r,i,s={},a=o.dispatch("start","tick","end"),u=[1,1],l=.9,h=Do,c=zo,f=-30,p=Fo,d=.1,g=.64,y=[],_=[];function m(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=i-n,u=o*o+s*s;if(a*a/g<u){if(u<p){var l=e.charge/u;t.px-=o*l,t.py-=s*l}return!0}if(e.point&&u&&u<p){l=e.pointCharge/u;t.px-=o*l,t.py-=s*l}}return!e.charge}}function v(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((e*=.99)<.005)return a.end({type:"end",alpha:e=0}),!0;var t,s,h,c,p,g,v,b,x,w=y.length,E=_.length;for(s=0;s<E;++s)c=(h=_[s]).source,(g=(b=(p=h.target).x-c.x)*b+(x=p.y-c.y)*x)&&(b*=g=e*r[s]*((g=Math.sqrt(g))-n[s])/g,x*=g,p.x-=b*(v=c.weight/(p.weight+c.weight)),p.y-=x*v,c.x+=b*(v=1-v),c.y+=x*v);if((v=e*d)&&(b=u[0]/2,x=u[1]/2,s=-1,v))for(;++s<w;)(h=y[s]).x+=(b-h.x)*v,h.y+=(x-h.y)*v;if(f)for(Ro(t=o.geom.quadtree(y),e,i),s=-1;++s<w;)(h=y[s]).fixed||t.visit(m(h));for(s=-1;++s<w;)(h=y[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*l,h.y-=(h.py-(h.py=h.y))*l);a.tick({type:"tick",alpha:e})},s.nodes=function(t){return arguments.length?(y=t,s):y},s.links=function(t){return arguments.length?(_=t,s):_},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"===typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(c="function"===typeof t?t:+t,s):c},s.friction=function(t){return arguments.length?(l=+t,s):l},s.charge=function(t){return arguments.length?(f="function"===typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(d=+t,s):d},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,e?e=t>0?t:0:t>0&&(a.start({type:"start",alpha:e=t}),o.timer(s.tick)),s):e},s.start=function(){var t,e,o,a=y.length,l=_.length,p=u[0],d=u[1];for(t=0;t<a;++t)(o=y[t]).index=t,o.weight=0;for(t=0;t<l;++t)"number"==typeof(o=_[t]).source&&(o.source=y[o.source]),"number"==typeof o.target&&(o.target=y[o.target]),++o.source.weight,++o.target.weight;for(t=0;t<a;++t)o=y[t],isNaN(o.x)&&(o.x=g("x",p)),isNaN(o.y)&&(o.y=g("y",d)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(n=[],"function"===typeof h)for(t=0;t<l;++t)n[t]=+h.call(this,_[t],t);else for(t=0;t<l;++t)n[t]=h;if(r=[],"function"===typeof c)for(t=0;t<l;++t)r[t]=+c.call(this,_[t],t);else for(t=0;t<l;++t)r[t]=c;if(i=[],"function"===typeof f)for(t=0;t<a;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<a;++t)i[t]=f;function g(n,r){if(!e){for(e=new Array(a),u=0;u<a;++u)e[u]=[];for(u=0;u<l;++u){var i=_[u];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,s=e[t],u=-1,h=s.length;++u<h;)if(!isNaN(o=s[u][n]))return o;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=o.behavior.drag().origin(A).on("dragstart.force",To).on("drag.force",v).on("dragend.force",No)),!arguments.length)return t;this.on("mouseover.force",Oo).on("mouseout.force",Ao).call(t)},o.rebind(s,a,"on")};var Do=20,zo=1,Fo=1/0;function Bo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ho,t}function jo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Go(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,s=-1;++s<i;)n.push(o[s]);for(;null!=(t=r.pop());)e(t)}function Uo(t){return t.children}function qo(t){return t.value}function Vo(t,e){return e.value-t.value}function Ho(t){return o.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}o.layout.hierarchy=function(){var t=Vo,e=Uo,n=qo;function r(i){var o,s=[i],a=[];for(i.depth=0;null!=(o=s.pop());)if(a.push(o),(l=e.call(r,o,o.depth))&&(u=l.length)){for(var u,l,h;--u>=0;)s.push(h=l[u]),h.parent=o,h.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Go(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),a}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(jo(t,(function(t){t.children&&(t.value=0)})),Go(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(t,e,r,i){var o=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(s=o.length)){var s,a,u,l=-1;for(r=t.value?r/t.value:0;++l<s;)n(a=o[l],e,u=a.value*r,i),e+=u}}function r(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)n=Math.max(n,r(e[o]));return 1+n}function i(i,o){var s=t.call(this,i,o);return n(s[0],0,e[0],e[1]/r(s[0])),s}return i.size=function(t){return arguments.length?(e=t,i):e},Bo(i,t)},o.layout.pie=function(){var t=Number,e=Zo,n=0,r=kt,i=0;function s(a){var u,l=a.length,h=a.map((function(e,n){return+t.call(s,e,n)})),c=+("function"===typeof n?n.apply(this,arguments):n),f=("function"===typeof r?r.apply(this,arguments):r)-c,p=Math.min(Math.abs(f)/l,+("function"===typeof i?i.apply(this,arguments):i)),d=p*(f<0?-1:1),g=(f-l*d)/o.sum(h),y=o.range(l),_=[];return null!=e&&y.sort(e===Zo?function(t,e){return h[e]-h[t]}:function(t,n){return e(a[t],a[n])}),y.forEach((function(t){_[t]={data:a[t],value:u=h[t],startAngle:c,endAngle:c+=u*g+d,padAngle:p}})),_}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(r=t,s):r},s.padAngle=function(t){return arguments.length?(i=t,s):i},s};var Zo={};function Yo(t){return t.x}function Xo(t){return t.y}function Wo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=A,e=Jo,n=$o,r=Wo,i=Yo,s=Xo;function a(u,l){if(!(p=u.length))return u;var h=u.map((function(e,n){return t.call(a,e,n)})),c=h.map((function(t){return t.map((function(t,e){return[i.call(a,t,e),s.call(a,t,e)]}))})),f=e.call(a,c,l);h=o.permute(h,f),c=o.permute(c,f);var p,d,g,y,_=n.call(a,c,l),m=h[0].length;for(g=0;g<m;++g)for(r.call(a,h[0][g],y=_[g],c[0][g][1]),d=1;d<p;++d)r.call(a,h[d][g],y+=c[d-1][g][1],c[d][g][1]);return u}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"===typeof t?t:Qo.get(t)||Jo,a):e},a.offset=function(t){return arguments.length?(n="function"===typeof t?t:Ko.get(t)||$o,a):n},a.x=function(t){return arguments.length?(i=t,a):i},a.y=function(t){return arguments.length?(s=t,a):s},a.out=function(t){return arguments.length?(r=t,a):r},a};var Qo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(ts),s=t.map(es),a=o.range(r).sort((function(t,e){return i[t]-i[e]})),u=0,l=0,h=[],c=[];for(e=0;e<r;++e)n=a[e],u<l?(u+=s[n],h.push(n)):(l+=s[n],c.push(n));return c.reverse().concat(h)},reverse:function(t){return o.range(t.length).reverse()},default:Jo}),Ko=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,s=[],a=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>a&&(a=r),s.push(r)}for(n=0;n<o;++n)u[n]=(a-s[n])/2;return u},wiggle:function(t){var e,n,r,i,o,s,a,u,l,h=t.length,c=t[0],f=c.length,p=[];for(p[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<h;++e)i+=t[e][n][1];for(e=0,o=0,a=c[n][0]-c[n-1][0];e<h;++e){for(r=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);r<e;++r)s+=(t[r][n][1]-t[r][n-1][1])/a;o+=s*t[e][n][1]}p[n]=u-=i?o/i*a:0,u<l&&(l=u)}for(n=0;n<f;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,s=1/i,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:$o});function Jo(t){return o.range(t.length)}function $o(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ts(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function es(t){return t.reduce(ns,0)}function ns(t,e){return t+e[1]}function rs(t,e){return is(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function is(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function os(t){return[o.min(t),o.max(t)]}function ss(t,e){return t.value-e.value}function as(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function us(t,e){t._pack_next=e,e._pack_prev=t}function ls(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function hs(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,s,a,u,l=1/0,h=-1/0,c=1/0,f=-1/0;if(e.forEach(cs),(n=e[0]).x=-n.r,n.y=0,v(n),u>1&&((r=e[1]).x=r.r,r.y=0,v(r),u>2))for(ds(n,r,i=e[2]),v(i),as(n,i),n._pack_prev=i,as(i,r),r=n._pack_next,o=3;o<u;o++){ds(n,r,i=e[o]);var p=0,d=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,d++)if(ls(s,i)){p=1;break}if(1==p)for(a=n._pack_prev;a!==s._pack_prev&&!ls(a,i);a=a._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?us(n,r=s):us(n=a,r),o--):(as(n,i),r=i,v(i))}var y=(l+h)/2,_=(c+f)/2,m=0;for(o=0;o<u;o++)(i=e[o]).x-=y,i.y-=_,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=m,e.forEach(fs)}function v(t){l=Math.min(t.x-t.r,l),h=Math.max(t.x+t.r,h),c=Math.min(t.y-t.r,c),f=Math.max(t.y+t.r,f)}}function cs(t){t._pack_next=t._pack_prev=t}function fs(t){delete t._pack_next,delete t._pack_prev}function ps(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,s=i.length;++o<s;)ps(i[o],e,n,r)}function ds(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var s=e.r+n.r,a=i*i+o*o,u=.5+((r*=r)-(s*=s))/(2*a),l=Math.sqrt(Math.max(0,2*s*(r+a)-(r-=a)*r-s*s))/(2*a);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function gs(t,e){return t.parent==e.parent?1:2}function ys(t){var e=t.children;return e.length?e[0]:t.t}function _s(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ms(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function vs(t,e,n){return t.a.parent===e.parent?t.a:n}function bs(t){var e=t.children;return e&&e.length?bs(e[0]):t}function xs(t){var e,n=t.children;return n&&(e=n.length)?xs(n[e-1]):t}function ws(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Es(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ms(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ls(t){return t.rangeExtent?t.rangeExtent():Ms(t.range())}function Ss(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Ps(t,e){var n,r=0,i=t.length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}o.layout.histogram=function(){var t=!0,e=Number,n=os,r=rs;function i(i,s){for(var a,u,l=[],h=i.map(e,this),c=n.call(this,h,s),f=r.call(this,c,h,s),p=(s=-1,h.length),d=f.length-1,g=t?1:1/p;++s<d;)(a=l[s]=[]).dx=f[s+1]-(a.x=f[s]),a.y=0;if(d>0)for(s=-1;++s<p;)(u=h[s])>=c[0]&&u<=c[1]&&((a=l[o.bisect(f,u,1,d)-1]).y+=g,a.push(i[s]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=ve(t),i):n},i.bins=function(t){return arguments.length?(r="number"===typeof t?function(e){return is(e,t)}:ve(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(ss),n=0,r=[1,1];function i(i,o){var s=e.call(this,i,o),a=s[0],u=r[0],l=r[1],h=null==t?Math.sqrt:"function"===typeof t?t:function(){return t};if(a.x=a.y=0,Go(a,(function(t){t.r=+h(t.value)})),Go(a,hs),n){var c=n*(t?1:Math.max(2*a.r/u,2*a.r/l))/2;Go(a,(function(t){t.r+=c})),Go(a,hs),Go(a,(function(t){t.r-=c}))}return ps(a,u/2,l/2,t?1:1/Math.max(2*a.r/u,2*a.r/l)),s}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"===typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Bo(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=gs,n=[1,1],r=null;function i(i,o){var l=t.call(this,i,o),h=l[0],c=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,s=0,a=o.length;s<a;++s)r.push((o[s]=i={_:o[s],parent:e,children:(i=o[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}(h);if(Go(c,s),c.parent.m=-c.z,jo(c,a),r)jo(h,u);else{var f=h,p=h,d=h;jo(h,(function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(f,p)/2-f.x,y=n[0]/(p.x+e(p,f)/2+g),_=n[1]/(d.depth||1);jo(h,(function(t){t.x=(t.x+g)*y,t.y=t.depth*_}))}return l}function s(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,s=t,a=n,u=o.parent.children[0],l=o.m,h=s.m,c=a.m,f=u.m;a=_s(a),o=ys(o),a&&o;)u=ys(u),(s=_s(s)).a=t,(i=a.z+c-o.z-l+e(a._,o._))>0&&(ms(vs(a,t,r),t,i),l+=i,h+=i),c+=a.m,l+=o.m,f+=u.m,h+=s.m;a&&!_s(s)&&(s.t=a,s.m+=c-h),o&&!ys(u)&&(u.t=o,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},Bo(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=gs,n=[1,1],r=!1;function i(i,s){var a,u=t.call(this,i,s),l=u[0],h=0;Go(l,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+o.max(t,(function(t){return t.y}))}(n)):(t.x=a?h+=e(t,a):0,t.y=0,a=t)}));var c=bs(l),f=xs(l),p=c.x-e(c,f)/2,d=f.x+e(f,c)/2;return Go(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Bo(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=ws,a=!1,u="squarify",l=.5*(1+Math.sqrt(5));function h(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function c(t){var e=t.children;if(e&&e.length){var n,r,i,o=s(t),a=[],l=e.slice(),f=1/0,g="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(h(l,o.dx*o.dy/t.value),a.area=0;(i=l.length)>0;)a.push(n=l[i-1]),a.area+=n.area,"squarify"!==u||(r=p(a,g))<=f?(l.pop(),f=r):(a.area-=a.pop().area,d(a,g,o,!1),g=Math.min(o.dx,o.dy),a.length=a.area=0,f=1/0);a.length&&(d(a,g,o,!0),a.length=a.area=0),e.forEach(c)}}function f(t){var e=t.children;if(e&&e.length){var n,r=s(t),i=e.slice(),o=[];for(h(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function p(t,e){for(var n,r=t.area,i=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*o*l)):1/0}function d(t,e,r,i){var o,s=-1,a=t.length,u=r.x,l=r.y,h=e?n(t.area/e):0;if(e==r.dx){for((i||h>r.dy)&&(h=r.dy);++s<a;)(o=t[s]).x=u,o.y=l,o.dy=h,u+=o.dx=Math.min(r.x+r.dx-u,h?n(o.area/h):0);o.z=!0,o.dx+=r.x+r.dx-u,r.y+=h,r.dy-=h}else{for((i||h>r.dx)&&(h=r.dx);++s<a;)(o=t[s]).x=u,o.y=l,o.dx=h,l+=o.dy=Math.min(r.y+r.dy-l,h?n(o.area/h):0);o.z=!1,o.dy+=r.y+r.dy-l,r.x+=h,r.dx-=h}}function g(n){var i=t||e(n),o=i[0];return o.x=0,o.y=0,o.dx=r[0],o.dy=r[1],t&&e.revalue(o),h([o],o.dx*o.dy/o.value),(t?f:c)(o),a&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?ws(e):Es(e,"number"===typeof n?[n,n,n,n]:n)}function n(e){return Es(e,t)}var r;return s=null==(i=t)?ws:"function"===(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(a=e,t=null,g):a},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(u=t+"",g):u},Bo(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var Cs={floor:A,ceil:A};function Is(t,e,n,r){var i=[],s=[],a=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=u;)i.push(n(t[a-1],t[a])),s.push(r(e[a-1],e[a]));return function(e){var n=o.bisect(t,e,1,u)-1;return s[n](i[n](e))}}function ks(t,e,n,r){var i,o;function s(){var s=Math.min(t.length,e.length)>2?Is:Ss,u=r?Co:Po;return i=s(t,e,u,n),o=s(e,t,u,oo),a}function a(t){return i(t)}return a.invert=function(t){return o(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},a.range=function(t){return arguments.length?(e=t,s()):e},a.rangeRound=function(t){return a.range(t).interpolate(xo)},a.clamp=function(t){return arguments.length?(r=t,s()):r},a.interpolate=function(t){return arguments.length?(n=t,s()):n},a.ticks=function(e){return As(t,e)},a.tickFormat=function(e,n){return Rs(t,e,n)},a.nice=function(e){return Ns(t,e),s()},a.copy=function(){return ks(t,e,n,r)},s()}function Ts(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ns(t,e){return Ps(t,(n=Os(t,e)[2])?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:Cs);var n}function Os(t,e){null==e&&(e=10);var n=Ms(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function As(t,e){return o.range.apply(o,Os(t,e))}function Rs(t,e,n){var r=Os(t,e);if(n){var i=Ae.exec(n);if(i.shift(),"s"===i[8]){var s=o.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+zs(s.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(s.scale(t))+s.symbol}}i[7]||(i[7]="."+function(t,e){var n=zs(e[2]);return t in Ds?Math.abs(n-zs(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+zs(r[2])+"f";return o.format(n)}o.scale.linear=function(){return ks([0,1],[0,1],oo,!1)};var Ds={s:1,g:1,p:1,r:1,e:1};function zs(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Fs(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function s(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return s(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Ps(r.map(i),n?Math:js);return t.domain(e),r=e.map(s),a},a.ticks=function(){var t=Ms(r),o=[],a=t[0],u=t[1],l=Math.floor(i(a)),h=Math.ceil(i(u)),c=e%1?2:e;if(isFinite(h-l)){if(n){for(;l<h;l++)for(var f=1;f<c;f++)o.push(s(l)*f);o.push(s(l))}else for(o.push(s(l));l++<h;)for(f=c-1;f>0;f--)o.push(s(l)*f);for(l=0;o[l]<a;l++);for(h=o.length;o[h-1]>u;h--);o=o.slice(l,h)}return o},a.tickFormat=function(t,e){if(!arguments.length)return Bs;arguments.length<2?e=Bs:"function"!==typeof e&&(e=o.format(e));var r,u=Math.max(.1,t/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/s(l(i(t)+r))<=u?e(t):""}},a.copy=function(){return Fs(t.copy(),e,n,r)},Ts(a,t)}o.scale.log=function(){return Fs(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Bs=o.format(".0e"),js={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Gs(t,e,n){var r=Us(e),i=Us(1/e);function o(e){return t(r(e))}return o.invert=function(e){return i(t.invert(e))},o.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),o):n},o.ticks=function(t){return As(n,t)},o.tickFormat=function(t,e){return Rs(n,t,e)},o.nice=function(t){return o.domain(Ns(n,t))},o.exponent=function(s){return arguments.length?(r=Us(e=s),i=Us(1/e),t.domain(n.map(r)),o):e},o.copy=function(){return Gs(t.copy(),e,n)},Ts(o,t)}function Us(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qs(t,e){var n,r,i;function s(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function a(e,n){return o.range(t.length).map((function(t){return e+n*t}))}return s.domain=function(r){if(!arguments.length)return t;t=[],n=new L;for(var i,o=-1,a=r.length;++o<a;)n.has(i=r[o])||n.set(i,t.push(i));return s[e.t].apply(s,e.a)},s.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},s):r},s.rangePoints=function(n,o){arguments.length<2&&(o=0);var u=n[0],l=n[1],h=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+o);return r=a(u+h*o/2,h),i=0,e={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(n,o){arguments.length<2&&(o=0);var u=n[0],l=n[1],h=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+o)|0;return r=a(u+Math.round(h*o/2+(l-u-(t.length-1+o)*h)/2),h),i=0,e={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(n,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=n[1]<n[0],h=n[l-0],c=n[1-l],f=(c-h)/(t.length-o+2*u);return r=a(h+f*u,f),l&&r.reverse(),i=f*(1-o),e={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(n,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=n[1]<n[0],h=n[l-0],c=n[1-l],f=Math.floor((c-h)/(t.length-o+2*u));return r=a(h+Math.round((c-h-(t.length-o)*f)/2),f),l&&r.reverse(),i=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return Ms(e.a[0])},s.copy=function(){return qs(t,e)},s.domain(t)}o.scale.pow=function(){return Gs(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return qs([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Vs)},o.scale.category20=function(){return o.scale.ordinal().range(Hs)},o.scale.category20b=function(){return o.scale.ordinal().range(Zs)},o.scale.category20c=function(){return o.scale.ordinal().range(Ys)};var Vs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Hs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),Ys=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Xs(t,e){var n;function r(){var r=0,s=e.length;for(n=[];++r<s;)n[r-1]=o.quantile(t,r/s);return i}function i(t){if(!isNaN(t=+t))return e[o.bisect(n,t)]}return i.domain=function(e){return arguments.length?(t=e.map(_).filter(m).sort(y),r()):t},i.range=function(t){return arguments.length?(e=t,r()):e},i.quantiles=function(){return n},i.invertExtent=function(r){return(r=e.indexOf(r))<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},i.copy=function(){return Xs(t,e)},r()}function Ws(t,e,n){var r,i;function o(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function s(){return r=n.length/(e-t),i=n.length-1,o}return o.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],s()):[t,e]},o.range=function(t){return arguments.length?(n=t,s()):n},o.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},o.copy=function(){return Ws(t,e,n)},s()}function Qs(t,e){function n(n){if(n<=n)return e[o.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Qs(t,e)},n}function Ks(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return As(t,e)},e.tickFormat=function(e,n){return Rs(t,e,n)},e.copy=function(){return Ks(t)},e}function Js(){return 0}o.scale.quantile=function(){return Xs([],[])},o.scale.quantize=function(){return Ws(0,1,[0,1])},o.scale.threshold=function(){return Qs([.5],[0,1])},o.scale.identity=function(){return Ks([0,1])},o.svg={},o.svg.arc=function(){var t=ta,e=ea,n=Js,r=$s,i=na,o=ra,s=ia;function a(){var a=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),h=i.apply(this,arguments)-Nt,c=o.apply(this,arguments)-Nt,f=Math.abs(c-h),p=h>c?0:1;if(l<a&&(d=l,l=a,a=d),f>=Tt)return u(l,p)+(a?u(a,1-p):"")+"Z";var d,g,y,_,m,v,b,x,w,E,M,L,S=0,P=0,C=[];if((_=(+s.apply(this,arguments)||0)/2)&&(y=r===$s?Math.sqrt(a*a+l*l):+r.apply(this,arguments),p||(P*=-1),l&&(P=Ft(y/l*Math.sin(_))),a&&(S=Ft(y/a*Math.sin(_)))),l){m=l*Math.cos(h+P),v=l*Math.sin(h+P),b=l*Math.cos(c-P),x=l*Math.sin(c-P);var I=Math.abs(c-h-2*P)<=It?0:1;if(P&&oa(m,v,b,x)===p^I){var k=(h+c)/2;m=l*Math.cos(k),v=l*Math.sin(k),b=x=null}}else m=v=0;if(a){w=a*Math.cos(c-S),E=a*Math.sin(c-S),M=a*Math.cos(h+S),L=a*Math.sin(h+S);var T=Math.abs(h-c+2*S)<=It?0:1;if(S&&oa(w,E,M,L)===1-p^T){var N=(h+c)/2;w=a*Math.cos(N),E=a*Math.sin(N),M=L=null}}else w=E=0;if((d=Math.min(Math.abs(l-a)/2,+n.apply(this,arguments)))>.001){g=a<l^p?0:1;var O=null==M?[w,E]:null==b?[m,v]:di([m,v],[M,L],[b,x],[w,E]),A=m-O[0],R=v-O[1],D=b-O[0],z=x-O[1],F=1/Math.sin(Math.acos((A*D+R*z)/(Math.sqrt(A*A+R*R)*Math.sqrt(D*D+z*z)))/2),B=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(null!=b){var j=Math.min(d,(l-B)/(F+1)),G=sa(null==M?[w,E]:[M,L],[m,v],l,j,p),U=sa([b,x],[w,E],l,j,p);d===j?C.push("M",G[0],"A",j,",",j," 0 0,",g," ",G[1],"A",l,",",l," 0 ",1-p^oa(G[1][0],G[1][1],U[1][0],U[1][1]),",",p," ",U[1],"A",j,",",j," 0 0,",g," ",U[0]):C.push("M",G[0],"A",j,",",j," 0 1,",g," ",U[0])}else C.push("M",m,",",v);if(null!=M){var q=Math.min(d,(a-B)/(F-1)),V=sa([m,v],[M,L],a,-q,p),H=sa([w,E],null==b?[m,v]:[b,x],a,-q,p);d===q?C.push("L",H[0],"A",q,",",q," 0 0,",g," ",H[1],"A",a,",",a," 0 ",p^oa(H[1][0],H[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",q,",",q," 0 0,",g," ",V[0]):C.push("L",H[0],"A",q,",",q," 0 0,",g," ",V[0])}else C.push("L",w,",",E)}else C.push("M",m,",",v),null!=b&&C.push("A",l,",",l," 0 ",I,",",p," ",b,",",x),C.push("L",w,",",E),null!=M&&C.push("A",a,",",a," 0 ",T,",",1-p," ",M,",",L);return C.push("Z"),C.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=ve(e),a):t},a.outerRadius=function(t){return arguments.length?(e=ve(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=ve(t),a):n},a.padRadius=function(t){return arguments.length?(r=t==$s?$s:ve(t),a):r},a.startAngle=function(t){return arguments.length?(i=ve(t),a):i},a.endAngle=function(t){return arguments.length?(o=ve(t),a):o},a.padAngle=function(t){return arguments.length?(s=ve(t),a):s},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Nt;return[Math.cos(r)*n,Math.sin(r)*n]},a};var $s="auto";function ta(t){return t.innerRadius}function ea(t){return t.outerRadius}function na(t){return t.startAngle}function ra(t){return t.endAngle}function ia(t){return t&&t.padAngle}function oa(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function sa(t,e,n,r,i){var o=t[0]-e[0],s=t[1]-e[1],a=(i?r:-r)/Math.sqrt(o*o+s*s),u=a*s,l=-a*o,h=t[0]+u,c=t[1]+l,f=e[0]+u,p=e[1]+l,d=(h+f)/2,g=(c+p)/2,y=f-h,_=p-c,m=y*y+_*_,v=n-r,b=h*p-f*c,x=(_<0?-1:1)*Math.sqrt(v*v*m-b*b),w=(b*_-y*x)/m,E=(-b*y-_*x)/m,M=(b*_+y*x)/m,L=(-b*y+_*x)/m,S=w-d,P=E-g,C=M-d,I=L-g;return S*S+P*P>C*C+I*I&&(w=M,E=L),[[w-u,E-l],[w*n/v,E*n/v]]}function aa(t){var e=ui,n=li,r=Jn,i=la,o=i.key,s=.7;function a(o){var a,u=[],l=[],h=-1,c=o.length,f=ve(e),p=ve(n);function d(){u.push("M",i(t(l),s))}for(;++h<c;)r.call(this,a=o[h],h)?l.push([+f.call(this,a,h),+p.call(this,a,h)]):l.length&&(d(),l=[]);return l.length&&d(),u.length?u.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(r=t,a):r},a.interpolate=function(t){return arguments.length?(o="function"===typeof t?i=t:(i=ua.get(t)||la).key,a):o},a.tension=function(t){return arguments.length?(s=t,a):s},a}o.svg.line=function(){return aa(A)};var ua=o.map({linear:la,"linear-closed":function(t){return la(t)+"Z"},step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":ha,"step-after":ca,basis:da,"basis-open":function(t){if(t.length<4)return la(t);var e,n=[],r=-1,i=t.length,o=[0],s=[0];for(;++r<3;)e=t[r],o.push(e[0]),s.push(e[1]);n.push(ga(ma,o)+","+ga(ma,s)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),va(n,o,s);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,s=[],a=[];for(;++r<4;)n=t[r%i],s.push(n[0]),a.push(n[1]);e=[ga(ma,s),",",ga(ma,a)],--r;for(;++r<o;)n=t[r%i],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),va(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],s=t[0][1],a=t[n][0]-o,u=t[n][1]-s,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*a),r[1]=e*r[1]+(1-e)*(s+i*u);return da(t)},cardinal:function(t,e){return t.length<3?la(t):t[0]+fa(t,pa(t,e))},"cardinal-open":function(t,e){return t.length<4?la(t):t[1]+fa(t.slice(1,-1),pa(t,e))},"cardinal-closed":function(t,e){return t.length<3?la(t):t[0]+fa((t.push(t[0]),t),pa([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?la(t):t[0]+fa(t,function(t){var e,n,r,i,o=[],s=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],s=r[0]=ba(i,o);for(;++e<n;)r[e]=(s+(s=ba(i=o,o=t[e+1])))/2;return r[e]=s,r}(t),a=-1,u=t.length-1;for(;++a<u;)e=ba(t[a],t[a+1]),w(e)<Pt?s[a]=s[a+1]=0:(i=(n=s[a]/e)*n+(r=s[a+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),s[a]=i*n,s[a+1]=i*r);a=-1;for(;++a<=u;)i=(t[Math.min(u,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([i||0,s[a]*i||0]);return o}(t))}});function la(t){return t.join("L")}function ha(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ca(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function fa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return la(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],s=e[0],a=s,u=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){a=e[1],o=t[u],u++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],a=e[l],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var h=t[u];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+h[0]+","+h[1]}return r}function pa(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],s=t[1],a=1,u=t.length;++a<u;)n=o,o=s,s=t[a],r.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return r}function da(t){if(t.length<3)return la(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],s=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],u=[i,",",o,"L",ga(ma,s),",",ga(ma,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),va(u,s,a);return t.pop(),u.push("L",r),u.join("")}function ga(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}ua.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var ya=[0,2/3,1/3,0],_a=[0,1/3,2/3,0],ma=[0,1/6,2/3,1/6];function va(t,e,n){t.push("C",ga(ya,e),",",ga(ya,n),",",ga(_a,e),",",ga(_a,n),",",ga(ma,e),",",ga(ma,n))}function ba(t,e){return(e[1]-t[1])/(e[0]-t[0])}function xa(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Nt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function wa(t){var e=ui,n=ui,r=0,i=li,o=Jn,s=la,a=s.key,u=s,l="L",h=.7;function c(a){var c,f,p,d=[],g=[],y=[],_=-1,m=a.length,v=ve(e),b=ve(r),x=e===n?function(){return f}:ve(n),w=r===i?function(){return p}:ve(i);function E(){d.push("M",s(t(y),h),l,u(t(g.reverse()),h),"Z")}for(;++_<m;)o.call(this,c=a[_],_)?(g.push([f=+v.call(this,c,_),p=+b.call(this,c,_)]),y.push([+x.call(this,c,_),+w.call(this,c,_)])):g.length&&(E(),g=[],y=[]);return g.length&&E(),d.length?d.join(""):null}return c.x=function(t){return arguments.length?(e=n=t,c):n},c.x0=function(t){return arguments.length?(e=t,c):e},c.x1=function(t){return arguments.length?(n=t,c):n},c.y=function(t){return arguments.length?(r=i=t,c):i},c.y0=function(t){return arguments.length?(r=t,c):r},c.y1=function(t){return arguments.length?(i=t,c):i},c.defined=function(t){return arguments.length?(o=t,c):o},c.interpolate=function(t){return arguments.length?(a="function"===typeof t?s=t:(s=ua.get(t)||la).key,u=s.reverse||s,l=s.closed?"M":"L",c):a},c.tension=function(t){return arguments.length?(h=t,c):h},c}function Ea(t){return t.radius}function Ma(t){return[t.x,t.y]}function La(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Nt;return[n*Math.cos(r),n*Math.sin(r)]}}function Sa(){return 64}function Pa(){return"circle"}function Ca(t){var e=Math.sqrt(t/It);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=aa(xa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ha.reverse=ca,ca.reverse=ha,o.svg.area=function(){return wa(A)},o.svg.area.radial=function(){var t=wa(xa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Xr,e=Wr,n=Ea,r=na,i=ra;function o(n,r){var i,o,l=s(this,t,n,r),h=s(this,e,n,r);return"M"+l.p0+a(l.r,l.p1,l.a1-l.a0)+(o=h,((i=l).a0==o.a0&&i.a1==o.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,h.r,h.p0)+a(h.r,h.p1,h.a1-h.a0)+u(h.r,h.p1,l.r,l.p0))+"Z")}function s(t,e,o,s){var a=e.call(t,o,s),u=n.call(t,a,s),l=r.call(t,a,s)-Nt,h=i.call(t,a,s)-Nt;return{r:u,a0:l,a1:h,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(h),u*Math.sin(h)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>It)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=ve(t),o):n},o.source=function(e){return arguments.length?(t=ve(e),o):t},o.target=function(t){return arguments.length?(e=ve(t),o):e},o.startAngle=function(t){return arguments.length?(r=ve(t),o):r},o.endAngle=function(t){return arguments.length?(i=ve(t),o):i},o},o.svg.diagonal=function(){var t=Xr,e=Wr,n=Ma;function r(r,i){var o=t.call(this,r,i),s=e.call(this,r,i),a=(o.y+s.y)/2,u=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=ve(e),r):t},r.target=function(t){return arguments.length?(e=ve(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=Ma,n=t.projection;return t.projection=function(t){return arguments.length?n(La(e=t)):e},t},o.svg.symbol=function(){var t=Pa,e=Sa;function n(n,r){return(Ia.get(t.call(this,n,r))||Ca)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ve(e),n):t},n.size=function(t){return arguments.length?(e=ve(t),n):e},n};var Ia=o.map({circle:Ca,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ta)),n=e*Ta;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ka),n=e*ka/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ka),n=e*ka/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=Ia.keys();var ka=Math.sqrt(3),Ta=Math.tan(30*Ot);Q.transition=function(t){for(var e,n,r=Ra||++Fa,i=Ga(t),o=[],s=Da||{time:Date.now(),ease:yo,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(e=[]);for(var l=this[a],h=-1,c=l.length;++h<c;)(n=l[h])&&Ua(n,h,i,r,s),e.push(n)}return Aa(o,i,r)},Q.interrupt=function(t){return this.each(null==t?Na:Oa(Ga(t)))};var Na=Oa(Ga());function Oa(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Aa(t,e,n){return H(t,za),t.namespace=e,t.id=n,t}var Ra,Da,za=[],Fa=0;function Ba(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"===typeof n?function(t,s,a){t[o][i].tween.set(e,r(n.call(t,t.__data__,s,a)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function ja(t){return null==t&&(t=""),function(){this.textContent=t}}function Ga(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ua(t,e,n,r,i){var s=t[n]||(t[n]={active:0,count:0}),a=s[r];if(!a){var u=i.time;a=s[r]={tween:new L,time:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++s.count,o.timer((function(i){var l,h,c=a.delay,f=Se,p=[];if(f.t=c+u,c<=i)return d(i-c);function d(n){if(s.active>r)return y();var i=s[s.active];i&&(--s.count,delete s[s.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),s.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)})),h=a.ease,l=a.duration,o.timer((function(){return f.c=g(n||1)?Jn:g,1}),0,u)}function g(n){if(s.active!==r)return 1;for(var i=n/l,o=h(i),u=p.length;u>0;)p[--u].call(t,o);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),y()):void 0}function y(){return--s.count?delete s[r]:delete t[n],1}f.c=d}),0,u)}}za.call=Q.call,za.empty=Q.empty,za.node=Q.node,za.size=Q.size,o.transition=function(t,e){return t&&t.transition?Ra?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=za,za.select=function(t){var e,n,r,i=this.id,o=this.namespace,s=[];t=K(t);for(var a=-1,u=this.length;++a<u;){s.push(e=[]);for(var l=this[a],h=-1,c=l.length;++h<c;)(r=l[h])&&(n=t.call(r,r.__data__,h,a))?("__data__"in r&&(n.__data__=r.__data__),Ua(n,h,o,i,r[o][i]),e.push(n)):e.push(null)}return Aa(s,o,i)},za.selectAll=function(t){var e,n,r,i,o,s=this.id,a=this.namespace,u=[];t=J(t);for(var l=-1,h=this.length;++l<h;)for(var c=this[l],f=-1,p=c.length;++f<p;)if(r=c[f]){o=r[a][s],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&Ua(i,d,a,s,o),e.push(i)}return Aa(u,a,s)},za.filter=function(t){var e,n,r=[];"function"!==typeof t&&(t=ct(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var s,a=0,u=(s=this[i]).length;a<u;a++)(n=s[a])&&t.call(n,n.__data__,a,i)&&e.push(n)}return Aa(r,this.namespace,this.id)},za.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},za.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?So:oo,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}function a(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function u(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Ba(this,"attr."+t,e,r.local?u:a)},za.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},za.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var r,i=h(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=oo(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Ba(this,"style."+t,e,o)},za.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,h(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},za.text=function(t){return Ba(this,"text",t,ja)},za.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},za.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!==typeof t&&(t=o.ease.apply(o,arguments)),pt(this,(function(r){r[n][e].ease=t})))},za.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"===typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},za.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"===typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},za.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Da,s=Ra;try{Ra=n,pt(this,(function(e,i,o){Da=e[r][n],t.call(e,e.__data__,i,o)}))}finally{Da=i,Ra=s}}else pt(this,(function(i){var s=i[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)}));return this},za.transition=function(){for(var t,e,n,r=this.id,i=++Fa,o=this.namespace,s=[],a=0,u=this.length;a<u;a++){s.push(t=[]);for(var l,h=0,c=(l=this[a]).length;h<c;h++)(e=l[h])&&Ua(e,h,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Aa(s,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=qa,r=6,i=6,s=3,a=[10],u=null;function l(l){l.each((function(){var l,h=o.select(this),c=this.__chart__||e,f=this.__chart__=e.copy(),p=null==u?f.ticks?f.ticks.apply(f,a):f.domain():u,d=null==t?f.tickFormat?f.tickFormat.apply(f,a):A:t,g=h.selectAll(".tick").data(p,f),y=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Pt),_=o.transition(g.exit()).style("opacity",Pt).remove(),m=o.transition(g.order()).style("opacity",1),v=Math.max(r,0)+s,b=Ls(f),x=h.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),o.transition(x));y.append("line"),y.append("text");var E,M,L,S,P=y.select("line"),C=m.select("line"),I=g.select("text").text(d),k=y.select("text"),T=m.select("text"),N="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(l=Ha,E="x",L="y",M="x2",S="y2",I.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+N*i+"V0H"+b[1]+"V"+N*i)):(l=Za,E="y",L="x",M="y2",S="x2",I.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),w.attr("d","M"+N*i+","+b[0]+"H0V"+b[1]+"H"+N*i)),P.attr(S,N*r),k.attr(L,N*v),C.attr(M,0).attr(S,N*r),T.attr(E,0).attr(L,N*v),f.rangeBand){var O=f,R=O.rangeBand()/2;c=f=function(t){return O(t)+R}}else c.rangeBand?c=f:_.call(l,f,c);y.call(l,c,f),m.call(l,f,f)}))}return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(t){return arguments.length?(n=t in Va?t+"":qa,l):n},l.ticks=function(){return arguments.length?(a=arguments,l):a},l.tickValues=function(t){return arguments.length?(u=t,l):u},l.tickFormat=function(e){return arguments.length?(t=e,l):t},l.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],l):r},l.innerTickSize=function(t){return arguments.length?(r=+t,l):r},l.outerTickSize=function(t){return arguments.length?(i=+t,l):i},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l.tickSubdivide=function(){return arguments.length&&l},l};var qa="bottom",Va={top:1,right:1,bottom:1,left:1};function Ha(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Za(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}o.svg.brush=function(){var t,e,n=q(f,"brushstart","brush","brushend"),r=null,i=null,s=[0,0],a=[0,0],u=!0,l=!0,c=Xa[0];function f(t){t.each((function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",y).on("touchstart.brush",y),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(c,A);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Ya[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var s,a=o.transition(t),u=o.transition(e);r&&(s=Ls(r),u.attr("x",s[0]).attr("width",s[1]-s[0]),d(a)),i&&(s=Ls(i),u.attr("y",s[0]).attr("height",s[1]-s[0]),g(a)),p(a)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+s[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function y(){var c,y,_=this,m=o.select(o.event.target),v=n.of(_,arguments),b=o.select(_),x=m.datum(),w=!/^(n|s)$/.test(x)&&r,E=!/^(e|w)$/.test(x)&&i,M=m.classed("extent"),L=Et(_),S=o.mouse(_),P=o.select(h(_)).on("keydown.brush",k).on("keyup.brush",T);if(o.event.changedTouches?P.on("touchmove.brush",N).on("touchend.brush",A):P.on("mousemove.brush",N).on("mouseup.brush",A),b.interrupt().selectAll("*").interrupt(),M)S[0]=s[0]-S[0],S[1]=a[0]-S[1];else if(x){var C=+/w$/.test(x),I=+/^n/.test(x);y=[s[1-C]-S[0],a[1-I]-S[1]],S[0]=s[C],S[1]=a[I]}else o.event.altKey&&(c=S.slice());function k(){32==o.event.keyCode&&(M||(c=null,S[0]-=s[1],S[1]-=a[1],M=2),G())}function T(){32==o.event.keyCode&&2==M&&(S[0]+=s[1],S[1]+=a[1],M=0,G())}function N(){var t=o.mouse(_),e=!1;y&&(t[0]+=y[0],t[1]+=y[1]),M||(o.event.altKey?(c||(c=[(s[0]+s[1])/2,(a[0]+a[1])/2]),S[0]=s[+(t[0]<c[0])],S[1]=a[+(t[1]<c[1])]):c=null),w&&O(t,r,0)&&(d(b),e=!0),E&&O(t,i,1)&&(g(b),e=!0),e&&(p(b),v({type:"brush",mode:M?"move":"resize"}))}function O(n,r,i){var o,h,f=Ls(r),p=f[0],d=f[1],g=S[i],y=i?a:s,_=y[1]-y[0];if(M&&(p-=g,d-=_+g),o=(i?l:u)?Math.max(p,Math.min(d,n[i])):n[i],M?h=(o+=g)+_:(c&&(g=Math.max(p,Math.min(d,2*c[i]-o))),g<o?(h=o,o=g):h=g),y[0]!=o||y[1]!=h)return i?e=null:t=null,y[0]=o,y[1]=h,!0}function A(){N(),b.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),v({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",m.style("cursor")),v({type:"brushstart"}),N()}return f.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:s,y:a,i:t,j:e},u=this.__chart__||i;this.__chart__=i,Ra?o.select(this).transition().each("start.brush",(function(){t=u.i,e=u.j,s=u.x,a=u.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=so(s,i.x),o=so(a,i.y);return t=e=null,function(t){s=i.x=n(t),a=i.y=o(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},f.x=function(t){return arguments.length?(c=Xa[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(c=Xa[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],l=!!t[1]):r?u=!!t:i&&(l=!!t),f):r&&i?[u,l]:r?u:i?l:null},f.extent=function(n){var o,u,l,h,c;return arguments.length?(r&&(o=n[0],u=n[1],i&&(o=o[0],u=u[0]),t=[o,u],r.invert&&(o=r(o),u=r(u)),u<o&&(c=o,o=u,u=c),o==s[0]&&u==s[1]||(s=[o,u])),i&&(l=n[0],h=n[1],r&&(l=l[1],h=h[1]),e=[l,h],i.invert&&(l=i(l),h=i(h)),h<l&&(c=l,l=h,h=c),l==a[0]&&h==a[1]||(a=[l,h])),f):(r&&(t?(o=t[0],u=t[1]):(o=s[0],u=s[1],r.invert&&(o=r.invert(o),u=r.invert(u)),u<o&&(c=o,o=u,u=c))),i&&(e?(l=e[0],h=e[1]):(l=a[0],h=a[1],i.invert&&(l=i.invert(l),h=i.invert(h)),h<l&&(c=l,l=h,h=c))),r&&i?[[o,l],[u,h]]:r?[o,u]:i&&[l,h])},f.clear=function(){return f.empty()||(s=[0,0],a=[0,0],t=e=null),f},f.empty=function(){return!!r&&s[0]==s[1]||!!i&&a[0]==a[1]},o.rebind(f,n,"on")};var Ya={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wa=ze.format=pn.timeFormat,Qa=Wa.utc,Ka=Qa("%Y-%m-%dT%H:%M:%S.%LZ");function Ja(t){return t.toISOString()}function $a(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(eu,r);return i==eu.length?[e.year,Os(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/eu[i-1]<eu[i]/r?i-1:i]:[iu,Os(t,n)[2]]}return r.invert=function(e){return tu(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(tu)},r.nice=function(t,e){var n=r.domain(),o=Ms(n),s=null==t?i(o,10):"number"===typeof t&&i(o,t);function a(n){return!isNaN(n)&&!t.range(n,tu(+n+1),e).length}return s&&(t=s[0],e=s[1]),r.domain(Ps(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=tu(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=tu(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ms(r.domain()),o=null==t?i(n,10):"number"===typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],tu(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return $a(t.copy(),e,n)},Ts(r,t)}function tu(t){return new Date(t)}Wa.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ja:Ka,Ja.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ja.toString=Ka.toString,ze.second=Ge((function(t){return new Fe(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),ze.seconds=ze.second.range,ze.seconds.utc=ze.second.utc.range,ze.minute=Ge((function(t){return new Fe(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),ze.minutes=ze.minute.range,ze.minutes.utc=ze.minute.utc.range,ze.hour=Ge((function(t){var e=t.getTimezoneOffset()/60;return new Fe(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),ze.hours=ze.hour.range,ze.hours.utc=ze.hour.utc.range,ze.month=Ge((function(t){return(t=ze.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),ze.months=ze.month.range,ze.months.utc=ze.month.utc.range;var eu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nu=[[ze.second,1],[ze.second,5],[ze.second,15],[ze.second,30],[ze.minute,1],[ze.minute,5],[ze.minute,15],[ze.minute,30],[ze.hour,1],[ze.hour,3],[ze.hour,6],[ze.hour,12],[ze.day,1],[ze.day,2],[ze.week,1],[ze.month,1],[ze.month,3],[ze.year,1]],ru=Wa.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Jn]]),iu={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(tu)},floor:A,ceil:A};nu.year=ze.year,ze.scale=function(){return $a(o.scale.linear(),nu,ru)};var ou=nu.map((function(t){return[t[0].utc,t[1]]})),su=Qa.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Jn]]);function au(t){return JSON.parse(t.responseText)}function uu(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}ou.year=ze.year.utc,ze.scale.utc=function(){return $a(o.scale.linear(),ou,su)},o.text=be((function(t){return t.responseText})),o.json=function(t,e){return xe(t,"application/json",au,e)},o.html=function(t,e){return xe(t,"text/html",uu,e)},o.xml=be((function(t){return t.responseXML})),void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i),this.d3=o}()},function(t,e){!function(t){"use strict";"undefined"==typeof L&&function(t){throw"L.Pather: "+t+"."}("Leaflet.js is required: http://leafletjs.com/");var e={VIEW:1,CREATE:2,EDIT:4,DELETE:8,APPEND:16,EDIT_APPEND:20,ALL:31};L.Pather=L.FeatureGroup.extend({initialize:function(t){this.options=Object.assign(this.defaultOptions(),t||{}),this.creating=!1,this.polylines=[],this.eventHandlers=[]},createPath:function(t){if(t.length<=1)return!1;this.clearAll();var e=new L.Pather.Polyline(this.map,t,this.options,{fire:this.fire.bind(this),mode:this.getMode.bind(this),remove:this.removePath.bind(this)});return this.polylines.push(e),this.fire("created",{polyline:e,latLngs:e.getLatLngs()}),e},removePath:function(t){if(t instanceof L.Pather.Polyline){var e=this.polylines.indexOf(t);return this.polylines.splice(e,1),t.softRemove(),this.fire("deleted",{polyline:t,latLngs:[]}),!0}return!1},getPaths:function(){return this.polylines},onAdd:function(t){var e=this.element=this.options.element||t.getContainer();this.draggingState=t.dragging._enabled,this.map=t,this.fromPoint={x:0,y:0},this.svg=d3.select(e).append("svg").attr("pointer-events","none").attr("class",this.getOption("moduleClass")).attr("width",this.getOption("width")).attr("height",this.getOption("height")),t.dragging.disable(),this.attachEvents(t),this.setMode(this.options.mode)},onRemove:function(){if(this.svg.remove(),this.options.removePolylines)for(var t=this.polylines.length;t--;)this.removePath(this.polylines[t]);this.map.off("mousedown",this.eventHandlers.mouseDown),this.map.off("mousemove",this.eventHandlers.mouseMove),this.map.off("mouseup",this.eventHandlers.mouseUp),this.map.getContainer().removeEventListener("mouseleave",this.eventHandlers.mouseLeave),this.element.classList.remove("mode-create"),this.element.classList.remove("mode-delete"),this.element.classList.remove("mode-edit"),this.element.classList.remove("mode-append");var e=this.map.getContainer().querySelector(".leaflet-tile-pane"),n=this.draggingState?"enable":"disable";e.style.pointerEvents="all",this.map.dragging[n]()},getEvent:function(t){return t.touches?t.touches[0]:t},edgeBeingChanged:function(){var t=this.polylines.filter((function(t){return t.manipulating}));return 0===t.length?null:t[0]},isPolylineCreatable:function(){return!!(this.options.mode&e.CREATE)},events:{mouseDown:function(t){t=t.originalEvent||this.getEvent(t);var e=this.map.mouseEventToContainerPoint(t),n=this.map.containerPointToLatLng(e);this.isPolylineCreatable()&&!this.edgeBeingChanged()&&(this.creating=!0,this.fromPoint=this.map.latLngToContainerPoint(n),this.latLngs=[])},mouseMove:function(t){t=t.originalEvent||this.getEvent(t);var e=this.map.mouseEventToContainerPoint(t);if(this.edgeBeingChanged())this.edgeBeingChanged().moveTo(this.map.containerPointToLayerPoint(e));else{var n=d3.svg.line().x((function(t){return t.x})).y((function(t){return t.y})).interpolate("linear");if(this.creating){var r=[this.fromPoint,new L.Point(e.x,e.y,!1)];this.latLngs.push(e),this.svg.append("path").classed(this.getOption("lineClass"),!0).attr("d",n(r)).attr("stroke",this.getOption("strokeColour")).attr("stroke-width",this.getOption("strokeWidth")).attr("fill","none"),this.fromPoint={x:e.x,y:e.y}}}},mouseLeave:function(){this.clearAll(),this.creating=!1},mouseUp:function(){return this.creating?(this.creating=!1,this.createPath(this.convertPointsToLatLngs(this.latLngs)),void(this.latLngs=[])):void(this.edgeBeingChanged()&&(this.edgeBeingChanged().attachElbows(),this.edgeBeingChanged().finished(),this.edgeBeingChanged().manipulating=!1))}},attachEvents:function(t){this.eventHandlers={mouseDown:this.events.mouseDown.bind(this),mouseMove:this.events.mouseMove.bind(this),mouseUp:this.events.mouseUp.bind(this),mouseLeave:this.events.mouseLeave.bind(this)},this.map.on("mousedown",this.eventHandlers.mouseDown),this.map.on("mousemove",this.eventHandlers.mouseMove),this.map.on("mouseup",this.eventHandlers.mouseUp),this.map.getContainer().addEventListener("mouseleave",this.eventHandlers.mouseLeave),this.map.getContainer().addEventListener("touchstart",this.fire.bind(t,"mousedown")),this.map.getContainer().addEventListener("touchmove",this.fire.bind(t,"mousemove")),this.map.getContainer().addEventListener("touchend",this.fire.bind(t,"mouseup"))},convertPointsToLatLngs:function(t){return t.map(function(t){return this.map.containerPointToLatLng(t)}.bind(this))},clearAll:function(){this.svg.text("")},getOption:function(t){return this.options[t]||this.defaultOptions()[t]},defaultOptions:function(){return{moduleClass:"pather",lineClass:"drawing-line",detectTouch:!0,elbowClass:"elbow",removePolylines:!0,strokeColour:"rgba(0,0,0,.5)",strokeWidth:2,width:"100%",height:"100%",smoothFactor:10,pathColour:"black",pathOpacity:.55,pathWidth:3,mode:e.ALL}},setSmoothFactor:function(t){this.options.smoothFactor=parseInt(t)},setMode:function(n){this.setClassName(n),this.options.mode=n;var r=this.map.getContainer().querySelector(".leaflet-tile-pane");if(function(){return this.detectTouch&&("ontouchstart"in t||"onmsgesturechange"in t)?this.options.mode&e.CREATE||this.options.mode&e.EDIT:this.options.mode&e.CREATE}.bind(this)()){var i=this.draggingState?"disable":"enable";return r.style.pointerEvents="none",void this.map.dragging[i]()}r.style.pointerEvents="all",this.map.dragging.enable()},setClassName:function(t){var n=function(n){var r=["mode",n].join("-");return e[n.toUpperCase()]&t?void this.element.classList.add(r):void this.element.classList.remove(r)}.bind(this);n("create"),n("delete"),n("edit"),n("append")},getMode:function(){return this.options.mode},setOptions:function(t){this.options=Object.assign(this.options,t||{})}}),L.Pather.MODE=e,L.pather=function(t){return new L.Pather(t)}}(window),function(){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i){i=Object(i);for(var o=Object.keys(Object(i)),s=0,a=o.length;a>s;s++){var u=o[s],l=Object.getOwnPropertyDescriptor(i,u);void 0!==l&&l.enumerable&&(n[u]=i[u])}}}return n}})}(),function(){"use strict";var t="undefined"==typeof Symbol?"_pather":Symbol.for("pather");L.Pather.Polyline=function(t,e,n,r){this.options={color:n.pathColour,opacity:n.pathOpacity,weight:n.pathWidth,smoothFactor:n.smoothFactor||1,elbowClass:n.elbowClass},this.polyline=new L.Polyline(e,this.options).addTo(t),this.map=t,this.methods=r,this.edges=[],this.manipulating=!1,this.attachPolylineEvents(this.polyline),this.select()},L.Pather.Polyline.prototype={select:function(){this.attachElbows()},deselect:function(){this.manipulating=!1},attachElbows:function(){this.detachElbows(),this.polyline._parts[0].forEach(function(e){var n=new L.DivIcon({className:this.options.elbowClass}),r=this.map.layerPointToLatLng(e),i=new L.Marker(r,{icon:n}).addTo(this.map);i[t]={point:e},this.attachElbowEvents(i),this.edges.push(i)}.bind(this))},detachElbows:function(){this.edges.forEach(function(t){this.map.removeLayer(t)}.bind(this)),this.edges.length=0},attachPolylineEvents:function(t){t.on("click",function(t){if(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault(),this.methods.mode()&L.Pather.MODE.APPEND){var e=this.map.mouseEventToLatLng(t.originalEvent);this.insertElbow(e)}else this.methods.mode()&L.Pather.MODE.DELETE&&this.methods.remove(this)}.bind(this))},attachElbowEvents:function(t){t.on("mousedown",function(e){e=e.originalEvent||e,this.methods.mode()&L.Pather.MODE.EDIT&&(e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),this.manipulating=t)}.bind(this)),t.on("mouseup",(function(t){(t=t.originalEvent||t).stopPropagation&&(t.stopPropagation(),t.preventDefault()),this.manipulating=!1})),t._icon.addEventListener("touchstart",t.fire.bind(t,"mousedown")),t._icon.addEventListener("touchend",t.fire.bind(t,"mouseup"))},insertElbow:function(t){var e=this.map.latLngToLayerPoint(t),n=1/0,r=-1,i=this.polyline._parts[0];i.forEach(function(t,o){var s=i[o+1]||i[0],a=L.LineUtil.pointToSegmentDistance(e,t,s);n>a&&(n=a,r=o)}.bind(this)),i.splice(r+1,0,e);var o=i.map(function(t){return{_latlng:this.map.layerPointToLatLng(t)}}.bind(this));this.redraw(o),this.attachElbows()},moveTo:function(t){var e=this.map.layerPointToLatLng(t);this.manipulating.setLatLng(e),this.redraw(this.edges)},finished:function(){this.methods.fire("edited",{polyline:this,latLngs:this.getLatLngs()})},redraw:function(t){var e=[],n={};t.forEach((function(t){e.push(t._latlng)})),Object.keys(this.options).forEach(function(t){n[t]=this.options[t]}.bind(this)),n.smoothFactor=0,this.softRemove(!1),this.polyline=new L.Polyline(e,n).addTo(this.map),this.attachPolylineEvents(this.polyline)},softRemove:function(t){t="undefined"==typeof t||t,this.map.removeLayer(this.polyline),t&&this.edges.forEach(function(t){this.map.removeLayer(t)}.bind(this))},getLatLngs:function(){return this.polyline._parts[0].map(function(t){return this.map.layerPointToLatLng(t)}.bind(this))}}}()},function(t,e,n){"use strict";var r=n(13),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,h=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(h=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:h,props:o,_owner:s.current}}e.jsx=l,e.jsxs=l},function(t,e,n){},,,function(t,e,n){"use strict";n(8);function r(t,e,n){if(null!==t)for(var i,o,s,a,u,l,h,c,f=0,p=0,d=t.type,g="FeatureCollection"===d,y="Feature"===d,_=g?t.features.length:1,m=0;m<_;m++){u=(c=!!(h=g?t.features[m].geometry:y?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var v=0;v<u;v++){var b=0,x=0;if(null!==(a=c?h.geometries[v]:h)){l=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(l,p,m,b,x))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],p,m,b,x))return!1;p++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(o=0;o<l[i].length-f;o++){if(!1===e(l[i][o],p,m,b,x))return!1;p++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(x=0,o=0;o<l[i].length;o++){for(s=0;s<l[i][o].length-f;s++){if(!1===e(l[i][o][s],p,m,b,x))return!1;p++}x++}b++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===r(a.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t){var e=[1/0,1/0,-1/0,-1/0];return r(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}i.default=i;n(15)}]]);
//# sourceMappingURL=2.3a06224c.chunk.js.map